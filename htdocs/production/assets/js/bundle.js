var Stats=function(){var e,t,i,n,r,a,o,s,l=0,u=0,c=Date.now(),h=c,d=c,p=0,f=1e3,m=0,v=[[16,16,48],[0,255,255]],g=0,y=1e3,_=0,b=[[16,48,16],[0,255,0]];for(e=document.createElement("div"),e.style.cursor="pointer",e.style.width="80px",e.style.opacity="0.9",e.style.zIndex="10001",e.addEventListener("mousedown",function(e){e.preventDefault(),l=(l+1)%2,0==l?(i.style.display="block",a.style.display="none"):(i.style.display="none",a.style.display="block")},!1),i=document.createElement("div"),i.style.textAlign="left",i.style.lineHeight="1.2em",i.style.backgroundColor="rgb("+Math.floor(v[0][0]/2)+","+Math.floor(v[0][1]/2)+","+Math.floor(v[0][2]/2)+")",i.style.padding="0 0 3px 3px",e.appendChild(i),n=document.createElement("div"),n.style.fontFamily="Helvetica, Arial, sans-serif",n.style.fontSize="19px",n.style.color="rgb("+v[1][0]+","+v[1][1]+","+v[1][2]+")",n.style.fontWeight="bold",n.innerHTML="FPS",i.appendChild(n),r=document.createElement("div"),r.style.position="relative",r.style.width="74px",r.style.height="30px",r.style.backgroundColor="rgb("+v[1][0]+","+v[1][1]+","+v[1][2]+")",i.appendChild(r);r.children.length<74;)t=document.createElement("span"),t.style.width="1px",t.style.height="30px",t.style.cssFloat="left",t.style.backgroundColor="rgb("+v[0][0]+","+v[0][1]+","+v[0][2]+")",r.appendChild(t);for(a=document.createElement("div"),a.style.textAlign="left",a.style.lineHeight="1.2em",a.style.backgroundColor="rgb("+Math.floor(b[0][0]/2)+","+Math.floor(b[0][1]/2)+","+Math.floor(b[0][2]/2)+")",a.style.padding="0 0 3px 3px",a.style.display="none",e.appendChild(a),o=document.createElement("div"),o.style.fontFamily="Helvetica, Arial, sans-serif",o.style.fontSize="19px",o.style.color="rgb("+b[1][0]+","+b[1][1]+","+b[1][2]+")",o.style.fontWeight="bold",o.innerHTML="MS",a.appendChild(o),s=document.createElement("div"),s.style.position="relative",s.style.width="74px",s.style.height="30px",s.style.backgroundColor="rgb("+b[1][0]+","+b[1][1]+","+b[1][2]+")",a.appendChild(s);s.children.length<74;)t=document.createElement("span"),t.style.width="1px",t.style.height=30*Math.random()+"px",t.style.cssFloat="left",t.style.backgroundColor="rgb("+b[0][0]+","+b[0][1]+","+b[0][2]+")",s.appendChild(t);return{domElement:e,update:function(){c=Date.now(),g=c-h,y=Math.min(y,g),_=Math.max(_,g),o.textContent=g+" MS ("+y+"-"+_+")";var e=Math.min(30,30-g/200*30);s.appendChild(s.firstChild).style.height=e+"px",h=c,u++,c>d+1e3&&(p=Math.round(1e3*u/(c-d)),f=Math.min(f,p),m=Math.max(m,p),n.textContent=p+" FPS ("+f+"-"+m+")",e=Math.min(30,30-p/100*30),r.appendChild(r.firstChild).style.height=e+"px",d=c,u=0)}}};/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function i(e,t,i){var n,r,a=(i=i||he).createElement("script");if(a.text=e,t)for(n in de)(r=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,r);i.head.appendChild(a).parentNode.removeChild(a)}function n(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ne[re.call(e)]||"object":typeof e}function r(e){var t=!!e&&"length"in e&&e.length,i=n(e);return!ue(e)&&!ce(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}function a(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t,i){return ue(t)?fe.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?fe.grep(e,function(e){return e===t!==i}):"string"!=typeof t?fe.grep(e,function(e){return-1<ie.call(t,e)!==i}):fe.filter(t,e,i)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){return e}function u(e){throw e}function c(e,t,i,n){var r;try{e&&ue(r=e.promise)?r.call(e).done(t).fail(i):e&&ue(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}function h(){he.removeEventListener("DOMContentLoaded",h),e.removeEventListener("load",h),fe.ready()}function d(e,t){return t.toUpperCase()}function p(e){return e.replace(Ae,"ms-").replace(Pe,d)}function f(){this.expando=fe.expando+f.uid++}function m(e,t,i){var n,r;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(De,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:ke.test(r)?JSON.parse(r):r)}catch(e){}Re.set(e,t,i)}else i=void 0;return i}function v(e,t,i,n){var r,a,o=20,s=n?function(){return n.cur()}:function(){return fe.css(e,t,"")},l=s(),u=i&&i[3]||(fe.cssNumber[t]?"":"px"),c=e.nodeType&&(fe.cssNumber[t]||"px"!==u&&+l)&&ze.exec(fe.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)fe.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,fe.style(e,t,c+u),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function g(e,t){for(var i,n,r,a,o,s,l,u=[],c=0,h=e.length;c<h;c++)(n=e[c]).style&&(i=n.style.display,t?("none"===i&&(u[c]=Le.get(n,"display")||null,u[c]||(n.style.display="")),""===n.style.display&&je(n)&&(u[c]=(l=o=a=void 0,o=(r=n).ownerDocument,s=r.nodeName,(l=He[s])||(a=o.body.appendChild(o.createElement(s)),l=fe.css(a,"display"),a.parentNode.removeChild(a),"none"===l&&(l="block"),He[s]=l)))):"none"!==i&&(u[c]="none",Le.set(n,"display",i)));for(c=0;c<h;c++)null!=u[c]&&(e[c].style.display=u[c]);return e}function y(e,t){var i;return i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&a(e,t)?fe.merge([e],i):i}function _(e,t){for(var i=0,n=e.length;i<n;i++)Le.set(e[i],"globalEval",!t||Le.get(t[i],"globalEval"))}function b(e,t,i,r,a){for(var o,s,l,u,c,h,d=t.createDocumentFragment(),p=[],f=0,m=e.length;f<m;f++)if((o=e[f])||0===o)if("object"===n(o))fe.merge(p,o.nodeType?[o]:o);else if(Ye.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=($e.exec(o)||["",""])[1].toLowerCase(),u=qe[l]||qe._default,s.innerHTML=u[1]+fe.htmlPrefilter(o)+u[2],h=u[0];h--;)s=s.lastChild;fe.merge(p,s.childNodes),(s=d.firstChild).textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",f=0;o=p[f++];)if(r&&-1<fe.inArray(o,r))a&&a.push(o);else if(c=Fe(o),s=y(d.appendChild(o),"script"),c&&_(s),i)for(h=0;o=s[h++];)Xe.test(o.type||"")&&i.push(o);return d}function x(){return!0}function w(){return!1}function T(e,t){return e===function(){try{return he.activeElement}catch(e){}}()==("focus"===t)}function E(e,t,i,n,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)E(e,s,i,n,t[s],a);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=w;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return fe().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,r,n,i)})}function M(e,t,i){i?(Le.set(e,t,!1),fe.event.add(e,t,{namespace:!1,handler:function(e){var n,r,a=Le.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(fe.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=J.call(arguments),Le.set(this,t,a),n=i(this,t),this[t](),a!==(r=Le.get(this,t))||n?Le.set(this,t,!1):r={},a!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else a.length&&(Le.set(this,t,{value:fe.event.trigger(fe.extend(a[0],fe.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Le.get(e,t)&&fe.event.add(e,t,x)}function S(e,t){return a(e,"table")&&a(11!==t.nodeType?t:t.firstChild,"tr")&&fe(e).children("tbody")[0]||e}function C(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function P(e,t){var i,n,r,a,o,s;if(1===t.nodeType){if(Le.hasData(e)&&(s=Le.get(e).events))for(r in Le.remove(t,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)fe.event.add(t,r,s[r][i]);Re.hasData(e)&&(a=Re.access(e),o=fe.extend({},a),Re.set(t,o))}}function O(e,t,n,r){t=ee(t);var a,o,s,l,u,c,h=0,d=e.length,p=d-1,f=t[0],m=ue(f);if(m||1<d&&"string"==typeof f&&!le.checkClone&&et.test(f))return e.each(function(i){var a=e.eq(i);m&&(t[0]=f.call(this,i,a.html())),O(a,t,n,r)});if(d&&(o=(a=b(t,e[0].ownerDocument,!1,e,r)).firstChild,1===a.childNodes.length&&(a=o),o||r)){for(l=(s=fe.map(y(a,"script"),C)).length;h<d;h++)u=a,h!==p&&(u=fe.clone(u,!0,!0),l&&fe.merge(s,y(u,"script"))),n.call(e[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,fe.map(s,A),h=0;h<l;h++)u=s[h],Xe.test(u.type||"")&&!Le.access(u,"globalEval")&&fe.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?fe._evalUrl&&!u.noModule&&fe._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):i(u.textContent.replace(tt,""),u,c))}return e}function L(e,t,i){for(var n,r=t?fe.filter(t,e):e,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||fe.cleanData(y(n)),n.parentNode&&(i&&Fe(n)&&_(y(n,"script")),n.parentNode.removeChild(n));return e}function R(e,t,i){var n,r,a,o,s=e.style;return(i=i||nt(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||Fe(e)||(o=fe.style(e,t)),!le.pixelBoxStyles()&&it.test(o)&&at.test(t)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){var t=fe.cssProps[e]||lt[e];return t||(e in st?e:lt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=ot.length;i--;)if((e=ot[i]+t)in st)return e}(e)||e)}function I(e,t,i){var n=ze.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function z(e,t,i,n,r,a){var o="width"===t?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=fe.css(e,i+Ne[o],!0,r)),n?("content"===i&&(l-=fe.css(e,"padding"+Ne[o],!0,r)),"margin"!==i&&(l-=fe.css(e,"border"+Ne[o]+"Width",!0,r))):(l+=fe.css(e,"padding"+Ne[o],!0,r),"padding"!==i?l+=fe.css(e,"border"+Ne[o]+"Width",!0,r):s+=fe.css(e,"border"+Ne[o]+"Width",!0,r));return!n&&0<=a&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function N(e,t,i){var n=nt(e),r=(!le.boxSizingReliable()||i)&&"border-box"===fe.css(e,"boxSizing",!1,n),o=r,s=R(e,t,n),l="offset"+t[0].toUpperCase()+t.slice(1);if(it.test(s)){if(!i)return s;s="auto"}return(!le.boxSizingReliable()&&r||!le.reliableTrDimensions()&&a(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===fe.css(e,"display",!1,n))&&e.getClientRects().length&&(r="border-box"===fe.css(e,"boxSizing",!1,n),(o=l in e)&&(s=e[l])),(s=parseFloat(s)||0)+z(e,t,i||(r?"border":"content"),o,n,s)+"px"}function B(e,t,i,n,r){return new B.prototype.init(e,t,i,n,r)}function F(){ft&&(!1===he.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(F):e.setTimeout(F,fe.fx.interval),fe.fx.tick())}function U(){return e.setTimeout(function(){pt=void 0}),pt=Date.now()}function j(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=Ne[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,i){for(var n,r=(G.tweeners[t]||[]).concat(G.tweeners["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,t,e))return n}function G(e,t,i){var n,r,a=0,o=G.prefilters.length,s=fe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=pt||U(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),a=0,o=u.tweens.length;a<o;a++)u.tweens[a].run(n);return s.notifyWith(e,[u,n,i]),n<1&&o?i:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},i),originalProperties:t,originalOptions:i,startTime:pt||U(),duration:i.duration,tweens:[],createTween:function(t,i){var n=fe.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for((!function(e,t){var i,n,r,a,o;for(i in e)if(r=t[n=p(i)],a=e[i],Array.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(o=fe.cssHooks[n])&&"expand"in o)for(i in a=o.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=r);else t[n]=r}(c,u.opts.specialEasing));a<o;a++)if(n=G.prefilters[a].call(u,e,c,u.opts))return ue(n.stop)&&(fe._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return fe.map(c,H,u),ue(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),fe.fx.timer(fe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function V(e){return(e.match(Ee)||[]).join(" ")}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function $(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Ee)||[]}function X(e,t,i,r){var a;if(Array.isArray(t))fe.each(t,function(t,n){i||Pt.test(e)?r(e,n):X(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,r)});else if(i||"object"!==n(t))r(e,t);else for(a in t)X(e+"["+a+"]",t[a],i,r)}function q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,a=t.toLowerCase().match(Ee)||[];if(ue(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Y(e,t,i,n){function r(s){var l;return a[s]=!0,fe.each(e[s]||[],function(e,s){var u=s(t,i,n);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=e===Ut;return r(t.dataTypes[0])||!a["*"]&&r("*")}function Z(e,t){var i,n,r=fe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&fe.extend(!0,e,n),e}var Q=[],K=Object.getPrototypeOf,J=Q.slice,ee=Q.flat?function(e){return Q.flat.call(e)}:function(e){return Q.concat.apply([],e)},te=Q.push,ie=Q.indexOf,ne={},re=ne.toString,ae=ne.hasOwnProperty,oe=ae.toString,se=oe.call(Object),le={},ue=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},ce=function(e){return null!=e&&e===e.window},he=e.document,de={type:!0,src:!0,nonce:!0,noModule:!0},pe="3.5.1",fe=function(e,t){return new fe.fn.init(e,t)};fe.fn=fe.prototype={jquery:pe,constructor:fe,length:0,toArray:function(){return J.call(this)},get:function(e){return null==e?J.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(fe.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(fe.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:te,sort:Q.sort,splice:Q.splice},fe.extend=fe.fn.extend=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||ue(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(u&&n&&(fe.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[t],a=r&&!Array.isArray(i)?[]:r||fe.isPlainObject(i)?i:{},r=!1,o[t]=fe.extend(u,a,n)):void 0!==n&&(o[t]=n));return o},fe.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==re.call(e)||(t=K(e))&&("function"!=typeof(i=ae.call(t,"constructor")&&t.constructor)||oe.call(i)!==se))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){i(e,{nonce:t&&t.nonce},n)},each:function(e,t){var i,n=0;if(r(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(r(Object(e))?fe.merge(i,"string"==typeof e?[e]:e):te.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:ie.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,a=e.length,o=!i;r<a;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,a,o=0,s=[];if(r(e))for(n=e.length;o<n;o++)null!=(a=t(e[o],o,i))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,i))&&s.push(a);return ee(s)},guid:1,support:le}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=Q[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ne["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,i,n){var r,a,o,s,l,u,c,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&(O(t),t=t||L,k)){if(11!==f&&(l=ge.exec(e)))if(r=l[1]){if(9===f){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(d&&(o=d.getElementById(r))&&N(t,o)&&o.id===r)return i.push(o),i}else{if(l[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(r)),i}if(b.qsa&&!W[e+" "]&&(!D||!D.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(c=e,d=t,1===f&&(ue.test(e)||le.test(e))){for((d=ye.test(e)&&h(t.parentNode)||t)===t&&b.scope||((s=t.getAttribute("id"))?s=s.replace(xe,we):t.setAttribute("id",s=B)),a=(u=E(e)).length;a--;)u[a]=(s?"#"+s:":scope")+" "+p(u[a]);c=u.join(",")}try{return Q.apply(i,d.querySelectorAll(c)),i}catch(t){W(e,!0)}finally{s===B&&t.removeAttribute("id")}}}return S(e.replace(oe,"$1"),t,i,n)}function i(){var e=[];return function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}}function n(e){return e[B]=!0,e}function r(e){var t=L.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var i=e.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var r,a=e([],i.length,t),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))})})}function h(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=t.next,a=r||n,o=i&&"parentNode"===a,s=j++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r);return!1}:function(t,i,l){var u,c,h,d=[U,s];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(c=(h=t[B]||(t[B]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[a])&&u[0]===U&&u[1]===s)return d[2]=u[2];if((c[a]=d)[2]=e(t,i,l))return!0}return!1}}function m(e){return 1<e.length?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function v(e,t,i,n,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(i&&!i(a,n,r)||(o.push(a),u&&t.push(s)));return o}function g(e,i,r,a,o,s){return a&&!a[B]&&(a=g(a)),o&&!o[B]&&(o=g(o,s)),n(function(n,s,l,u){var c,h,d,p=[],f=[],m=s.length,g=n||function(e,i,n){for(var r=0,a=i.length;r<a;r++)t(e,i[r],n);return n}(i||"*",l.nodeType?[l]:l,[]),y=!e||!n&&i?g:v(g,p,e,l,u),_=r?o||(n?e:m||a)?[]:s:y;if(r&&r(y,_,l,u),a)for(c=v(_,f),a(c,[],l,u),h=c.length;h--;)(d=c[h])&&(_[f[h]]=!(y[f[h]]=d));if(n){if(o||e){if(o){for(c=[],h=_.length;h--;)(d=_[h])&&c.push(y[h]=d);o(null,_=[],c,u)}for(h=_.length;h--;)(d=_[h])&&-1<(c=o?J(n,d):p[h])&&(n[c]=!(s[c]=d))}}else _=v(_===s?_.splice(m,_.length):_),o?o(null,s,_,u):Q.apply(s,_)})}function y(e){for(var t,i,n,r=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=f(function(e){return e===t},o,!0),u=f(function(e){return-1<J(t,e)},o,!0),c=[function(e,i,n){var r=!a&&(n||i!==C)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r}];s<r;s++)if(i=x.relative[e[s].type])c=[f(m(c),i)];else{if((i=x.filter[e[s].type].apply(null,e[s].matches))[B]){for(n=++s;n<r&&!x.relative[e[n].type];n++);return g(1<s&&m(c),1<s&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),i,s<n&&y(e.slice(s,n)),n<r&&y(e=e.slice(n)),n<r&&p(e))}c.push(i)}return m(c)}var _,b,x,w,T,E,M,S,C,A,P,O,L,R,k,D,I,z,N,B="sizzle"+1*new Date,F=e.document,U=0,j=0,H=i(),G=i(),V=i(),W=i(),$=function(e,t){return e===t&&(P=!0),0},X={}.hasOwnProperty,q=[],Y=q.pop,Z=q.push,Q=q.push,K=q.slice,J=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ne="\\["+te+"*("+ie+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+te+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ae=new RegExp(te+"+","g"),oe=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),le=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ue=new RegExp(te+"|>"),ce=new RegExp(re),he=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/HTML$/i,fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),be=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){O()},Ee=f(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Q.apply(q=K.call(F.childNodes),F.childNodes),q[F.childNodes.length].nodeType}catch(_){Q={apply:q.length?function(e,t){Z.apply(e,K.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(_ in b=t.support={},T=t.isXML=function(e){var t=e.namespaceURI,i=(e.ownerDocument||e).documentElement;return!pe.test(t||i&&i.nodeName||"HTML")},O=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:F;return n!=L&&9===n.nodeType&&n.documentElement&&(R=(L=n).documentElement,k=!T(L),F!=L&&(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Te,!1):i.attachEvent&&i.attachEvent("onunload",Te)),b.scope=r(function(e){return R.appendChild(e).appendChild(L.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ve.test(L.getElementsByClassName),b.getById=r(function(e){return R.appendChild(e).id=B,!L.getElementsByName||!L.getElementsByName(B).length}),b.getById?(x.filter.ID=function(e){var t=e.replace(_e,be);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&k){var i=t.getElementById(e);return i?[i]:[]}}):(x.filter.ID=function(e){var t=e.replace(_e,be);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&k){var i,n,r,a=t.getElementById(e);if(a){if((i=a.getAttributeNode("id"))&&i.value===e)return[a];for(r=t.getElementsByName(e),n=0;a=r[n++];)if((i=a.getAttributeNode("id"))&&i.value===e)return[a]}return[]}}),x.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},x.find.CLASS=b.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&k)return t.getElementsByClassName(e)},I=[],D=[],(b.qsa=ve.test(L.querySelectorAll))&&(r(function(e){var t;R.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+B+"-]").length||D.push("~="),(t=L.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||D.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||D.push(".#.+[+~]"),e.querySelectorAll("\\\f"),D.push("[\\r\\n\\f]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),R.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(b.matchesSelector=ve.test(z=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){b.disconnectedMatch=z.call(e,"*"),z.call(e,"[s!='']:x"),I.push("!=",re)}),D=D.length&&new RegExp(D.join("|")),I=I.length&&new RegExp(I.join("|")),t=ve.test(R.compareDocumentPosition),N=t||ve.test(R.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return P=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!b.sortDetached&&t.compareDocumentPosition(e)===i?e==L||e.ownerDocument==F&&N(F,e)?-1:t==L||t.ownerDocument==F&&N(F,t)?1:A?J(A,e)-J(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return P=!0,0;var i,n=0,r=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!r||!a)return e==L?-1:t==L?1:r?-1:a?1:A?J(A,e)-J(A,t):0;if(r===a)return o(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?o(s[n],l[n]):s[n]==F?-1:l[n]==F?1:0}),L},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if(O(e),b.matchesSelector&&k&&!W[i+" "]&&(!I||!I.test(i))&&(!D||!D.test(i)))try{var n=z.call(e,i);if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){W(i,!0)}return 0<t(i,L,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!=L&&O(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=L&&O(e);var i=x.attrHandle[t.toLowerCase()],n=i&&X.call(x.attrHandle,t.toLowerCase())?i(e,t,!k):void 0;return void 0!==n?n:b.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(xe,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(P=!b.detectDuplicates,A=!b.sortStable&&e.slice(0),e.sort($),P){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return A=null,e},w=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=w(t);return i},(x=t.selectors={cacheLength:50,createPseudo:n,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,be),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var a=t.attr(r,e);return null==a?"!="===i:!i||(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&-1<a.indexOf(n):"$="===i?n&&a.slice(-n.length)===n:"~="===i?-1<(" "+a.replace(ae," ")+" ").indexOf(n):"|="===i&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,d,p,f,m=a!==o?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(v){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(_=(p=(u=(c=(h=(d=v)[B]||(d[B]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===U&&u[1])&&u[2],d=p&&v.childNodes[p];d=++p&&d&&d[m]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===t){c[e]=[U,p,_];break}}else if(y&&(_=p=(u=(c=(h=(d=t)[B]||(d[B]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===U&&u[1]),!1===_)for(;(d=++p&&d&&d[m]||(_=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++_||(y&&((c=(h=d[B]||(d[B]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[U,_]),d!==t)););return(_-=r)===n||_%n==0&&0<=_/n}}},PSEUDO:function(e,i){var r,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[B]?a(i):1<a.length?(r=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=J(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:n(function(e){var t=[],i=[],r=M(e.replace(oe,"$1"));return r[B]?n(function(e,t,i,n){for(var a,o=r(e,null,n,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,n,a){return t[0]=e,r(t,null,a,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return 0<t(e,i).length}}),contains:n(function(e){return e=e.replace(_e,be),function(t){return-1<(t.textContent||w(t)).indexOf(e)}}),lang:n(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,be).toLowerCase(),function(t){var i;do if(i=k?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[i<0?i+t:i]}),even:c(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=i<0?i+t:t<i?t:i;0<=--n;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,E=t.tokenize=function(e,i){var n,r,a,o,s,l,u,c=G[e+" "];if(c)return i?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){for(o in n&&!(r=se.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=le.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(oe," ")}),s=s.slice(n.length)),x.filter)!(r=de[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):G(e,l).slice(0)},M=t.compile=function(e,i){var r,a,o,s,l,u,c=[],h=[],d=V[e+" "];
if(!d){for(i||(i=E(e)),r=i.length;r--;)(d=y(i[r]))[B]?c.push(d):h.push(d);(d=V(e,(a=h,s=0<(o=c).length,l=0<a.length,u=function(e,i,n,r,u){var c,h,d,p=0,f="0",m=e&&[],g=[],y=C,_=e||l&&x.find.TAG("*",u),b=U+=null==y?1:Math.random()||.1,w=_.length;for(u&&(C=i==L||i||u);f!==w&&null!=(c=_[f]);f++){if(l&&c){for(h=0,i||c.ownerDocument==L||(O(c),n=!k);d=a[h++];)if(d(c,i||L,n)){r.push(c);break}u&&(U=b)}s&&((c=!d&&c)&&p--,e&&m.push(c))}if(p+=f,s&&f!==p){for(h=0;d=o[h++];)d(m,g,i,n);if(e){if(0<p)for(;f--;)m[f]||g[f]||(g[f]=Y.call(r));g=v(g)}Q.apply(r,g),u&&!e&&0<g.length&&1<p+o.length&&t.uniqueSort(r)}return u&&(U=b,C=y),m},s?n(u):u))).selector=e}return d},S=t.select=function(e,t,i,n){var r,a,o,s,l,u="function"==typeof e&&e,c=!n&&E(e=u.selector||e);if(i=i||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&k&&x.relative[a[1].type]){if(!(t=(x.find.ID(o.matches[0].replace(_e,be),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=de.needsContext.test(e)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(n=l(o.matches[0].replace(_e,be),ye.test(a[0].type)&&h(t.parentNode)||t))){if(a.splice(r,1),!(e=n.length&&p(a)))return Q.apply(i,n),i;break}}return(u||M(e,c))(n,t,!k,i,!t||ye.test(e)&&h(t.parentNode)||t),i},b.sortStable=B.split("").sort($).join("")===B,b.detectDuplicates=!!P,O(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(ee,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);fe.find=me,fe.expr=me.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=me.uniqueSort,fe.text=me.getText,fe.isXMLDoc=me.isXML,fe.contains=me.contains,fe.escapeSelector=me.escape;var ve=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(i))break;n.push(e)}return n},ge=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},ye=fe.expr.match.needsContext,_e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;fe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?fe.find.matchesSelector(n,e)?[n]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<n;t++)if(fe.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)fe.find(e,r[t],i);return 1<n?fe.uniqueSort(i):i},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&ye.test(e)?fe(e):e||[],!1).length}});var be,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(fe.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||be,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:xe.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),_e.test(n[1])&&fe.isPlainObject(t))for(n in t)ue(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=he.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ue(e)?void 0!==i.ready?i.ready(e):e(fe):fe.makeArray(e,this)}).prototype=fe.fn,be=fe(he);var we=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t=fe(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(fe.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,a=[],o="string"!=typeof e&&fe(e);if(!ye.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&fe.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(1<a.length?fe.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?ie.call(fe(e),this[0]):ie.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,i){return ve(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,i){return ve(e,"nextSibling",i)},prevUntil:function(e,t,i){return ve(e,"previousSibling",i)},siblings:function(e){return ge((e.parentNode||{}).firstChild,e)},children:function(e){return ge(e.firstChild)},contents:function(e){return null!=e.contentDocument&&K(e.contentDocument)?e.contentDocument:(a(e,"template")&&(e=e.content||e),fe.merge([],e.childNodes))}},function(e,t){fe.fn[e]=function(i,n){var r=fe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=fe.filter(n,r)),1<this.length&&(Te[e]||fe.uniqueSort(r),we.test(e)&&r.reverse()),this.pushStack(r)}});var Ee=/[^\x20\t\r\n\f]+/g;fe.Callbacks=function(e){var t,i;e="string"==typeof e?(t=e,i={},fe.each(t.match(Ee)||[],function(e,t){i[t]=!0}),i):fe.extend({},e);var r,a,o,s,l=[],u=[],c=-1,h=function(){for(s=s||e.once,o=r=!0;u.length;c=-1)for(a=u.shift();++c<l.length;)!1===l[c].apply(a[0],a[1])&&e.stopOnFalse&&(c=l.length,a=!1);e.memory||(a=!1),r=!1,s&&(l=a?[]:"")},d={add:function(){return l&&(a&&!r&&(c=l.length-1,u.push(a)),function t(i){fe.each(i,function(i,r){ue(r)?e.unique&&d.has(r)||l.push(r):r&&r.length&&"string"!==n(r)&&t(r)})}(arguments),a&&!r&&h()),this},remove:function(){return fe.each(arguments,function(e,t){for(var i;-1<(i=fe.inArray(t,l,i));)l.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<fe.inArray(e,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return s=u=[],l=a="",this},disabled:function(){return!l},lock:function(){return s=u=[],a||r||(l=a=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),r||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},fe.extend({Deferred:function(t){var i=[["notify","progress",fe.Callbacks("memory"),fe.Callbacks("memory"),2],["resolve","done",fe.Callbacks("once memory"),fe.Callbacks("once memory"),0,"resolved"],["reject","fail",fe.Callbacks("once memory"),fe.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},"catch":function(e){return r.then(null,e)},pipe:function(){var e=arguments;return fe.Deferred(function(t){fe.each(i,function(i,n){var r=ue(e[n[4]])&&e[n[4]];a[n[1]](function(){var e=r&&r.apply(this,arguments);e&&ue(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,n,r){function a(t,i,n,r){return function(){var s=this,c=arguments,h=function(){var e,h;if(!(t<o)){if((e=n.apply(s,c))===i.promise())throw new TypeError("Thenable self-resolution");h=e&&("object"==typeof e||"function"==typeof e)&&e.then,ue(h)?r?h.call(e,a(o,i,l,r),a(o,i,u,r)):(o++,h.call(e,a(o,i,l,r),a(o,i,u,r),a(o,i,l,i.notifyWith))):(n!==l&&(s=void 0,c=[e]),(r||i.resolveWith)(s,c))}},d=r?h:function(){try{e()}catch(e){fe.Deferred.exceptionHook&&fe.Deferred.exceptionHook(e,d.stackTrace),o<=t+1&&(n!==u&&(s=void 0,c=[e]),i.rejectWith(s,c))}};t?d():(fe.Deferred.getStackHook&&(d.stackTrace=fe.Deferred.getStackHook()),e.setTimeout(d))}}var o=0;return fe.Deferred(function(e){i[0][3].add(a(0,e,ue(r)?r:l,e.notifyWith)),i[1][3].add(a(0,e,ue(t)?t:l)),i[2][3].add(a(0,e,ue(n)?n:u))}).promise()},promise:function(e){return null!=e?fe.extend(e,r):r}},a={};return fe.each(i,function(e,t){var o=t[2],s=t[5];r[t[1]]=o.add,s&&o.add(function(){n=s},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,i=t,n=Array(i),r=J.call(arguments),a=fe.Deferred(),o=function(e){return function(i){n[e]=this,r[e]=1<arguments.length?J.call(arguments):i,--t||a.resolveWith(n,r)}};if(t<=1&&(c(e,a.done(o(i)).resolve,a.reject,!t),"pending"===a.state()||ue(r[i]&&r[i].then)))return a.then();for(;i--;)c(r[i],o(i),a.reject);return a.promise()}});var Me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;fe.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Me.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},fe.readyException=function(t){e.setTimeout(function(){throw t})};var Se=fe.Deferred();fe.fn.ready=function(e){return Se.then(e)["catch"](function(e){fe.readyException(e)}),this},fe.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0)!==e&&0<--fe.readyWait||Se.resolveWith(he,[fe])}}),fe.ready.then=Se.then,"complete"===he.readyState||"loading"!==he.readyState&&!he.documentElement.doScroll?e.setTimeout(fe.ready):(he.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h));var Ce=function(e,t,i,r,a,o,s){var l=0,u=e.length,c=null==i;if("object"===n(i))for(l in a=!0,i)Ce(e,t,l,i[l],!0,o,s);else if(void 0!==r&&(a=!0,ue(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,i){return c.call(fe(e),i)})),t))for(;l<u;l++)t(e[l],i,s?r:r.call(e[l],l,t(e[l],i)));return a?e:c?t.call(e):u?t(e[0],i):o},Ae=/^-ms-/,Pe=/-([a-z])/g,Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[p(t)]=i;else for(n in t)r[p(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][p(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(p):(t=p(t))in n?[t]:t.match(Ee)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||fe.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!fe.isEmptyObject(t)}};var Le=new f,Re=new f,ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/[A-Z]/g;fe.extend({hasData:function(e){return Re.hasData(e)||Le.hasData(e)},data:function(e,t,i){return Re.access(e,t,i)},removeData:function(e,t){Re.remove(e,t)},_data:function(e,t,i){return Le.access(e,t,i)},_removeData:function(e,t){Le.remove(e,t)}}),fe.fn.extend({data:function(e,t){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=Re.get(a),1===a.nodeType&&!Le.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=p(n.slice(5)),m(a,n,r[n]));Le.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Re.set(this,e)}):Ce(this,function(t){var i;return a&&void 0===t?void 0!==(i=Re.get(a,e))?i:void 0!==(i=m(a,e))?i:void 0:void this.each(function(){Re.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Re.remove(this,e)})}}),fe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Le.get(e,t),i&&(!n||Array.isArray(i)?n=Le.access(e,t,fe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=fe.queue(e,t),n=i.length,r=i.shift(),a=fe._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,function(){fe.dequeue(e,t)},a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Le.get(e,i)||Le.access(e,i,{empty:fe.Callbacks("once memory").add(function(){Le.remove(e,[t+"queue",i])})})}}),fe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?fe.queue(this[0],e):void 0===t?this:this.each(function(){var i=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=fe.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=Le.get(a[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),Ne=["Top","Right","Bottom","Left"],Be=he.documentElement,Fe=function(e){return fe.contains(e.ownerDocument,e)},Ue={composed:!0};Be.getRootNode&&(Fe=function(e){return fe.contains(e.ownerDocument,e)||e.getRootNode(Ue)===e.ownerDocument});var je=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&Fe(e)&&"none"===fe.css(e,"display")},He={};fe.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?fe(this).show():fe(this).hide()})}});var Ge,Ve,We=/^(?:checkbox|radio)$/i,$e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Xe=/^$|^module$|\/(?:java|ecma)script/i;Ge=he.createDocumentFragment().appendChild(he.createElement("div")),(Ve=he.createElement("input")).setAttribute("type","radio"),Ve.setAttribute("checked","checked"),Ve.setAttribute("name","t"),Ge.appendChild(Ve),le.checkClone=Ge.cloneNode(!0).cloneNode(!0).lastChild.checked,Ge.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!Ge.cloneNode(!0).lastChild.defaultValue,Ge.innerHTML="<option></option>",le.option=!!Ge.lastChild;var qe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,le.option||(qe.optgroup=qe.option=[1,"<select multiple='multiple'>","</select>"]);var Ye=/<|&#?\w+;/,Ze=/^key/,Qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ke=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,i,n,r){var a,o,s,l,u,c,h,d,p,f,m,v=Le.get(e);if(Oe(e))for(i.handler&&(i=(a=i).handler,r=a.selector),r&&fe.find.matchesSelector(Be,r),i.guid||(i.guid=fe.guid++),(l=v.events)||(l=v.events=Object.create(null)),(o=v.handle)||(o=v.handle=function(t){return"undefined"!=typeof fe&&fe.event.triggered!==t.type?fe.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Ee)||[""]).length;u--;)p=m=(s=Ke.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=fe.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=fe.event.special[p]||{},c=fe.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:f.join(".")},a),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),fe.event.global[p]=!0)},remove:function(e,t,i,n,r){var a,o,s,l,u,c,h,d,p,f,m,v=Le.hasData(e)&&Le.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(Ee)||[""]).length;u--;)if(p=m=(s=Ke.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=fe.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!r&&m!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||fe.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)fe.event.remove(e,p+t[u],i,n,!0);fe.isEmptyObject(l)&&Le.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,a,o,s=new Array(arguments.length),l=fe.event.fix(e),u=(Le.get(this,"events")||Object.create(null))[l.type]||[],c=fe.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=fe.event.handlers.call(this,l,u),t=0;(r=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((fe.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,r,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},i=0;i<l;i++)void 0===o[r=(n=t[i]).selector+" "]&&(o[r]=n.needsContext?-1<fe(r,this).index(u):fe.find(r,this,null,[u]).length),o[r]&&a.push(n);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(fe.Event.prototype,e,{enumerable:!0,configurable:!0,get:ue(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[fe.expando]?e:new fe.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return We.test(t.type)&&t.click&&a(t,"input")&&M(t,"click",x),!1},trigger:function(e){var t=this||e;return We.test(t.type)&&t.click&&a(t,"input")&&M(t,"click"),!0},_default:function(e){var t=e.target;return We.test(t.type)&&t.click&&a(t,"input")&&Le.get(t,"click")||a(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},fe.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[fe.expando]=!0,void 0):new fe.Event(e,t)},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ze.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Qe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},fe.event.addProp),fe.each({focus:"focusin",blur:"focusout"},function(e,t){fe.event.special[e]={setup:function(){return M(this,e,T),!1},trigger:function(){return M(this,e),!0},delegateType:t}}),fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||fe.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),fe.fn.extend({on:function(e,t,i,n){return E(this,e,t,i,n)},one:function(e,t,i,n){return E(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,fe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=w),this.each(function(){fe.event.remove(this,e,i,t)})}});var Je=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fe.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,r,a,o,s,l,u,c=e.cloneNode(!0),h=Fe(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(o=y(c),n=0,r=(a=y(e)).length;n<r;n++)s=a[n],l=o[n],"input"===(u=l.nodeName.toLowerCase())&&We.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(i)for(a=a||y(e),o=o||y(c),n=0,r=a.length;n<r;n++)P(a[n],o[n]);else P(e,c);return 0<(o=y(c,"script")).length&&_(o,!h&&y(e,"script")),c},cleanData:function(e){for(var t,i,n,r=fe.event.special,a=0;void 0!==(i=e[a]);a++)if(Oe(i)){if(t=i[Le.expando]){if(t.events)for(n in t.events)r[n]?fe.event.remove(i,n):fe.removeEvent(i,n,t.handle);i[Le.expando]=void 0}i[Re.expando]&&(i[Re.expando]=void 0)}}}),fe.fn.extend({detach:function(e){return L(this,e,!0)},remove:function(e){return L(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?fe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return O(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||S(this,e).appendChild(e)})},prepend:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(fe.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!qe[($e.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(fe.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return O(this,arguments,function(t){var i=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(y(this)),i&&i.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var i,n=[],r=fe(e),a=r.length-1,o=0;o<=a;o++)i=o===a?this:this.clone(!0),fe(r[o])[t](i),te.apply(n,i.get());return this.pushStack(n)}});var it=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),nt=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},rt=function(e,t,i){var n,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in n=i.call(e),t)e.style[r]=a[r];return n},at=new RegExp(Ne.join("|"),"i");!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Be.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);n="1%"!==t.top,l=12===i(t.marginLeft),c.style.right="60%",o=36===i(t.right),r=36===i(t.width),c.style.position="absolute",a=12===i(c.offsetWidth/3),Be.removeChild(u),c=null}}function i(e){return Math.round(parseFloat(e))}var n,r,a,o,s,l,u=he.createElement("div"),c=he.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===c.style.backgroundClip,fe.extend(le,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,i,n,r;return null==s&&(t=he.createElement("table"),i=he.createElement("tr"),n=he.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",n.style.height="9px",Be.appendChild(t).appendChild(i).appendChild(n),r=e.getComputedStyle(i),s=3<parseInt(r.height),Be.removeChild(t)),s}}))}();var ot=["Webkit","Moz","ms"],st=he.createElement("div").style,lt={},ut=/^(none|table(?!-c[ea]).+)/,ct=/^--/,ht={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"};fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=R(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=p(t),l=ct.test(t),u=e.style;if(l||(t=D(s)),o=fe.cssHooks[t]||fe.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:u[t];"string"==(a=typeof i)&&(r=ze.exec(i))&&r[1]&&(i=v(e,t,r),a="number"),null!=i&&i==i&&("number"!==a||l||(i+=r&&r[3]||(fe.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==i||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?u.setProperty(t,i):u[t]=i))}},css:function(e,t,i,n){var r,a,o,s=p(t);return ct.test(t)||(t=D(s)),(o=fe.cssHooks[t]||fe.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=R(e,t,n)),"normal"===r&&t in dt&&(r=dt[t]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,i,n){if(i)return!ut.test(fe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?N(e,t,n):rt(e,ht,function(){return N(e,t,n)})},set:function(e,i,n){var r,a=nt(e),o=!le.scrollboxSize()&&"absolute"===a.position,s=(o||n)&&"border-box"===fe.css(e,"boxSizing",!1,a),l=n?z(e,t,n,s,a):0;return s&&o&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-z(e,t,"border",!1,a)-.5)),l&&(r=ze.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=fe.css(e,t)),I(0,i,l)}}}),fe.cssHooks.marginLeft=k(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-rt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Ne[n]+t]=a[n]||a[n-2]||a[0];return r}},"margin"!==e&&(fe.cssHooks[e+t].set=I)}),fe.fn.extend({css:function(e,t){return Ce(this,function(e,t,i){var n,r,a={},o=0;if(Array.isArray(t)){for(n=nt(e),r=t.length;o<r;o++)a[t[o]]=fe.css(e,t[o],!1,n);return a}return void 0!==i?fe.style(e,t,i):fe.css(e,t)},e,t,1<arguments.length)}}),((fe.Tween=B).prototype={constructor:B,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(fe.cssNumber[i]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,i=B.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}}).init.prototype=B.prototype,(B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||!fe.cssHooks[e.prop]&&null==e.elem.style[D(e.prop)]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=B.prototype.init,fe.fx.step={};var pt,ft,mt,vt,gt=/^(?:toggle|show|hide)$/,yt=/queueHooks$/;fe.Animation=fe.extend(G,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return v(i.elem,e,ze.exec(t),i),i}]},tweener:function(e,t){ue(e)?(t=e,e=["*"]):e=e.match(Ee);for(var i,n=0,r=e.length;n<r;n++)i=e[n],G.tweeners[i]=G.tweeners[i]||[],G.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,a,o,s,l,u,c,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&je(e),v=Le.get(e,"fxshow");for(n in i.queue||(null==(o=fe._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,fe.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[n],gt.test(r)){if(delete t[n],a=a||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;m=!0}p[n]=v&&v[n]||fe.style(e,n)}if((l=!fe.isEmptyObject(t))||!fe.isEmptyObject(p))for(n in h&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=Le.get(e,"display")),"none"===(c=fe.css(e,"display"))&&(u?c=u:(g([e],!0),u=e.style.display||u,c=fe.css(e,"display"),g([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===fe.css(e,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(v?"hidden"in v&&(m=v.hidden):v=Le.access(e,"fxshow",{display:u}),a&&(v.hidden=!m),m&&g([e],!0),d.done(function(){for(n in m||g([e]),Le.remove(e,"fxshow"),p)fe.style(e,n,p[n])})),l=H(m?v[n]:0,n,d),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),fe.speed=function(e,t,i){var n=e&&"object"==typeof e?fe.extend({},e):{complete:i||!i&&t||ue(e)&&e,duration:e,easing:i&&t||t&&!ue(t)&&t};return fe.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in fe.fx.speeds?n.duration=fe.fx.speeds[n.duration]:n.duration=fe.fx.speeds._default),
null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){ue(n.old)&&n.old.call(this),n.queue&&fe.dequeue(this,n.queue)},n},fe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=fe.isEmptyObject(e),a=fe.speed(t,i,n),o=function(){var t=G(this,fe.extend({},e),a);(r||Le.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=fe.timers,o=Le.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&yt.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(i),t=!1,a.splice(r,1));!t&&i||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Le.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=fe.timers,o=n?n.length:0;for(i.finish=!0,fe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var i=fe.fn[t];fe.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(j(t,!0),e,n,r)}}),fe.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),fe.timers=[],fe.fx.tick=function(){var e,t=0,i=fe.timers;for(pt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||fe.fx.stop(),pt=void 0},fe.fx.timer=function(e){fe.timers.push(e),fe.fx.start()},fe.fx.interval=13,fe.fx.start=function(){ft||(ft=!0,F())},fe.fx.stop=function(){ft=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,i){return t=fe.fx&&fe.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},mt=he.createElement("input"),vt=he.createElement("select").appendChild(he.createElement("option")),mt.type="checkbox",le.checkOn=""!==mt.value,le.optSelected=vt.selected,(mt=he.createElement("input")).value="t",mt.type="radio",le.radioValue="t"===mt.value;var _t,bt=fe.expr.attrHandle;fe.fn.extend({attr:function(e,t){return Ce(this,fe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?fe.prop(e,t,i):(1===a&&fe.isXMLDoc(e)||(r=fe.attrHooks[t.toLowerCase()]||(fe.expr.match.bool.test(t)?_t:void 0)),void 0!==i?null===i?void fe.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=fe.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&a(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(Ee);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),_t={set:function(e,t,i){return!1===t?fe.removeAttr(e,i):e.setAttribute(i,i),i}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=bt[t]||fe.find.attr;bt[t]=function(e,t,n){var r,a,o=t.toLowerCase();return n||(a=bt[o],bt[o]=r,r=null!=i(e,t,n)?o:null,bt[o]=a),r}});var xt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Ce(this,fe.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[fe.propFix[e]||e]})}}),fe.extend({prop:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),fe.fn.extend({addClass:function(e){var t,i,n,r,a,o,s,l=0;if(ue(e))return this.each(function(t){fe(this).addClass(e.call(this,t,W(this)))});if((t=$(e)).length)for(;i=this[l++];)if(r=W(i),n=1===i.nodeType&&" "+V(r)+" "){for(o=0;a=t[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");r!==(s=V(n))&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,r,a,o,s,l=0;if(ue(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if((t=$(e)).length)for(;i=this[l++];)if(r=W(i),n=1===i.nodeType&&" "+V(r)+" "){for(o=0;a=t[o++];)for(;-1<n.indexOf(" "+a+" ");)n=n.replace(" "+a+" "," ");r!==(s=V(n))&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):ue(e)?this.each(function(i){fe(this).toggleClass(e.call(this,i,W(this),t),t)}):this.each(function(){var t,r,a,o;if(n)for(r=0,a=fe(this),o=$(e);t=o[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==i||((t=W(this))&&Le.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Le.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+V(W(i))+" ").indexOf(t))return!0;return!1}});var Tt=/\r/g;fe.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=ue(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,fe(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=fe.map(r,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=fe.valHooks[r.type]||fe.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Tt,""):null==i?"":i:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:V(fe.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,s="select-one"===e.type,l=s?null:[],u=s?o+1:r.length;for(n=o<0?u:s?o:0;n<u;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!a(i.parentNode,"optgroup"))){if(t=fe(i).val(),s)return t;l.push(t)}return l},set:function(e,t){for(var i,n,r=e.options,a=fe.makeArray(t),o=r.length;o--;)((n=r[o]).selected=-1<fe.inArray(fe.valHooks.option.get(n),a))&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<fe.inArray(fe(e).val(),t)}},le.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),le.focusin="onfocusin"in e;var Et=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};fe.extend(fe.event,{trigger:function(t,i,n,r){var a,o,s,l,u,c,h,d,p=[n||he],f=ae.call(t,"type")?t.type:t,m=ae.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=n=n||he,3!==n.nodeType&&8!==n.nodeType&&!Et.test(f+fe.event.triggered)&&(-1<f.indexOf(".")&&(f=(m=f.split(".")).shift(),m.sort()),u=f.indexOf(":")<0&&"on"+f,(t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:fe.makeArray(i,[t]),h=fe.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(n,i))){if(!r&&!h.noBubble&&!ce(n)){for(l=h.delegateType||f,Et.test(l+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(n.ownerDocument||he)&&p.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=p[a++])&&!t.isPropagationStopped();)d=o,t.type=1<a?l:h.bindType||f,(c=(Le.get(o,"events")||Object.create(null))[t.type]&&Le.get(o,"handle"))&&c.apply(o,i),(c=u&&o[u])&&c.apply&&Oe(o)&&(t.result=c.apply(o,i),!1===t.result&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),i)||!Oe(n)||u&&ue(n[f])&&!ce(n)&&((s=n[u])&&(n[u]=null),fe.event.triggered=f,t.isPropagationStopped()&&d.addEventListener(f,Mt),n[f](),t.isPropagationStopped()&&d.removeEventListener(f,Mt),fe.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(e,t,i){var n=fe.extend(new fe.Event,i,{type:e,isSimulated:!0});fe.event.trigger(n,null,t)}}),fe.fn.extend({trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return fe.event.trigger(e,t,i,!0)}}),le.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,r=Le.access(n,t);r||n.addEventListener(e,i,!0),Le.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=Le.access(n,t)-1;r?Le.access(n,t,r):(n.removeEventListener(e,i,!0),Le.remove(n,t))}}});var St=e.location,Ct={guid:Date.now()},At=/\?/;fe.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),i};var Pt=/\[\]$/,Ot=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var i,n=[],r=function(e,t){var i=ue(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value)});else for(i in e)X(i,e[i],t,r);return n.join("&")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&Rt.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!We.test(e))}).map(function(e,t){var i=fe(this).val();return null==i?null:Array.isArray(i)?fe.map(i,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:i.replace(Ot,"\r\n")}}).get()}});var kt=/%20/g,Dt=/#.*$/,It=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ft={},Ut={},jt="*/".concat("*"),Ht=he.createElement("a");Ht.href=St.href,fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Z(Z(e,fe.ajaxSettings),t):Z(fe.ajaxSettings,e)},ajaxPrefilter:q(Ft),ajaxTransport:q(Ut),ajax:function(t,i){function n(t,i,n,s){var u,d,p,b,x,w=i;c||(c=!0,l&&e.clearTimeout(l),r=void 0,o=s||"",T.readyState=0<t?4:0,u=200<=t&&t<300||304===t,n&&(b=function(e,t,i){for(var n,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}(f,T,n)),!u&&-1<fe.inArray("script",f.dataTypes)&&(f.converters["text script"]=function(){}),b=function(e,t,i,n){var r,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(f,b,T,u),u?(f.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(fe.lastModified[a]=x),(x=T.getResponseHeader("etag"))&&(fe.etag[a]=x)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,u=!(p=b.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),T.status=t,T.statusText=(i||w)+"",u?g.resolveWith(m,[d,w,T]):g.rejectWith(m,[T,w,p]),T.statusCode(_),_=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[T,f,u?d:p]),y.fireWith(m,[T,w]),h&&(v.trigger("ajaxComplete",[T,f]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,a,o,s,l,u,c,h,d,p,f=fe.ajaxSetup({},i),m=f.context||f,v=f.context&&(m.nodeType||m.jquery)?fe(m):fe.event,g=fe.Deferred(),y=fe.Callbacks("once memory"),_=f.statusCode||{},b={},x={},w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=zt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(g.promise(T),f.url=((t||f.url||St.href)+"").replace(Bt,St.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Ee)||[""],null==f.crossDomain){u=he.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ht.protocol+"//"+Ht.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=fe.param(f.data,f.traditional)),Y(Ft,f,i,T),c)return T;for(d in(h=fe.event&&f.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Nt.test(f.type),a=f.url.replace(Dt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(kt,"+")):(p=f.url.slice(a.length),f.data&&(f.processData||"string"==typeof f.data)&&(a+=(At.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(a=a.replace(It,"$1"),p=(At.test(a)?"&":"?")+"_="+Ct.guid++ +p),f.url=a+p),f.ifModified&&(fe.lastModified[a]&&T.setRequestHeader("If-Modified-Since",fe.lastModified[a]),fe.etag[a]&&T.setRequestHeader("If-None-Match",fe.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+jt+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,T,f)||c))return T.abort();if(w="abort",y.add(f.complete),T.done(f.success),T.fail(f.error),r=Y(Ut,f,i,T)){if(T.readyState=1,h&&v.trigger("ajaxSend",[T,f]),c)return T;f.async&&0<f.timeout&&(l=e.setTimeout(function(){T.abort("timeout")},f.timeout));try{c=!1,r.send(b,n)}catch(t){if(c)throw t;n(-1,t)}}else n(-1,"No Transport");return T},getJSON:function(e,t,i){return fe.get(e,t,i,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,i,n,r){return ue(i)&&(r=r||n,n=i,i=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:r,data:i,success:n},fe.isPlainObject(e)&&e))}}),fe.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),fe._evalUrl=function(e,t,i){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){fe.globalEval(e,t,i)}})},fe.fn.extend({wrapAll:function(e){var t;return this[0]&&(ue(e)&&(e=e.call(this[0])),t=fe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ue(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue(e);return this.each(function(i){fe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){fe(this).replaceWith(this.childNodes)}),this}}),fe.expr.pseudos.hidden=function(e){return!fe.expr.pseudos.visible(e)},fe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},fe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Gt={0:200,1223:204},Vt=fe.ajaxSettings.xhr();le.cors=!!Vt&&"withCredentials"in Vt,le.ajax=Vt=!!Vt,fe.ajaxTransport(function(t){var i,n;if(le.cors||Vt&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);i=function(e){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=s.ontimeout=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{s.send(t.hasContent&&t.data||null)}catch(r){if(i)throw r}},abort:function(){i&&i()}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),fe.ajaxTransport("script",function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,r){t=fe("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),he.head.appendChild(t[0])},abort:function(){i&&i()}}});var Wt,$t=[],Xt=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||fe.expando+"_"+Ct.guid++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,i,n){var r,a,o,s=!1!==t.jsonp&&(Xt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=ue(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xt,"$1"+r):!1!==t.jsonp&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||fe.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},n.always(function(){void 0===a?fe(e).removeProp(r):e[r]=a,t[r]&&(t.jsonpCallback=i.jsonpCallback,$t.push(r)),o&&ue(a)&&a(o[0]),o=a=void 0}),"script"}),le.createHTMLDocument=((Wt=he.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),fe.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(le.createHTMLDocument?((n=(t=he.implementation.createHTMLDocument("")).createElement("base")).href=he.location.href,t.head.appendChild(n)):t=he),a=!i&&[],(r=_e.exec(e))?[t.createElement(r[1])]:(r=b([e],t,a),a&&a.length&&fe(a).remove(),fe.merge([],r.childNodes)));var n,r,a},fe.fn.load=function(e,t,i){var n,r,a,o=this,s=e.indexOf(" ");return-1<s&&(n=V(e.slice(s)),e=e.slice(0,s)),ue(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&fe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(n?fe("<div>").append(fe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,a||[e.responseText,t,e])})}),this},fe.expr.pseudos.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,i){var n,r,a,o,s,l,u=fe.css(e,"position"),c=fe(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=fe.css(e,"top"),l=fe.css(e,"left"),("absolute"===u||"fixed"===u)&&-1<(a+l).indexOf("auto")?(o=(n=c.position()).top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),ue(t)&&(t=t.call(e,i,fe.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),c.css(h))}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===fe.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===fe.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=fe(e).offset()).top+=fe.css(e,"borderTopWidth",!0),r.left+=fe.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-fe.css(n,"marginTop",!0),left:t.left-r.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||Be})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;fe.fn[e]=function(n){return Ce(this,function(e,n,r){var a;return ce(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r?a?a[t]:e[n]:void(a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):e[n]=r)},e,n,arguments.length)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=k(le.pixelPosition,function(e,i){if(i)return i=R(e,t),it.test(i)?fe(e).position()[t]+"px":i})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){fe.fn[n]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===a?"margin":"border");return Ce(this,function(t,i,r){var a;return ce(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?fe.css(t,i,s):fe.style(t,i,r,s)},t,o?r:void 0,o)}})}),fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),fe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,i){return 0<arguments.length?this.on(t,null,e,i):this.trigger(t)}});var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;fe.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),ue(e))return n=J.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(J.call(arguments)))}).guid=e.guid=e.guid||fe.guid++,r},fe.holdReady=function(e){e?fe.readyWait++:fe.ready(!0)},fe.isArray=Array.isArray,fe.parseJSON=JSON.parse,fe.nodeName=a,fe.isFunction=ue,fe.isWindow=ce,fe.camelCase=p,fe.type=n,fe.now=Date.now,fe.isNumeric=function(e){var t=fe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},fe.trim=function(e){return null==e?"":(e+"").replace(qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var Yt=e.jQuery,Zt=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=Zt),t&&e.jQuery===fe&&(e.jQuery=Yt),fe},"undefined"==typeof t&&(e.jQuery=e.$=fe),fe}),function(e,t){var i,n=e.jQuery||e.Cowboy||(e.Cowboy={});n.throttle=i=function(e,i,r,a){function o(){function n(){l=+new Date,r.apply(u,h)}function o(){s=t}var u=this,c=+new Date-l,h=arguments;a&&!s&&n(),s&&clearTimeout(s),a===t&&c>e?n():i!==!0&&(s=setTimeout(a?o:n,a===t?e-c:e))}var s,l=0;return"boolean"!=typeof i&&(a=r,r=i,i=t),n.guid&&(o.guid=r.guid=r.guid||n.guid++),o},n.debounce=function(e,n,r){return r===t?i(e,n,!1):i(e,r,n!==!1)}}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.THREE=e.THREE||{})}(this,function(e){"use strict";function t(){}function i(e,t){this.x=e||0,this.y=t||0}function n(e,t,r,a,o,s,l,u,c,h){Object.defineProperty(this,"id",{value:Os++}),this.uuid=Ps.generateUUID(),this.name="",this.image=void 0!==e?e:n.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:n.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:Eo,this.wrapT=void 0!==a?a:Eo,this.magFilter=void 0!==o?o:Po,this.minFilter=void 0!==s?s:Lo,this.anisotropy=void 0!==c?c:1,this.format=void 0!==l?l:$o,this.type=void 0!==u?u:Ro,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:_s,this.version=0,this.onUpdate=null}function r(e,t,i,n){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==n?n:1}function a(e,t,i){this.uuid=Ps.generateUUID(),this.width=e,this.height=t,this.scissor=new r(0,0,e,t),this.scissorTest=!1,this.viewport=new r(0,0,e,t),i=i||{},void 0===i.minFilter&&(i.minFilter=Po),this.texture=new n((void 0),(void 0),i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function o(e,t,i){a.call(this,e,t,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function s(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==n?n:1}function l(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0}function u(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0}function c(e,t,i,r,a,o,s,l,u,c,h,d){n.call(this,null,o,s,l,u,c,r,a,h,d),this.image={data:e,width:t,height:i},this.magFilter=void 0!==u?u:So,this.minFilter=void 0!==c?c:So,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function h(e,t,i,r,a,o,s,l,u,c){e=void 0!==e?e:[],t=void 0!==t?t:vo,n.call(this,e,t,i,r,a,o,s,l,u,c),this.flipY=!1}function d(){this.seq=[],this.map={}}function p(e,t,i){var n=e[0];if(n<=0||n>0)return e;var r=t*i,a=ks[r];if(void 0===a&&(a=new Float32Array(r),ks[r]=a),0!==t){n.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=i,e[o].toArray(a,s)}return a}function f(e,t){var i=Ds[t];void 0===i&&(i=new Int32Array(t),Ds[t]=i);for(var n=0;n!==t;++n)i[n]=e.allocTextureUnit();return i}function m(e,t){e.uniform1f(this.addr,t)}function v(e,t){e.uniform1i(this.addr,t)}function g(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function y(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function _(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function b(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function x(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(zs.set(t.elements),e.uniformMatrix3fv(this.addr,!1,zs))}function w(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(Is.set(t.elements),e.uniformMatrix4fv(this.addr,!1,Is))}function T(e,t,i){var n=i.allocTextureUnit();e.uniform1i(this.addr,n),i.setTexture2D(t||Ls,n)}function E(e,t,i){var n=i.allocTextureUnit();e.uniform1i(this.addr,n),i.setTextureCube(t||Rs,n)}function M(e,t){e.uniform2iv(this.addr,t)}function S(e,t){e.uniform3iv(this.addr,t)}function C(e,t){e.uniform4iv(this.addr,t)}function A(e){switch(e){case 5126:return m;case 35664:return g;case 35665:return y;case 35666:return _;case 35674:return b;case 35675:return x;case 35676:return w;case 35678:case 36198:return T;case 35680:return E;case 5124:case 35670:return v;case 35667:case 35671:return M;case 35668:case 35672:return S;case 35669:case 35673:return C}}function P(e,t){e.uniform1fv(this.addr,t)}function O(e,t){e.uniform1iv(this.addr,t)}function L(e,t){e.uniform2fv(this.addr,p(t,this.size,2))}function R(e,t){e.uniform3fv(this.addr,p(t,this.size,3))}function k(e,t){e.uniform4fv(this.addr,p(t,this.size,4))}function D(e,t){e.uniformMatrix2fv(this.addr,!1,p(t,this.size,4))}function I(e,t){e.uniformMatrix3fv(this.addr,!1,p(t,this.size,9))}function z(e,t){e.uniformMatrix4fv(this.addr,!1,p(t,this.size,16))}function N(e,t,i){var n=t.length,r=f(i,n);e.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTexture2D(t[a]||Ls,r[a])}function B(e,t,i){var n=t.length,r=f(i,n);e.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTextureCube(t[a]||Rs,r[a])}function F(e){switch(e){case 5126:return P;case 35664:return L;case 35665:return R;case 35666:return k;case 35674:return D;case 35675:return I;case 35676:return z;case 35678:return N;case 35680:return B;case 5124:case 35670:return O;case 35667:case 35671:return M;case 35668:case 35672:return S;case 35669:case 35673:return C}}function U(e,t,i){this.id=e,this.addr=i,this.setValue=A(t.type)}function j(e,t,i){this.id=e,this.addr=i,this.size=t.size,this.setValue=F(t.type)}function H(e){this.id=e,d.call(this)}function G(e,t){e.seq.push(t),e.map[t.id]=t}function V(e,t,i){var n=e.name,r=n.length;for(Ns.lastIndex=0;;){var a=Ns.exec(n),o=Ns.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s=0|s),void 0===u||"["===u&&o+2===r){G(i,void 0===u?new U(s,e,t):new j(s,e,t));break}var c=i.map,h=c[s];void 0===h&&(h=new H(s),G(i,h)),i=h}}function W(e,t,i){d.call(this),this.renderer=i;for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;++r){var a=e.getActiveUniform(t,r),o=a.name,s=e.getUniformLocation(t,o);V(a,s,this)}}function $(e,t,i){return void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}function X(e,t){this.min=void 0!==e?e:new i((+(1/0)),(+(1/0))),this.max=void 0!==t?t:new i((-(1/0)),(-(1/0)))}function q(e,t,n,r,a){
function o(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),i=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),c=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),m=t.createTexture(),v=t.createTexture(),n.bindTexture(t.TEXTURE_2D,m),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),n.bindTexture(t.TEXTURE_2D,v),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),h={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},d=s(h),p={vertex:t.getAttribLocation(d,"position"),uv:t.getAttribLocation(d,"uv")},f={renderType:t.getUniformLocation(d,"renderType"),map:t.getUniformLocation(d,"map"),occlusionMap:t.getUniformLocation(d,"occlusionMap"),opacity:t.getUniformLocation(d,"opacity"),color:t.getUniformLocation(d,"color"),scale:t.getUniformLocation(d,"scale"),rotation:t.getUniformLocation(d,"rotation"),screenPosition:t.getUniformLocation(d,"screenPosition")}}function s(e){var i=t.createProgram(),n=t.createShader(t.FRAGMENT_SHADER),r=t.createShader(t.VERTEX_SHADER),o="precision "+a.precision+" float;\n";return t.shaderSource(n,o+e.fragmentShader),t.shaderSource(r,o+e.vertexShader),t.compileShader(n),t.compileShader(r),t.attachShader(i,n),t.attachShader(i,r),t.linkProgram(i),i}var u,c,h,d,p,f,m,v;this.render=function(e,a,s,h){if(0!==e.length){var g=new l,y=h.w/h.z,_=.5*h.z,b=.5*h.w,x=16/h.w,w=new i(x*y,x),T=new l(1,1,0),E=new i(1,1),M=new X;M.min.set(h.x,h.y),M.max.set(h.x+(h.z-16),h.y+(h.w-16)),void 0===d&&o(),n.useProgram(d),n.initAttributes(),n.enableAttribute(p.vertex),n.enableAttribute(p.uv),n.disableUnusedAttributes(),t.uniform1i(f.occlusionMap,0),t.uniform1i(f.map,1),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(p.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(p.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),n.disable(t.CULL_FACE),n.buffers.depth.setMask(!1);for(var S=0,C=e.length;S<C;S++){x=16/h.w,w.set(x*y,x);var A=e[S];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(s.matrixWorldInverse),g.applyMatrix4(s.projectionMatrix),T.copy(g),E.x=h.x+T.x*_+_-8,E.y=h.y+T.y*b+b-8,M.containsPoint(E)===!0){n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,null),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,E.x,E.y,16,16,0),t.uniform1i(f.renderType,0),t.uniform2f(f.scale,w.x,w.y),t.uniform3f(f.screenPosition,T.x,T.y,T.z),n.disable(t.BLEND),n.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),n.activeTexture(t.TEXTURE0),n.bindTexture(t.TEXTURE_2D,v),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,E.x,E.y,16,16,0),t.uniform1i(f.renderType,1),n.disable(t.DEPTH_TEST),n.activeTexture(t.TEXTURE1),n.bindTexture(t.TEXTURE_2D,m),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),A.positionScreen.copy(T),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),t.uniform1i(f.renderType,2),n.enable(t.BLEND);for(var P=0,O=A.lensFlares.length;P<O;P++){var L=A.lensFlares[P];L.opacity>.001&&L.scale>.001&&(T.x=L.x,T.y=L.y,T.z=L.z,x=L.size*L.scale/h.w,w.x=x*y,w.y=x,t.uniform3f(f.screenPosition,T.x,T.y,T.z),t.uniform2f(f.scale,w.x,w.y),t.uniform1f(f.rotation,L.rotation),t.uniform1f(f.opacity,L.opacity),t.uniform3f(f.color,L.color.r,L.color.g,L.color.b),n.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),r.setTexture2D(L.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}}n.enable(t.CULL_FACE),n.enable(t.DEPTH_TEST),n.buffers.depth.setMask(!0),n.reset()}}}function Y(e,t,i,r,a,o,s,l,u){n.call(this,e,t,i,r,a,o,s,l,u),this.needsUpdate=!0}function Z(e,t,i,n,r){function a(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),i=new Uint16Array([0,1,2,0,2,3]);c=t.createBuffer(),h=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),d=o(),p={position:t.getAttribLocation(d,"position"),uv:t.getAttribLocation(d,"uv")},f={uvOffset:t.getUniformLocation(d,"uvOffset"),uvScale:t.getUniformLocation(d,"uvScale"),rotation:t.getUniformLocation(d,"rotation"),scale:t.getUniformLocation(d,"scale"),color:t.getUniformLocation(d,"color"),map:t.getUniformLocation(d,"map"),opacity:t.getUniformLocation(d,"opacity"),modelViewMatrix:t.getUniformLocation(d,"modelViewMatrix"),projectionMatrix:t.getUniformLocation(d,"projectionMatrix"),fogType:t.getUniformLocation(d,"fogType"),fogDensity:t.getUniformLocation(d,"fogDensity"),fogNear:t.getUniformLocation(d,"fogNear"),fogFar:t.getUniformLocation(d,"fogFar"),fogColor:t.getUniformLocation(d,"fogColor"),alphaTest:t.getUniformLocation(d,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var r=n.getContext("2d");r.fillStyle="white",r.fillRect(0,0,8,8),m=new Y(n)}function o(){var e=t.createProgram(),i=t.createShader(t.VERTEX_SHADER),n=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(i,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),t.shaderSource(n,["precision "+r.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),t.compileShader(i),t.compileShader(n),t.attachShader(e,i),t.attachShader(e,n),t.linkProgram(e),e}function u(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var c,h,d,p,f,m,v=new l,g=new s,y=new l;this.render=function(r,o,s){if(0!==r.length){void 0===d&&a(),i.useProgram(d),i.initAttributes(),i.enableAttribute(p.position),i.enableAttribute(p.uv),i.disableUnusedAttributes(),i.disable(t.CULL_FACE),i.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,c),t.vertexAttribPointer(p.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(p.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h),t.uniformMatrix4fv(f.projectionMatrix,!1,s.projectionMatrix.elements),i.activeTexture(t.TEXTURE0),t.uniform1i(f.map,0);var l=0,_=0,b=o.fog;b?(t.uniform3f(f.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(t.uniform1f(f.fogNear,b.near),t.uniform1f(f.fogFar,b.far),t.uniform1i(f.fogType,1),l=1,_=1):b.isFogExp2&&(t.uniform1f(f.fogDensity,b.density),t.uniform1i(f.fogType,2),l=2,_=2)):(t.uniform1i(f.fogType,0),l=0,_=0);for(var x=0,w=r.length;x<w;x++){var T=r[x];T.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}r.sort(u);for(var E=[],x=0,w=r.length;x<w;x++){var T=r[x],M=T.material;if(M.visible!==!1){T.onBeforeRender(e,o,s,void 0,M,void 0),t.uniform1f(f.alphaTest,M.alphaTest),t.uniformMatrix4fv(f.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(v,g,y),E[0]=y.x,E[1]=y.y;var S=0;o.fog&&M.fog&&(S=_),l!==S&&(t.uniform1i(f.fogType,S),l=S),null!==M.map?(t.uniform2f(f.uvOffset,M.map.offset.x,M.map.offset.y),t.uniform2f(f.uvScale,M.map.repeat.x,M.map.repeat.y)):(t.uniform2f(f.uvOffset,0,0),t.uniform2f(f.uvScale,1,1)),t.uniform1f(f.opacity,M.opacity),t.uniform3f(f.color,M.color.r,M.color.g,M.color.b),t.uniform1f(f.rotation,M.rotation),t.uniform2fv(f.scale,E),i.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst,M.blendEquationAlpha,M.blendSrcAlpha,M.blendDstAlpha,M.premultipliedAlpha),i.buffers.depth.setTest(M.depthTest),i.buffers.depth.setMask(M.depthWrite),n.setTexture2D(M.map||m,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),T.onAfterRender(e,o,s,void 0,M,void 0)}}i.enable(t.CULL_FACE),i.reset()}}}function Q(){Object.defineProperty(this,"id",{value:Vu++}),this.uuid=Ps.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=La,this.side=wa,this.flatShading=!1,this.vertexColors=Ca,this.opacity=1,this.transparent=!1,this.blendSrc=Wa,this.blendDst=$a,this.blendEquation=za,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=to,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function K(e){Q.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes,this.setValues(e))}function J(e){Q.call(this),this.type="MeshDepthMaterial",this.depthPacking=Cs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ee(e){Q.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new l,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function te(e,t){this.min=void 0!==e?e:new l((+(1/0)),(+(1/0)),(+(1/0))),this.max=void 0!==t?t:new l((-(1/0)),(-(1/0)),(-(1/0)))}function ie(e,t){this.center=void 0!==e?e:new l,this.radius=void 0!==t?t:0}function ne(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0}function re(e,t){this.normal=void 0!==e?e:new l(1,0,0),this.constant=void 0!==t?t:0}function ae(e,t,i,n,r,a){this.planes=[void 0!==e?e:new re,void 0!==t?t:new re,void 0!==i?i:new re,void 0!==n?n:new re,void 0!==r?r:new re,void 0!==a?a:new re]}function oe(e,t,n){function o(t,i,n,r,a,o){var s=t.geometry,l=null,u=_,c=t.customDepthMaterial;if(n&&(u=b,c=t.customDistanceMaterial),c)l=c;else{var h=!1;i.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(h=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&i.skinning===!1;var d=t.isSkinnedMesh&&i.skinning,p=0;h&&(p|=v),d&&(p|=g),l=u[p]}if(e.localClippingEnabled&&i.clipShadows===!0&&0!==i.clippingPlanes.length){var f=l.uuid,m=i.uuid,y=x[f];void 0===y&&(y={},x[f]=y);var w=y[m];void 0===w&&(w=l.clone(),y[m]=w),l=w}l.visible=i.visible,l.wireframe=i.wireframe;var T=i.side;return O.renderSingleSided&&T==Ea&&(T=wa),O.renderReverseSided&&(T===wa?T=Ta:T===Ta&&(T=wa)),l.side=T,l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,n&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=a,l.farDistance=o),l}function s(i,n,r,a){if(i.visible!==!1){var l=i.layers.test(n.layers);if(l&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||c.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,i.matrixWorld);var u=t.update(i),h=i.material;if(Array.isArray(h))for(var d=u.groups,p=0,f=d.length;p<f;p++){var v=d[p],g=h[v.materialIndex];if(g&&g.visible){var y=o(i,g,a,m,r.near,r.far);e.renderBufferDirect(r,null,u,y,i,v)}}else if(h.visible){var y=o(i,h,a,m,r.near,r.far);e.renderBufferDirect(r,null,u,y,i,null)}}for(var _=i.children,b=0,x=_.length;b<x;b++)s(_[b],n,r,a)}}for(var c=new ae,h=new u,d=new i,p=new i(n,n),f=new l,m=new l,v=1,g=2,y=(v|g)+1,_=new Array(y),b=new Array(y),x={},w=[new l(1,0,0),new l((-1),0,0),new l(0,0,1),new l(0,0,(-1)),new l(0,1,0),new l(0,(-1),0)],T=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,(-1))],E=[new r,new r,new r,new r,new r,new r],M=0;M!==y;++M){var S=0!==(M&v),C=0!==(M&g),A=new J({depthPacking:As,morphTargets:S,skinning:C});_[M]=A;var P=new ee({morphTargets:S,skinning:C});b[M]=P}var O=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ba,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,i,n){if(O.enabled!==!1&&(O.autoUpdate!==!1||O.needsUpdate!==!1)&&0!==t.length){var r=e.context,o=e.state;o.disable(r.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var l,u=0,v=t.length;u<v;u++){var g=t[u],y=g.shadow,_=g&&g.isPointLight;if(void 0!==y){var b=y.camera;if(d.copy(y.mapSize),d.min(p),_){var x=d.x,M=d.y;E[0].set(2*x,M,x,M),E[1].set(0,M,x,M),E[2].set(3*x,M,x,M),E[3].set(x,M,x,M),E[4].set(3*x,0,x,M),E[5].set(x,0,x,M),d.x*=4,d.y*=2}if(null===y.map){var S={minFilter:So,magFilter:So,format:$o};y.map=new a(d.x,d.y,S),y.map.texture.name=g.name+".shadowMap",b.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(g);var C=y.map,A=y.matrix;m.setFromMatrixPosition(g.matrixWorld),b.position.copy(m),_?(l=6,A.makeTranslation(-m.x,-m.y,-m.z)):(l=1,f.setFromMatrixPosition(g.target.matrixWorld),b.lookAt(f),b.updateMatrixWorld(),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(b.projectionMatrix),A.multiply(b.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var P=0;P<l;P++){if(_){f.copy(b.position),f.add(w[P]),b.up.copy(T[P]),b.lookAt(f),b.updateMatrixWorld();var L=E[P];o.viewport(L)}h.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),c.setFromMatrix(h),s(i,n,b,_)}}}O.needsUpdate=!1}}}function se(e){function t(t,i){var n=t.array,r=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,a=e.createBuffer();e.bindBuffer(i,a),e.bufferData(i,n,r),t.onUploadCallback();var o=e.FLOAT;return n instanceof Float32Array?o=e.FLOAT:n instanceof Float64Array||(n instanceof Uint16Array?o=e.UNSIGNED_SHORT:n instanceof Int16Array?o=e.SHORT:n instanceof Uint32Array?o=e.UNSIGNED_INT:n instanceof Int32Array?o=e.INT:n instanceof Int8Array?o=e.BYTE:n instanceof Uint8Array&&(o=e.UNSIGNED_BYTE)),{buffer:a,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}function i(t,i,n){var r=i.array,a=i.updateRange;e.bindBuffer(n,t),i.dynamic===!1?e.bufferData(n,r,e.STATIC_DRAW):a.count===-1?e.bufferSubData(n,0,r):0===a.count||(e.bufferSubData(n,a.offset*r.BYTES_PER_ELEMENT,r.subarray(a.offset,a.offset+a.count)),a.count=-1)}function n(e){return e.isInterleavedBufferAttribute&&(e=e.data),o[e.uuid]}function r(t){t.isInterleavedBufferAttribute&&(t=t.data);var i=o[t.uuid];i&&(e.deleteBuffer(i.buffer),delete o[t.uuid])}function a(e,n){e.isInterleavedBufferAttribute&&(e=e.data);var r=o[e.uuid];void 0===r?o[e.uuid]=t(e,n):r.version<e.version&&(i(r.buffer,e,n),r.version=e.version)}var o={};return{get:n,remove:r,update:a}}function le(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._order=n||le.DefaultOrder}function ue(){this.mask=1}function ce(){function e(){r.setFromEuler(n,!1)}function t(){n.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,"id",{value:Wu++}),this.uuid=Ps.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ce.DefaultUp.clone();var i=new l,n=new le,r=new s,a=new l(1,1,1);n.onChange(e),r.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:i},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:a},modelViewMatrix:{value:new u},normalMatrix:{value:new ne}}),this.matrix=new u,this.matrixWorld=new u,this.matrixAutoUpdate=ce.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ue,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function he(){ce.call(this),this.type="Camera",this.matrixWorldInverse=new u,this.projectionMatrix=new u}function de(e,t,i,n,r,a){he.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function pe(e,t,i,n){he.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function fe(e,t,i,n,r,a){this.a=e,this.b=t,this.c=i,this.normal=n&&n.isVector3?n:new l,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new $,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function me(){return $u++}function ve(){Object.defineProperty(this,"id",{value:me()}),this.uuid=Ps.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ge(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ps.generateUUID(),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ye(e,t){ge.call(this,new Int8Array(e),t)}function _e(e,t){ge.call(this,new Uint8Array(e),t)}function be(e,t){ge.call(this,new Uint8ClampedArray(e),t)}function xe(e,t){ge.call(this,new Int16Array(e),t)}function we(e,t){ge.call(this,new Uint16Array(e),t)}function Te(e,t){ge.call(this,new Int32Array(e),t)}function Ee(e,t){ge.call(this,new Uint32Array(e),t)}function Me(e,t){ge.call(this,new Float32Array(e),t)}function Se(e,t){ge.call(this,new Float64Array(e),t)}function Ce(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ae(e){if(0===e.length)return-(1/0);for(var t=e[0],i=1,n=e.length;i<n;++i)e[i]>t&&(t=e[i]);return t}function Pe(){Object.defineProperty(this,"id",{value:me()}),this.uuid=Ps.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Oe(e,t,i,n,r,a){ve.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Le(e,t,i,n,r,a)),this.mergeVertices()}function Le(e,t,i,n,r,a){function o(e,t,i,n,r,a,o,m,v,g,y){var _,b,x=a/v,w=o/g,T=a/2,E=o/2,M=m/2,S=v+1,C=g+1,A=0,P=0,O=new l;for(b=0;b<C;b++){var L=b*w-E;for(_=0;_<S;_++){var R=_*x-T;O[e]=R*n,O[t]=L*r,O[i]=M,c.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[i]=m>0?1:-1,h.push(O.x,O.y,O.z),d.push(_/v),d.push(1-b/g),A+=1}}for(b=0;b<g;b++)for(_=0;_<v;_++){var k=p+_+S*b,D=p+_+S*(b+1),I=p+(_+1)+S*(b+1),z=p+(_+1)+S*b;u.push(k,D,z),u.push(D,I,z),P+=6}s.addGroup(f,P,y),f+=P,p+=A}Pe.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var s=this;n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var u=[],c=[],h=[],d=[],p=0,f=0;o("z","y","x",-1,-1,i,t,e,a,r,0),o("z","y","x",1,-1,i,t,-e,a,r,1),o("x","z","y",1,1,e,i,t,n,a,2),o("x","z","y",1,-1,e,i,-t,n,a,3),o("x","y","z",1,-1,e,t,i,n,r,4),o("x","y","z",-1,-1,e,t,-i,n,r,5),this.setIndex(u),this.addAttribute("position",new Me(c,3)),this.addAttribute("normal",new Me(h,3)),this.addAttribute("uv",new Me(d,2))}function Re(e,t,i,n){ve.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new ke(e,t,i,n)),this.mergeVertices()}function ke(e,t,i,n){Pe.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};var r,a,o=e/2,s=t/2,l=Math.floor(i)||1,u=Math.floor(n)||1,c=l+1,h=u+1,d=e/l,p=t/u,f=[],m=[],v=[],g=[];for(a=0;a<h;a++){var y=a*p-s;for(r=0;r<c;r++){var _=r*d-o;m.push(_,-y,0),v.push(0,0,1),g.push(r/l),g.push(1-a/u)}}for(a=0;a<u;a++)for(r=0;r<l;r++){var b=r+c*a,x=r+c*(a+1),w=r+1+c*(a+1),T=r+1+c*a;f.push(b,x,T),f.push(x,w,T)}this.setIndex(f),this.addAttribute("position",new Me(m,3)),this.addAttribute("normal",new Me(v,3)),this.addAttribute("uv",new Me(g,2))}function De(e){Q.call(this),this.type="MeshBasicMaterial",this.color=new $(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Ie(e,t){this.origin=void 0!==e?e:new l,this.direction=void 0!==t?t:new l}function ze(e,t){this.start=void 0!==e?e:new l,this.end=void 0!==t?t:new l}function Ne(e,t,i){this.a=void 0!==e?e:new l,this.b=void 0!==t?t:new l,this.c=void 0!==i?i:new l}function Be(e,t){ce.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Pe,this.material=void 0!==t?t:new De({color:16777215*Math.random()}),this.drawMode=vs,this.updateMorphTargets()}function Fe(e,t,i,n){function r(t,n,r,h){var d=n.background;null===d?a(u,c):d&&d.isColor&&(a(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&d.isCubeTexture?(void 0===l&&(l=new Be(new Le(1,1,1),new K({uniforms:Gu.cube.uniforms,vertexShader:Gu.cube.vertexShader,fragmentShader:Gu.cube.fragmentShader,side:Ta,depthTest:!0,depthWrite:!1,polygonOffset:!0,fog:!1})),l.geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(e,t,i){var n=i.far;this.matrixWorld.makeScale(n,n,n),this.matrixWorld.copyPosition(i.matrixWorld),this.material.polygonOffsetUnits=10*n},i.update(l.geometry)),l.material.uniforms.tCube.value=d,t.push(l,l.geometry,l.material,0,null)):d&&d.isTexture&&(void 0===o&&(o=new de((-1),1,1,(-1),0,1),s=new Be(new ke(2,2),new De({depthTest:!1,depthWrite:!1,fog:!1})),i.update(s.geometry)),s.material.map=d,e.renderBufferDirect(o,null,s.geometry,s.material,s,null))}function a(e,i){t.buffers.color.setClear(e.r,e.g,e.b,i,n)}var o,s,l,u=new $(0),c=0;return{getClearColor:function(){return u},setClearColor:function(e,t){u.set(e),c=void 0!==t?t:1,a(u,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,a(u,c)},render:r}}function Ue(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function je(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function He(){function e(){r=0,a.length=0,o.length=0}function t(e,t,i,s,l){var u=n[r];void 0===u?(u={id:e.id,object:e,geometry:t,material:i,program:i.program,renderOrder:e.renderOrder,z:s,group:l},n[r]=u):(u.id=e.id,u.object=e,u.geometry=t,u.material=i,u.program=i.program,u.renderOrder=e.renderOrder,u.z=s,u.group=l),(i.transparent===!0?o:a).push(u),r++}function i(){a.length>1&&a.sort(Ue),o.length>1&&o.sort(je)}var n=[],r=0,a=[],o=[];return{opaque:a,transparent:o,init:e,push:t,sort:i}}function Ge(){function e(e,t){var n=e.id+","+t.id,r=i[n];return void 0===r&&(r=new He,i[n]=r),r}function t(){i={}}var i={};return{get:e,dispose:t}}function Ve(e,t){return Math.abs(t[1])-Math.abs(e[1])}function We(e){function t(t,r,a,o){var s=t.morphTargetInfluences,l=s.length,u=i[r.id];if(void 0===u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];i[r.id]=u}for(var h=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal,c=0;c<l;c++){var p=u[c];0!==p[1]&&(h&&r.removeAttribute("morphTarget"+c),d&&r.removeAttribute("morphNormal"+c))}for(var c=0;c<l;c++){var p=u[c];p[0]=c,p[1]=s[c]}u.sort(Ve);for(var c=0;c<8;c++){var p=u[c];if(p){var f=p[0],m=p[1];if(m){h&&r.addAttribute("morphTarget"+c,h[f]),d&&r.addAttribute("morphNormal"+c,d[f]),n[c]=m;continue}}n[c]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}var i={},n=new Float32Array(8);return{update:t}}function $e(e,t,i){function n(e){s=e}function r(e){l=e.type,u=e.bytesPerElement}function a(t,n){e.drawElements(s,n,l,t*u),i.calls++,i.vertices+=n,s===e.TRIANGLES?i.faces+=n/3:s===e.POINTS&&(i.points+=n)}function o(n,r,a){var o=t.get("ANGLE_instanced_arrays");null!==o&&(o.drawElementsInstancedANGLE(s,a,l,r*u,n.maxInstancedCount),i.calls++,i.vertices+=a*n.maxInstancedCount,s===e.TRIANGLES?i.faces+=n.maxInstancedCount*a/3:s===e.POINTS&&(i.points+=n.maxInstancedCount*a))}var s,l,u;this.setMode=n,this.setIndex=r,this.render=a,this.renderInstances=o}function Xe(e,t,i){function n(e){o=e}function r(t,n){e.drawArrays(o,t,n),i.calls++,i.vertices+=n,o===e.TRIANGLES?i.faces+=n/3:o===e.POINTS&&(i.points+=n)}function a(n,r,a){var s=t.get("ANGLE_instanced_arrays");if(null!==s){var l=n.attributes.position;l.isInterleavedBufferAttribute?(a=l.data.count,s.drawArraysInstancedANGLE(o,0,a,n.maxInstancedCount)):s.drawArraysInstancedANGLE(o,r,a,n.maxInstancedCount),i.calls++,i.vertices+=a*n.maxInstancedCount,o===e.TRIANGLES?i.faces+=n.maxInstancedCount*a/3:o===e.POINTS&&(i.points+=n.maxInstancedCount*a)}}var o;this.setMode=n,this.render=r,this.renderInstances=a}function qe(e,t,i){function n(e){var r=e.target,a=s[r.id];null!==a.index&&t.remove(a.index);for(var o in a.attributes)t.remove(a.attributes[o]);r.removeEventListener("dispose",n),delete s[r.id];var u=l[r.id];u&&(t.remove(u),delete l[r.id]),u=l[a.id],u&&(t.remove(u),delete l[a.id]),i.geometries--}function r(e,t){var r=s[t.id];return r?r:(t.addEventListener("dispose",n),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Pe).setFromObject(e)),r=t._bufferGeometry),s[t.id]=r,i.geometries++,r)}function a(i){var n=i.index,r=i.attributes;null!==n&&t.update(n,e.ELEMENT_ARRAY_BUFFER);for(var a in r)t.update(r[a],e.ARRAY_BUFFER);var o=i.morphAttributes;for(var a in o)for(var s=o[a],l=0,u=s.length;l<u;l++)t.update(s[l],e.ARRAY_BUFFER)}function o(i){var n=l[i.id];if(n)return n;var r=[],a=i.index,o=i.attributes;if(null!==a)for(var s=a.array,u=0,c=s.length;u<c;u+=3){var h=s[u+0],d=s[u+1],p=s[u+2];r.push(h,d,d,p,p,h)}else for(var s=o.position.array,u=0,c=s.length/3-1;u<c;u+=3){var h=u+0,d=u+1,p=u+2;r.push(h,d,d,p,p,h)}return n=new(Ae(r)>65535?Ee:we)(r,1),t.update(n,e.ELEMENT_ARRAY_BUFFER),l[i.id]=n,n}var s={},l={};return{get:r,update:a,getWireframeAttribute:o}}function Ye(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new l,color:new $,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new l,direction:new l,color:new $,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new l,color:new $,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new l,skyColor:new $,groundColor:new $};break;case"RectAreaLight":n={color:new $,position:new l,halfWidth:new l,halfHeight:new l}}return e[t.id]=n,n}}}function Ze(){function e(e,o,s){for(var l=0,u=0,c=0,h=0,d=0,p=0,f=0,m=0,v=s.matrixWorldInverse,g=0,y=e.length;g<y;g++){var _=e[g],b=_.color,x=_.intensity,w=_.distance,T=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=b.r*x,u+=b.g*x,c+=b.b*x;else if(_.isDirectionalLight){var E=t.get(_);if(E.color.copy(_.color).multiplyScalar(_.intensity),E.direction.setFromMatrixPosition(_.matrixWorld),
n.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(v),E.shadow=_.castShadow,_.castShadow){var M=_.shadow;E.shadowBias=M.bias,E.shadowRadius=M.radius,E.shadowMapSize=M.mapSize}i.directionalShadowMap[h]=T,i.directionalShadowMatrix[h]=_.shadow.matrix,i.directional[h]=E,h++}else if(_.isSpotLight){var E=t.get(_);if(E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.color.copy(b).multiplyScalar(x),E.distance=w,E.direction.setFromMatrixPosition(_.matrixWorld),n.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(v),E.coneCos=Math.cos(_.angle),E.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),E.decay=0===_.distance?0:_.decay,E.shadow=_.castShadow,_.castShadow){var M=_.shadow;E.shadowBias=M.bias,E.shadowRadius=M.radius,E.shadowMapSize=M.mapSize}i.spotShadowMap[p]=T,i.spotShadowMatrix[p]=_.shadow.matrix,i.spot[p]=E,p++}else if(_.isRectAreaLight){var E=t.get(_);E.color.copy(b).multiplyScalar(x/(_.width*_.height)),E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),a.identity(),r.copy(_.matrixWorld),r.premultiply(v),a.extractRotation(r),E.halfWidth.set(.5*_.width,0,0),E.halfHeight.set(0,.5*_.height,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),i.rectArea[f]=E,f++}else if(_.isPointLight){var E=t.get(_);if(E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.color.copy(_.color).multiplyScalar(_.intensity),E.distance=_.distance,E.decay=0===_.distance?0:_.decay,E.shadow=_.castShadow,_.castShadow){var M=_.shadow;E.shadowBias=M.bias,E.shadowRadius=M.radius,E.shadowMapSize=M.mapSize,E.shadowCameraNear=M.camera.near,E.shadowCameraFar=M.camera.far}i.pointShadowMap[d]=T,i.pointShadowMatrix[d]=_.shadow.matrix,i.point[d]=E,d++}else if(_.isHemisphereLight){var E=t.get(_);E.direction.setFromMatrixPosition(_.matrixWorld),E.direction.transformDirection(v),E.direction.normalize(),E.skyColor.copy(_.color).multiplyScalar(x),E.groundColor.copy(_.groundColor).multiplyScalar(x),i.hemi[m]=E,m++}}i.ambient[0]=l,i.ambient[1]=u,i.ambient[2]=c,i.directional.length=h,i.spot.length=p,i.rectArea.length=f,i.point.length=d,i.hemi.length=m,i.hash=h+","+d+","+p+","+f+","+m+","+o.length}var t=new Ye,i={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new l,r=new u,a=new u;return{setup:e,state:i}}function Qe(e,t){function i(i){var n=t.frame,a=i.geometry,o=e.get(i,a);return r[o.id]!==n&&(a.isGeometry&&o.updateFromObject(i),e.update(o),r[o.id]=n),o}function n(){r={}}var r={};return{update:i,clear:n}}function Ke(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)===!1,""!==e.getShaderInfoLog(n),n}function Je(e){switch(e){case _s:return["Linear","( value )"];case bs:return["sRGB","( value )"];case ws:return["RGBE","( value )"];case Es:return["RGBM","( value, 7.0 )"];case Ms:return["RGBM","( value, 16.0 )"];case Ss:return["RGBD","( value, 256.0 )"];case xs:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function et(e,t){var i=Je(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function tt(e,t){var i=Je(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function it(e,t){var i;switch(t){case co:i="Linear";break;case ho:i="Reinhard";break;case po:i="Uncharted2";break;case fo:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function nt(e,t,i){e=e||{};var n=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return n.filter(ot).join("\n")}function rt(e){var t=[];for(var i in e){var n=e[i];n!==!1&&t.push("#define "+i+" "+n)}return t.join("\n")}function at(e,t,i){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),a=0;a<r;a++){var o=e.getActiveAttrib(t,a),s=o.name;n[s]=e.getAttribLocation(t,s)}return n}function ot(e){return""!==e}function st(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function lt(e){function t(e,t){var i=Hu[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return lt(i)}var i=/^[ \t]*#include +<([\w\d.]+)>/gm;return e.replace(i,t)}function ut(e){function t(e,t,i,n){for(var r="",a=parseInt(t);a<parseInt(i);a++)r+=n.replace(/\[ i \]/g,"[ "+a+" ]");return r}var i=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(i,t)}function ct(e,t,i,n,r,a){var o=e.context,s=n.defines,l=r.vertexShader,u=r.fragmentShader,c="SHADOWMAP_TYPE_BASIC";a.shadowMapType===ba?c="SHADOWMAP_TYPE_PCF":a.shadowMapType===xa&&(c="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(n.envMap.mapping){case vo:case go:h="ENVMAP_TYPE_CUBE";break;case xo:case wo:h="ENVMAP_TYPE_CUBE_UV";break;case yo:case _o:h="ENVMAP_TYPE_EQUIREC";break;case bo:h="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case go:case _o:d="ENVMAP_MODE_REFRACTION"}switch(n.combine){case oo:p="ENVMAP_BLENDING_MULTIPLY";break;case so:p="ENVMAP_BLENDING_MIX";break;case lo:p="ENVMAP_BLENDING_ADD"}}var f,m,v=e.gammaFactor>0?e.gammaFactor:1,g=nt(n.extensions,a,t),y=rt(s),_=o.createProgram();n.isRawShaderMaterial?(f=[y,"\n"].filter(ot).join("\n"),m=[g,y,"\n"].filter(ot).join("\n")):(f=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,y,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ot).join("\n"),m=[g,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,y,a.alphaTest?"#define ALPHATEST "+a.alphaTest:"","#define GAMMA_FACTOR "+v,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+a.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(a.numClippingPlanes-a.numClipIntersection),a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+c:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&t.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&t.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==uo?"#define TONE_MAPPING":"",a.toneMapping!==uo?Hu.tonemapping_pars_fragment:"",a.toneMapping!==uo?it("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Hu.encodings_pars_fragment:"",a.mapEncoding?et("mapTexelToLinear",a.mapEncoding):"",a.envMapEncoding?et("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?et("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?tt("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ot).join("\n")),l=lt(l),l=st(l,a),u=lt(u),u=st(u,a),n.isShaderMaterial||(l=ut(l),u=ut(u));var b=f+l,x=m+u,w=Ke(o,o.VERTEX_SHADER,b),T=Ke(o,o.FRAGMENT_SHADER,x);o.attachShader(_,w),o.attachShader(_,T),void 0!==n.index0AttributeName?o.bindAttribLocation(_,0,n.index0AttributeName):a.morphTargets===!0&&o.bindAttribLocation(_,0,"position"),o.linkProgram(_);var E=o.getProgramInfoLog(_),M=o.getShaderInfoLog(w),S=o.getShaderInfoLog(T),C=!0,A=!0;o.getProgramParameter(_,o.LINK_STATUS)===!1?C=!1:""!==E||""!==M&&""!==S||(A=!1),A&&(this.diagnostics={runnable:C,material:n,programLog:E,vertexShader:{log:M,prefix:f},fragmentShader:{log:S,prefix:m}}),o.deleteShader(w),o.deleteShader(T);var P;this.getUniforms=function(){return void 0===P&&(P=new W(o,_,e)),P};var O;return this.getAttributes=function(){return void 0===O&&(O=at(o,_)),O},this.destroy=function(){o.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.id=Xu++,this.code=i,this.usedTimes=1,this.program=_,this.vertexShader=w,this.fragmentShader=T,this}function ht(e,t,i){function n(e){var t=e.skeleton,n=t.bones;if(i.floatVertexTextures)return 1024;var r=i.maxVertexUniforms,a=Math.floor((r-20)/4),o=Math.min(a,n.length);return o<n.length?0:o}function r(e,t){var i;return e?e.isTexture?i=e.encoding:e.isWebGLRenderTarget&&(i=e.texture.encoding):i=_s,i===_s&&t&&(i=xs),i}var a=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(t,a,s,l,u,c,h){var d=o[t.type],p=h.isSkinnedMesh?n(h):0,f=i.precision;null!==t.precision&&(f=i.getMaxPrecision(t.precision),f!==t.precision);var m=e.getRenderTarget(),v={shaderID:d,precision:f,supportsVertexTextures:i.vertexTextures,outputEncoding:r(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:r(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:r(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===xo||t.envMap.mapping===wo),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:r(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!l,useFog:t.fog,fogExp:l&&l.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:t.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.receiveShadow&&s.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Ea,flipSided:t.side===Ta,depthPacking:void 0!==t.depthPacking&&t.depthPacking};return v},this.getProgramCode=function(t,i){var n=[];if(i.shaderID?n.push(i.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var a=0;a<s.length;a++)n.push(i[s[a]]);return n.push(t.onBeforeCompile.toString()),n.push(e.gammaOutput),n.join()},this.acquireProgram=function(i,n,r,o){for(var s,l=0,u=a.length;l<u;l++){var c=a[l];if(c.code===o){s=c,++s.usedTimes;break}}return void 0===s&&(s=new ct(e,t,o,i,n,r),a.push(s)),s},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=a.indexOf(e);a[t]=a[a.length-1],a.pop(),e.destroy()}},this.programs=a}function dt(e,t,i,n,r,a,o){function s(e,t){if(e.width>t||e.height>t){var i=t/Math.max(e.width,e.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=Math.floor(e.width*i),n.height=Math.floor(e.height*i);var r=n.getContext("2d");return r.drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height),n}return e}function l(e){return Ps.isPowerOfTwo(e.width)&&Ps.isPowerOfTwo(e.height)}function u(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=Ps.nearestPowerOfTwo(e.width),t.height=Ps.nearestPowerOfTwo(e.height);var i=t.getContext("2d");return i.drawImage(e,0,0,t.width,t.height),t}return e}function c(e){return e.wrapS!==Eo||e.wrapT!==Eo||e.minFilter!==So&&e.minFilter!==Po}function h(e,t){return e.generateMipmaps&&t&&e.minFilter!==So&&e.minFilter!==Po}function d(t){return t===So||t===Co||t===Ao?e.NEAREST:e.LINEAR}function p(e){var t=e.target;t.removeEventListener("dispose",p),m(t),o.textures--}function f(e){var t=e.target;t.removeEventListener("dispose",f),v(t),o.textures--}function m(t){var i=n.get(t);if(t.image&&i.__image__webglTextureCube)e.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)return;e.deleteTexture(i.__webglTexture)}n.remove(t)}function v(t){var i=n.get(t),r=n.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[a]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer);n.remove(t.texture),n.remove(t)}}function g(t,r){var a=n.get(t);if(t.version>0&&a.__version!==t.version){var o=t.image;if(void 0===o);else if(o.complete!==!1)return void x(a,t,r)}i.activeTexture(e.TEXTURE0+r),i.bindTexture(e.TEXTURE_2D,a.__webglTexture)}function y(t,u){var c=n.get(t);if(6===t.image.length)if(t.version>0&&c.__version!==t.version){c.__image__webglTextureCube||(t.addEventListener("dispose",p),c.__image__webglTextureCube=e.createTexture(),o.textures++),i.activeTexture(e.TEXTURE0+u),i.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var d=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,m=[],v=0;v<6;v++)d||f?m[v]=f?t.image[v].image:t.image[v]:m[v]=s(t.image[v],r.maxCubemapSize);var g=m[0],y=l(g),_=a.convert(t.format),x=a.convert(t.type);b(e.TEXTURE_CUBE_MAP,t,y);for(var v=0;v<6;v++)if(d)for(var w,T=m[v].mipmaps,E=0,M=T.length;E<M;E++)w=T[E],t.format!==$o&&t.format!==Wo?i.getCompressedTextureFormats().indexOf(_)>-1&&i.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,_,w.width,w.height,0,w.data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,E,_,w.width,w.height,0,_,x,w.data);else f?i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,_,m[v].width,m[v].height,0,_,x,m[v].data):i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,_,_,x,m[v]);h(t,y)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),c.__version=t.version,t.onUpdate&&t.onUpdate(t)}else i.activeTexture(e.TEXTURE0+u),i.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function _(t,r){i.activeTexture(e.TEXTURE0+r),i.bindTexture(e.TEXTURE_CUBE_MAP,n.get(t).__webglTexture)}function b(i,o,s){var l;if(s?(e.texParameteri(i,e.TEXTURE_WRAP_S,a.convert(o.wrapS)),e.texParameteri(i,e.TEXTURE_WRAP_T,a.convert(o.wrapT)),e.texParameteri(i,e.TEXTURE_MAG_FILTER,a.convert(o.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,a.convert(o.minFilter))):(e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o.wrapS!==Eo||o.wrapT!==Eo,e.texParameteri(i,e.TEXTURE_MAG_FILTER,d(o.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,d(o.minFilter)),o.minFilter!==So&&o.minFilter!==Po),l=t.get("EXT_texture_filter_anisotropic")){if(o.type===Bo&&null===t.get("OES_texture_float_linear"))return;if(o.type===Fo&&null===t.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(e.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function x(t,n,d){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",p),t.__webglTexture=e.createTexture(),o.textures++),i.activeTexture(e.TEXTURE0+d),i.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,n.unpackAlignment);var f=s(n.image,r.maxTextureSize);c(n)&&l(f)===!1&&(f=u(f));var m=l(f),v=a.convert(n.format),g=a.convert(n.type);b(e.TEXTURE_2D,n,m);var y,_=n.mipmaps;if(n.isDepthTexture){var x=e.DEPTH_COMPONENT;if(n.type===Bo){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");x=e.DEPTH_COMPONENT32F}else A&&(x=e.DEPTH_COMPONENT16);n.format===Zo&&x===e.DEPTH_COMPONENT&&n.type!==Io&&n.type!==No&&(n.type=Io,g=a.convert(n.type)),n.format===Qo&&(x=e.DEPTH_STENCIL,n.type!==Go&&(n.type=Go,g=a.convert(n.type))),i.texImage2D(e.TEXTURE_2D,0,x,f.width,f.height,0,v,g,null)}else if(n.isDataTexture)if(_.length>0&&m){for(var w=0,T=_.length;w<T;w++)y=_[w],i.texImage2D(e.TEXTURE_2D,w,v,y.width,y.height,0,v,g,y.data);n.generateMipmaps=!1}else i.texImage2D(e.TEXTURE_2D,0,v,f.width,f.height,0,v,g,f.data);else if(n.isCompressedTexture)for(var w=0,T=_.length;w<T;w++)y=_[w],n.format!==$o&&n.format!==Wo?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(e.TEXTURE_2D,w,v,y.width,y.height,0,y.data):i.texImage2D(e.TEXTURE_2D,w,v,y.width,y.height,0,v,g,y.data);else if(_.length>0&&m){for(var w=0,T=_.length;w<T;w++)y=_[w],i.texImage2D(e.TEXTURE_2D,w,v,v,g,y);n.generateMipmaps=!1}else i.texImage2D(e.TEXTURE_2D,0,v,v,g,f);h(n,m)&&e.generateMipmap(e.TEXTURE_2D),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function w(t,r,o,s){var l=a.convert(r.texture.format),u=a.convert(r.texture.type);i.texImage2D(s,0,l,r.width,r.height,0,l,u,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,s,n.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function T(t,i){e.bindRenderbuffer(e.RENDERBUFFER,t),i.depthBuffer&&!i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):i.depthBuffer&&i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,i.width,i.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function E(t,i){var r=i&&i.isWebGLRenderTargetCube;if(r)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),g(i.depthTexture,0);var a=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Zo)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==Qo)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}function M(t){var i=n.get(t),r=t.isWebGLRenderTargetCube===!0;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");E(i.__webglFramebuffer,t)}else if(r){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),T(i.__webglDepthbuffer[a],t)}else e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),T(i.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function S(t){var r=n.get(t),a=n.get(t.texture);t.addEventListener("dispose",f),a.__webglTexture=e.createTexture(),o.textures++;var s=t.isWebGLRenderTargetCube===!0,u=l(t);if(s){r.__webglFramebuffer=[];for(var c=0;c<6;c++)r.__webglFramebuffer[c]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(s){i.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture),b(e.TEXTURE_CUBE_MAP,t.texture,u);for(var c=0;c<6;c++)w(r.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);h(t.texture,u)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),i.bindTexture(e.TEXTURE_CUBE_MAP,null)}else i.bindTexture(e.TEXTURE_2D,a.__webglTexture),b(e.TEXTURE_2D,t.texture,u),w(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),h(t.texture,u)&&e.generateMipmap(e.TEXTURE_2D),i.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&M(t)}function C(t){var r=t.texture,a=l(t);if(h(r,a)){var o=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,s=n.get(r).__webglTexture;i.bindTexture(o,s),e.generateMipmap(o),i.bindTexture(o,null)}}var A="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=y,this.setTextureCubeDynamic=_,this.setupRenderTarget=S,this.updateRenderTargetMipmap=C}function pt(){function e(e){var t=e.uuid,i=n[t];return void 0===i&&(i={},n[t]=i),i}function t(e){delete n[e.uuid]}function i(){n={}}var n={};return{get:e,remove:t,clear:i}}function ft(e,t,i){function n(){var t=!1,i=new r,n=null,a=new r(0,0,0,0);return{setMask:function(i){n===i||t||(e.colorMask(i,i,i,i),n=i)},setLocked:function(e){t=e},setClear:function(t,n,r,o,s){s===!0&&(t*=o,n*=o,r*=o),i.set(t,n,r,o),a.equals(i)===!1&&(e.clearColor(t,n,r,o),a.copy(i))},reset:function(){t=!1,n=null,a.set(-1,0,0,0)}}}function a(){var t=!1,i=null,n=null,r=null;return{setTest:function(t){t?d(e.DEPTH_TEST):p(e.DEPTH_TEST)},setMask:function(n){i===n||t||(e.depthMask(n),i=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case Ka:e.depthFunc(e.NEVER);break;case Ja:e.depthFunc(e.ALWAYS);break;case eo:e.depthFunc(e.LESS);break;case to:e.depthFunc(e.LEQUAL);break;case io:e.depthFunc(e.EQUAL);break;case no:e.depthFunc(e.GEQUAL);break;case ro:e.depthFunc(e.GREATER);break;case ao:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);n=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,i=null,n=null,r=null}}}function o(){var t=!1,i=null,n=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){t?d(e.STENCIL_TEST):p(e.STENCIL_TEST)},setMask:function(n){i===n||t||(e.stencilMask(n),i=n)},setFunc:function(t,i,o){n===t&&r===i&&a===o||(e.stencilFunc(t,i,o),n=t,r=i,a=o)},setOp:function(t,i,n){o===t&&s===i&&l===n||(e.stencilOp(t,i,n),o=t,s=i,l=n)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,i=null,n=null,r=null,a=null,o=null,s=null,l=null,u=null}}}function s(t,i,n){var r=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<n;o++)e.texImage2D(i+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return a}function l(){for(var e=0,t=D.length;e<t;e++)D[e]=0}function u(i){if(D[i]=1,0===I[i]&&(e.enableVertexAttribArray(i),I[i]=1),0!==z[i]){var n=t.get("ANGLE_instanced_arrays");n.vertexAttribDivisorANGLE(i,0),z[i]=0}}function c(i,n){if(D[i]=1,0===I[i]&&(e.enableVertexAttribArray(i),I[i]=1),z[i]!==n){var r=t.get("ANGLE_instanced_arrays");r.vertexAttribDivisorANGLE(i,n),z[i]=n}}function h(){for(var t=0,i=I.length;t!==i;++t)I[t]!==D[t]&&(e.disableVertexAttribArray(t),I[t]=0)}function d(t){N[t]!==!0&&(e.enable(t),N[t]=!0)}function p(t){N[t]!==!1&&(e.disable(t),N[t]=!1)}function f(){if(null===B&&(B=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var i=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)B.push(i[n]);return B}function m(t){return F!==t&&(e.useProgram(t),F=t,!0)}function v(t,n,r,a,o,s,l,u){if(t!==Oa?d(e.BLEND):p(e.BLEND),t!==Ia){if(t!==U||u!==X)switch(t){case Ra:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE));break;case ka:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR));break;case Da:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR));break;default:u?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))}j=null,H=null,G=null,V=null,W=null,$=null}else o=o||n,s=s||r,l=l||a,n===j&&o===V||(e.blendEquationSeparate(i.convert(n),i.convert(o)),j=n,V=o),r===H&&a===G&&s===W&&l===$||(e.blendFuncSeparate(i.convert(r),i.convert(a),i.convert(s),i.convert(l)),H=r,G=a,W=s,$=l);U=t,X=u}function g(t){t.side===Ea?p(e.CULL_FACE):d(e.CULL_FACE),y(t.side===Ta),t.transparent===!0?v(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):v(Oa),L.setFunc(t.depthFunc),L.setTest(t.depthTest),L.setMask(t.depthWrite),O.setMask(t.colorWrite),x(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function y(t){q!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),q=t)}function _(t){t!==pa?(d(e.CULL_FACE),t!==Y&&(t===fa?e.cullFace(e.BACK):t===ma?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):p(e.CULL_FACE),Y=t}function b(t){t!==Z&&(te&&e.lineWidth(t),Z=t)}function x(t,i,n){t?(d(e.POLYGON_OFFSET_FILL),Q===i&&K===n||(e.polygonOffset(i,n),Q=i,K=n)):p(e.POLYGON_OFFSET_FILL)}function w(t){t?d(e.SCISSOR_TEST):p(e.SCISSOR_TEST)}function T(t){void 0===t&&(t=e.TEXTURE0+J-1),ie!==t&&(e.activeTexture(t),ie=t)}function E(t,i){null===ie&&T();var n=ne[ie];void 0===n&&(n={type:void 0,texture:void 0},ne[ie]=n),n.type===t&&n.texture===i||(e.bindTexture(t,i||oe[t]),n.type=t,n.texture=i)}function M(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){}}function S(){try{e.texImage2D.apply(e,arguments)}catch(t){}}function C(t){re.equals(t)===!1&&(e.scissor(t.x,t.y,t.z,t.w),re.copy(t))}function A(t){ae.equals(t)===!1&&(e.viewport(t.x,t.y,t.z,t.w),ae.copy(t))}function P(){for(var t=0;t<I.length;t++)1===I[t]&&(e.disableVertexAttribArray(t),I[t]=0);N={},B=null,ie=null,ne={},F=null,U=null,q=null,Y=null,O.reset(),L.reset(),R.reset()}var O=new n,L=new a,R=new o,k=e.getParameter(e.MAX_VERTEX_ATTRIBS),D=new Uint8Array(k),I=new Uint8Array(k),z=new Uint8Array(k),N={},B=null,F=null,U=null,j=null,H=null,G=null,V=null,W=null,$=null,X=!1,q=null,Y=null,Z=null,Q=null,K=null,J=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),ee=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),te=parseFloat(ee)>=1,ie=null,ne={},re=new r,ae=new r,oe={};return oe[e.TEXTURE_2D]=s(e.TEXTURE_2D,e.TEXTURE_2D,1),oe[e.TEXTURE_CUBE_MAP]=s(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),O.setClear(0,0,0,1),L.setClear(1),R.setClear(0),d(e.DEPTH_TEST),L.setFunc(to),y(!1),_(fa),d(e.CULL_FACE),d(e.BLEND),v(La),{buffers:{color:O,depth:L,stencil:R},initAttributes:l,enableAttribute:u,enableAttributeAndDivisor:c,disableUnusedAttributes:h,enable:d,disable:p,getCompressedTextureFormats:f,useProgram:m,setBlending:v,setMaterial:g,setFlipSided:y,setCullFace:_,setLineWidth:b,setPolygonOffset:x,setScissorTest:w,activeTexture:T,bindTexture:E,compressedTexImage2D:M,texImage2D:S,scissor:C,viewport:A,reset:P}}function mt(e,t,i){function n(){if(void 0!==a)return a;var i=t.get("EXT_texture_filter_anisotropic");return a=null!==i?e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";
t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a,o=void 0!==i.precision?i.precision:"highp",s=r(o);s!==o&&(o=s);var l=i.logarithmicDepthBuffer===!0&&!!t.get("EXT_frag_depth"),u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),f=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,y=!!t.get("OES_texture_float"),_=g&&y;return{getMaxAnisotropy:n,getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:_}}function vt(e){pe.call(this),this.cameras=e||[]}function gt(e){function t(){if(null!==n&&n.isPresenting){var t=n.getEyeParameters("left"),r=t.renderWidth,a=t.renderHeight;f=e.getPixelRatio(),p=e.getSize(),e.setDrawingBufferSize(2*r,a,1)}else i.enabled&&e.setDrawingBufferSize(p.width,p.height,f)}var i=this,n=null,a=null;"VRFrameData"in window&&(a=new window.VRFrameData);var o=new u,s=new u,l=new u,c=new pe;c.bounds=new r(0,0,.5,1),c.layers.enable(1);var h=new pe;h.bounds=new r(.5,0,.5,1),h.layers.enable(2);var d=new vt([c,h]);d.layers.enable(1),d.layers.enable(2);var p,f;window.addEventListener("vrdisplaypresentchange",t,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e)},this.getCamera=function(e){if(null===n)return e;n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(a);var t=a.pose;null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),null!==t.orientation&&e.quaternion.fromArray(t.orientation),e.updateMatrixWorld();var i=n.stageParameters;if(this.standing&&i&&(s.fromArray(i.sittingToStandingTransform),l.getInverse(s),e.matrixWorld.multiply(s),e.matrixWorldInverse.multiply(l)),n.isPresenting===!1)return e;c.near=e.near,h.near=e.near,c.far=e.far,h.far=e.far,d.matrixWorld.copy(e.matrixWorld),d.matrixWorldInverse.copy(e.matrixWorldInverse),c.matrixWorldInverse.fromArray(a.leftViewMatrix),h.matrixWorldInverse.fromArray(a.rightViewMatrix),this.standing&&i&&(c.matrixWorldInverse.multiply(l),h.matrixWorldInverse.multiply(l));var r=e.parent;null!==r&&(o.getInverse(r.matrixWorld),c.matrixWorldInverse.multiply(o),h.matrixWorldInverse.multiply(o)),c.matrixWorld.getInverse(c.matrixWorldInverse),h.matrixWorld.getInverse(h.matrixWorldInverse),c.projectionMatrix.fromArray(a.leftProjectionMatrix),h.projectionMatrix.fromArray(a.rightProjectionMatrix),d.projectionMatrix.copy(c.projectionMatrix);var u=n.getLayers();if(u.length){var p=u[0];null!==p.leftBounds&&4===p.leftBounds.length&&c.bounds.fromArray(p.leftBounds),null!==p.rightBounds&&4===p.rightBounds.length&&h.bounds.fromArray(p.rightBounds)}return d},this.getStandingMatrix=function(){return s},this.submitFrame=function(){n&&n.isPresenting&&n.submitFrame()},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",t)}}function yt(e){var t={};return{get:function(i){if(void 0!==t[i])return t[i];var n;switch(i){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=e.getExtension("WEBGL_compressed_texture_etc1");break;default:n=e.getExtension(i)}return t[i]=n,n}}}function _t(){function e(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),i.numPlanes=r,i.numIntersection=0}function t(e,t,n,r){var a=null!==e?e.length:0,o=null;if(0!==a){if(o=u.value,r!==!0||null===o){var c=n+4*a,h=t.matrixWorldInverse;l.getNormalMatrix(h),(null===o||o.length<c)&&(o=new Float32Array(c));for(var d=0,p=n;d!==a;++d,p+=4)s.copy(e[d]).applyMatrix4(h,l),s.normal.toArray(o,p),o[p+3]=s.constant}u.value=o,u.needsUpdate=!0}return i.numPlanes=a,o}var i=this,n=null,r=0,a=!1,o=!1,s=new re,l=new ne,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var s=0!==e.length||i||0!==r||a;return a=i,n=t(e,o,0),r=e.length,s},this.beginShadows=function(){o=!0,t(null)},this.endShadows=function(){o=!1,e()},this.setState=function(i,s,l,c,h,d){if(!a||null===i||0===i.length||o&&!l)o?t(null):e();else{var p=o?0:r,f=4*p,m=h.clippingState||null;u.value=m,m=t(i,c,f,d);for(var v=0;v!==f;++v)m[v]=n[v];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function bt(e,t){function i(i){var n;if(i===To)return e.REPEAT;if(i===Eo)return e.CLAMP_TO_EDGE;if(i===Mo)return e.MIRRORED_REPEAT;if(i===So)return e.NEAREST;if(i===Co)return e.NEAREST_MIPMAP_NEAREST;if(i===Ao)return e.NEAREST_MIPMAP_LINEAR;if(i===Po)return e.LINEAR;if(i===Oo)return e.LINEAR_MIPMAP_NEAREST;if(i===Lo)return e.LINEAR_MIPMAP_LINEAR;if(i===Ro)return e.UNSIGNED_BYTE;if(i===Uo)return e.UNSIGNED_SHORT_4_4_4_4;if(i===jo)return e.UNSIGNED_SHORT_5_5_5_1;if(i===Ho)return e.UNSIGNED_SHORT_5_6_5;if(i===ko)return e.BYTE;if(i===Do)return e.SHORT;if(i===Io)return e.UNSIGNED_SHORT;if(i===zo)return e.INT;if(i===No)return e.UNSIGNED_INT;if(i===Bo)return e.FLOAT;if(i===Fo&&(n=t.get("OES_texture_half_float"),null!==n))return n.HALF_FLOAT_OES;if(i===Vo)return e.ALPHA;if(i===Wo)return e.RGB;if(i===$o)return e.RGBA;if(i===Xo)return e.LUMINANCE;if(i===qo)return e.LUMINANCE_ALPHA;if(i===Zo)return e.DEPTH_COMPONENT;if(i===Qo)return e.DEPTH_STENCIL;if(i===za)return e.FUNC_ADD;if(i===Na)return e.FUNC_SUBTRACT;if(i===Ba)return e.FUNC_REVERSE_SUBTRACT;if(i===ja)return e.ZERO;if(i===Ha)return e.ONE;if(i===Ga)return e.SRC_COLOR;if(i===Va)return e.ONE_MINUS_SRC_COLOR;if(i===Wa)return e.SRC_ALPHA;if(i===$a)return e.ONE_MINUS_SRC_ALPHA;if(i===Xa)return e.DST_ALPHA;if(i===qa)return e.ONE_MINUS_DST_ALPHA;if(i===Ya)return e.DST_COLOR;if(i===Za)return e.ONE_MINUS_DST_COLOR;if(i===Qa)return e.SRC_ALPHA_SATURATE;if((i===Ko||i===Jo||i===es||i===ts)&&(n=t.get("WEBGL_compressed_texture_s3tc"),null!==n)){if(i===Ko)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Jo)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===es)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ts)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((i===is||i===ns||i===rs||i===as)&&(n=t.get("WEBGL_compressed_texture_pvrtc"),null!==n)){if(i===is)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===ns)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===rs)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===as)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===os&&(n=t.get("WEBGL_compressed_texture_etc1"),null!==n))return n.COMPRESSED_RGB_ETC1_WEBGL;if((i===Fa||i===Ua)&&(n=t.get("EXT_blend_minmax"),null!==n)){if(i===Fa)return n.MIN_EXT;if(i===Ua)return n.MAX_EXT}return i===Go&&(n=t.get("WEBGL_depth_texture"),null!==n)?n.UNSIGNED_INT_24_8_WEBGL:0}return{convert:i}}function xt(e){function t(){return null===ee?me:1}function i(){Le=new yt(Ce),Le.get("WEBGL_depth_texture"),Le.get("OES_texture_float"),Le.get("OES_texture_float_linear"),Le.get("OES_texture_half_float"),Le.get("OES_texture_half_float_linear"),Le.get("OES_standard_derivatives"),Le.get("ANGLE_instanced_arrays"),Le.get("OES_element_index_uint")&&(Pe.MaxIndex=4294967296),it=new bt(Ce,Le),Re=new mt(Ce,Le,e),ke=new ft(Ce,Le,it),ke.scissor(ce.copy(ge).multiplyScalar(me)),ke.viewport(ue.copy(ve).multiplyScalar(me)),De=new pt,Ie=new dt(Ce,Le,ke,De,Re,it,Me),ze=new se(Ce),Ne=new qe(Ce,ze,Me),Be=new Qe(Ne,Se),Ye=new We(Ce),je=new ht(K,Le,Re),Ue=new Ze,He=new Ge,Ve=new Fe(K,ke,Ne,H),Ke=new Xe(Ce,Le,Se),Je=new $e(Ce,Le,Se),et=new q(K,Ce,ke,Ie,Re),tt=new Z(K,Ce,ke,Ie,Re),K.info.programs=je.programs,K.context=Ce,K.capabilities=Re,K.extensions=Le,K.properties=De,K.renderLists=He,K.state=ke}function n(e){e.preventDefault(),J=!0}function a(e){J=!1,i()}function o(e){var t=e.target;t.removeEventListener("dispose",o),s(t)}function s(e){h(e),De.remove(e)}function h(e){var t=De.get(e).program;e.program=void 0,void 0!==t&&je.releaseProgram(t)}function d(e,t,i){e.render(function(e){K.renderBufferImmediate(e,t,i)})}function p(e,t,i,n){if(!i||!i.isInstancedBufferGeometry||null!==Le.get("ANGLE_instanced_arrays")){void 0===n&&(n=0),ke.initAttributes();var r=i.attributes,a=t.getAttributes(),o=e.defaultAttributeValues;for(var s in a){var l=a[s];if(l>=0){var u=r[s];if(void 0!==u){var c=u.normalized,h=u.itemSize,d=ze.get(u);if(void 0===d)continue;var p=d.buffer,f=d.type,m=d.bytesPerElement;if(u.isInterleavedBufferAttribute){var v=u.data,g=v.stride,y=u.offset;v&&v.isInstancedInterleavedBuffer?(ke.enableAttributeAndDivisor(l,v.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=v.meshPerAttribute*v.count)):ke.enableAttribute(l),Ce.bindBuffer(Ce.ARRAY_BUFFER,p),Ce.vertexAttribPointer(l,h,f,c,g*m,(n*g+y)*m)}else u.isInstancedBufferAttribute?(ke.enableAttributeAndDivisor(l,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):ke.enableAttribute(l),Ce.bindBuffer(Ce.ARRAY_BUFFER,p),Ce.vertexAttribPointer(l,h,f,c,0,n*h*m)}else if(void 0!==o){var _=o[s];if(void 0!==_)switch(_.length){case 2:Ce.vertexAttrib2fv(l,_);break;case 3:Ce.vertexAttrib3fv(l,_);break;case 4:Ce.vertexAttrib4fv(l,_);break;default:Ce.vertexAttrib1fv(l,_)}}}}ke.disableUnusedAttributes()}}function f(){at||((nt.getDevice()||window).requestAnimationFrame(m),at=!0)}function m(e){null!==ot&&ot(e),(nt.getDevice()||window).requestAnimationFrame(m)}function v(e,t,i){if(e.visible){var n=e.layers.test(t.layers);if(n)if(e.isLight)V.push(e),e.castShadow&&$.push(e);else if(e.isSprite)e.frustumCulled&&!_e.intersectsSprite(e)||Y.push(e);else if(e.isLensFlare)Q.push(e);else if(e.isImmediateRenderObject)i&&Ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Te),X.push(e,null,e.material,Ee.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||_e.intersectsObject(e))){i&&Ee.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Te);var r=Be.update(e),a=e.material;if(Array.isArray(a))for(var o=r.groups,s=0,l=o.length;s<l;s++){var u=o[s],c=a[u.materialIndex];c&&c.visible&&X.push(e,r,c,Ee.z,u)}else a.visible&&X.push(e,r,a,Ee.z,null)}for(var h=e.children,s=0,l=h.length;s<l;s++)v(h[s],t,i)}}function g(e,t,i,n){for(var r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,l=o.geometry,u=void 0===n?o.material:n,c=o.group;if(i.isArrayCamera){le=i;for(var h=i.cameras,d=0,p=h.length;d<p;d++){var f=h[d];if(s.layers.test(f.layers)){var m=f.bounds,v=m.x*pe,g=m.y*fe,_=m.z*pe,b=m.w*fe;ke.viewport(ue.set(v,g,_,b).multiplyScalar(me)),y(s,t,f,l,u,c)}}}else le=null,y(s,t,i,l,u,c)}}function y(e,t,i,n,r,a){if(e.onBeforeRender(K,t,i,n,r,a),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){ke.setMaterial(r);var o=b(i,t.fog,r,e);ne="",d(e,o,r)}else K.renderBufferDirect(i,t.fog,n,r,e,a);e.onAfterRender(K,t,i,n,r,a)}function _(e,t,i){var n=De.get(e),r=je.getParameters(e,Ue.state,$,t,be.numPlanes,be.numIntersection,i),a=je.getProgramCode(e,r),s=n.program,l=!0;if(void 0===s)e.addEventListener("dispose",o);else if(s.code!==a)h(e);else{if(void 0!==r.shaderID)return;l=!1}if(l){if(r.shaderID){var u=Gu[r.shaderID];n.shader={name:e.type,uniforms:Us.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else n.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(n.shader),s=je.acquireProgram(e,n.shader,r,a),n.program=s,e.program=s}var c=s.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<K.maxMorphTargets;d++)c["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var d=0;d<K.maxMorphNormals;d++)c["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var p=n.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&e.clipping!==!0||(n.numClippingPlanes=be.numPlanes,n.numIntersection=be.numIntersection,p.clippingPlanes=be.uniform),n.fog=t,n.lightsHash=Ue.state.hash,e.lights&&(p.ambientLightColor.value=Ue.state.ambient,p.directionalLights.value=Ue.state.directional,p.spotLights.value=Ue.state.spot,p.rectAreaLights.value=Ue.state.rectArea,p.pointLights.value=Ue.state.point,p.hemisphereLights.value=Ue.state.hemi,p.directionalShadowMap.value=Ue.state.directionalShadowMap,p.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,p.spotShadowMap.value=Ue.state.spotShadowMap,p.spotShadowMatrix.value=Ue.state.spotShadowMatrix,p.pointShadowMap.value=Ue.state.pointShadowMap,p.pointShadowMatrix.value=Ue.state.pointShadowMatrix);var f=n.program.getUniforms(),m=W.seqWithValue(f.seq,p);n.uniformsList=m}function b(e,t,i,n){de=0;var r=De.get(i);if(xe&&(we||e!==re)){var a=e===re&&i.id===ie;be.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,e,r,a)}i.needsUpdate===!1&&(void 0===r.program?i.needsUpdate=!0:i.fog&&r.fog!==t?i.needsUpdate=!0:i.lights&&r.lightsHash!==Ue.state.hash?i.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===be.numPlanes&&r.numIntersection===be.numIntersection||(i.needsUpdate=!0)),i.needsUpdate&&(_(i,t,n),i.needsUpdate=!1);var o=!1,s=!1,l=!1,u=r.program,h=u.getUniforms(),d=r.shader.uniforms;if(ke.useProgram(u.program)&&(o=!0,s=!0,l=!0),i.id!==ie&&(ie=i.id,s=!0),o||e!==re){if(h.setValue(Ce,"projectionMatrix",e.projectionMatrix),Re.logarithmicDepthBuffer&&h.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),re!==(le||e)&&(re=le||e,s=!0,l=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var p=h.map.cameraPosition;void 0!==p&&p.setValue(Ce,Ee.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&h.setValue(Ce,"viewMatrix",e.matrixWorldInverse)}if(i.skinning){h.setOptional(Ce,n,"bindMatrix"),h.setOptional(Ce,n,"bindMatrixInverse");var f=n.skeleton;if(f){var m=f.bones;if(Re.floatVertexTextures){if(void 0===f.boneTexture){var v=Math.sqrt(4*m.length);v=Ps.nextPowerOfTwo(Math.ceil(v)),v=Math.max(v,4);var g=new Float32Array(v*v*4);g.set(f.boneMatrices);var y=new c(g,v,v,$o,Bo);f.boneMatrices=g,f.boneTexture=y,f.boneTextureSize=v}h.setValue(Ce,"boneTexture",f.boneTexture),h.setValue(Ce,"boneTextureSize",f.boneTextureSize)}else h.setOptional(Ce,f,"boneMatrices")}}return s&&(h.setValue(Ce,"toneMappingExposure",K.toneMappingExposure),h.setValue(Ce,"toneMappingWhitePoint",K.toneMappingWhitePoint),i.lights&&D(d,l),t&&i.fog&&M(d,t),i.isMeshBasicMaterial?x(d,i):i.isMeshLambertMaterial?(x(d,i),S(d,i)):i.isMeshPhongMaterial?(x(d,i),i.isMeshToonMaterial?A(d,i):C(d,i)):i.isMeshStandardMaterial?(x(d,i),i.isMeshPhysicalMaterial?O(d,i):P(d,i)):i.isMeshDepthMaterial?(x(d,i),L(d,i)):i.isMeshDistanceMaterial?(x(d,i),R(d,i)):i.isMeshNormalMaterial?(x(d,i),k(d,i)):i.isLineBasicMaterial?(w(d,i),i.isLineDashedMaterial&&T(d,i)):i.isPointsMaterial?E(d,i):i.isShadowMaterial&&(d.color.value=i.color,d.opacity.value=i.opacity),void 0!==d.ltcMat&&(d.ltcMat.value=Fs.LTC_MAT_TEXTURE),void 0!==d.ltcMag&&(d.ltcMag.value=Fs.LTC_MAG_TEXTURE),W.upload(Ce,r.uniformsList,d,K)),h.setValue(Ce,"modelViewMatrix",n.modelViewMatrix),h.setValue(Ce,"normalMatrix",n.normalMatrix),h.setValue(Ce,"modelMatrix",n.matrixWorld),u}function x(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var i;if(t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.roughnessMap?i=t.roughnessMap:t.metalnessMap?i=t.metalnessMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap),void 0!==i){i.isWebGLRenderTarget&&(i=i.texture);var n=i.offset,r=i.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function w(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function T(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function E(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*me,e.scale.value=.5*fe,e.map.value=t.map,null!==t.map){var i=t.map.offset,n=t.map.repeat;e.offsetRepeat.value.set(i.x,i.y,n.x,n.y)}}function M(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function S(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function C(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function A(e,t){C(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function P(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function O(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,P(e,t)}function L(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function R(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function k(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function D(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function I(){var e=de;return e>=Re.maxTextures,de+=1,e}e=e||{};var z=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),N=void 0!==e.context?e.context:null,B=void 0!==e.alpha&&e.alpha,F=void 0===e.depth||e.depth,U=void 0===e.stencil||e.stencil,j=void 0!==e.antialias&&e.antialias,H=void 0===e.premultipliedAlpha||e.premultipliedAlpha,G=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,V=[],$=[],X=null,Y=[],Q=[];this.domElement=z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=co,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var K=this,J=!1,ee=null,te=null,ie=-1,ne="",re=null,le=null,ue=new r,ce=new r,he=null,de=0,pe=z.width,fe=z.height,me=1,ve=new r(0,0,pe,fe),ge=new r(0,0,pe,fe),ye=!1,_e=new ae,be=new _t,xe=!1,we=!1,Te=new u,Ee=new l,Me={geometries:0,textures:0},Se={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Se,memory:Me,programs:null};var Ce;try{var Ae={alpha:B,depth:F,stencil:U,antialias:j,premultipliedAlpha:H,preserveDrawingBuffer:G};if(Ce=N||z.getContext("webgl",Ae)||z.getContext("experimental-webgl",Ae),null===Ce)throw null!==z.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),z.addEventListener("webglcontextlost",n,!1),z.addEventListener("webglcontextrestored",a,!1)}catch(Oe){}var Le,Re,ke,De,Ie,ze,Ne,Be,Ue,je,He,Ve,Ye,Ke,Je,et,tt,it;i();var nt=new gt(K);this.vr=nt;var rt=new oe(K,Be,Re.maxTextureSize);this.shadowMap=rt,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=Le.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Le.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return me},this.setPixelRatio=function(e){void 0!==e&&(me=e,this.setSize(pe,fe,!1))},this.getSize=function(){return{width:pe,height:fe}},this.setSize=function(e,t,i){var n=nt.getDevice();n&&n.isPresenting||(pe=e,fe=t,z.width=e*me,z.height=t*me,i!==!1&&(z.style.width=e+"px",z.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:pe*me,height:fe*me}},this.setDrawingBufferSize=function(e,t,i){pe=e,fe=t,me=i,z.width=e*i,z.height=t*i,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,i,n){ve.set(e,fe-t-n,i,n),ke.viewport(ue.copy(ve).multiplyScalar(me))},this.setScissor=function(e,t,i,n){ge.set(e,fe-t-n,i,n),ke.scissor(ce.copy(ge).multiplyScalar(me))},this.setScissorTest=function(e){ke.setScissorTest(ye=e)},this.getClearColor=Ve.getClearColor,this.setClearColor=Ve.setClearColor,this.getClearAlpha=Ve.getClearAlpha,this.setClearAlpha=Ve.setClearAlpha,this.clear=function(e,t,i){var n=0;(void 0===e||e)&&(n|=Ce.COLOR_BUFFER_BIT),(void 0===t||t)&&(n|=Ce.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=Ce.STENCIL_BUFFER_BIT),Ce.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,i,n){this.setRenderTarget(e),this.clear(t,i,n)},this.dispose=function(){z.removeEventListener("webglcontextlost",n,!1),z.removeEventListener("webglcontextrestored",a,!1),He.dispose(),nt.dispose()},this.renderBufferImmediate=function(e,t,i){ke.initAttributes();var n=De.get(e);e.hasPositions&&!n.position&&(n.position=Ce.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=Ce.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=Ce.createBuffer()),e.hasColors&&!n.color&&(n.color=Ce.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,n.position),Ce.bufferData(Ce.ARRAY_BUFFER,e.positionArray,Ce.DYNAMIC_DRAW),ke.enableAttribute(r.position),Ce.vertexAttribPointer(r.position,3,Ce.FLOAT,!1,0,0)),e.hasNormals){if(Ce.bindBuffer(Ce.ARRAY_BUFFER,n.normal),!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&!i.isMeshNormalMaterial&&i.flatShading===!0)for(var a=0,o=3*e.count;a<o;a+=9){var s=e.normalArray,l=(s[a+0]+s[a+3]+s[a+6])/3,u=(s[a+1]+s[a+4]+s[a+7])/3,c=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=l,s[a+1]=u,s[a+2]=c,s[a+3]=l,s[a+4]=u,s[a+5]=c,s[a+6]=l,s[a+7]=u,s[a+8]=c}Ce.bufferData(Ce.ARRAY_BUFFER,e.normalArray,Ce.DYNAMIC_DRAW),ke.enableAttribute(r.normal),Ce.vertexAttribPointer(r.normal,3,Ce.FLOAT,!1,0,0)}e.hasUvs&&i.map&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,n.uv),Ce.bufferData(Ce.ARRAY_BUFFER,e.uvArray,Ce.DYNAMIC_DRAW),ke.enableAttribute(r.uv),Ce.vertexAttribPointer(r.uv,2,Ce.FLOAT,!1,0,0)),e.hasColors&&i.vertexColors!==Ca&&(Ce.bindBuffer(Ce.ARRAY_BUFFER,n.color),Ce.bufferData(Ce.ARRAY_BUFFER,e.colorArray,Ce.DYNAMIC_DRAW),ke.enableAttribute(r.color),Ce.vertexAttribPointer(r.color,3,Ce.FLOAT,!1,0,0)),ke.disableUnusedAttributes(),Ce.drawArrays(Ce.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,i,n,r,a,o){ke.setMaterial(r);var s=b(e,i,r,a),l=n.id+"_"+s.id+"_"+(r.wireframe===!0),u=!1;l!==ne&&(ne=l,u=!0),a.morphTargetInfluences&&(Ye.update(a,n,r,s),u=!0);var c=n.index,h=n.attributes.position,d=1;r.wireframe===!0&&(c=Ne.getWireframeAttribute(n),d=2);var f,m=Ke;null!==c&&(f=ze.get(c),m=Je,m.setIndex(f)),u&&(p(r,s,n),null!==c&&Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,f.buffer));var v=0;null!==c?v=c.count:void 0!==h&&(v=h.count);var g=n.drawRange.start*d,y=n.drawRange.count*d,_=null!==o?o.start*d:0,x=null!==o?o.count*d:1/0,w=Math.max(g,_),T=Math.min(v,g+y,_+x)-1,E=Math.max(0,T-w+1);if(0!==E){if(a.isMesh)if(r.wireframe===!0)ke.setLineWidth(r.wireframeLinewidth*t()),m.setMode(Ce.LINES);else switch(a.drawMode){case vs:m.setMode(Ce.TRIANGLES);break;case gs:m.setMode(Ce.TRIANGLE_STRIP);break;case ys:m.setMode(Ce.TRIANGLE_FAN)}else if(a.isLine){var M=r.linewidth;void 0===M&&(M=1),ke.setLineWidth(M*t()),a.isLineSegments?m.setMode(Ce.LINES):a.isLineLoop?m.setMode(Ce.LINE_LOOP):m.setMode(Ce.LINE_STRIP)}else a.isPoints&&m.setMode(Ce.POINTS);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&m.renderInstances(n,w,E):m.render(w,E)}},this.compile=function(e,t){V.length=0,$.length=0,e.traverse(function(e){e.isLight&&(V.push(e),e.castShadow&&$.push(e))}),Ue.setup(V,$,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var i=0;i<t.material.length;i++)_(t.material[i],e.fog,t);else _(t.material,e.fog,t)})};var at=!1,ot=null;this.animate=function(e){ot=e,f()},this.render=function(e,t,i,n){if(t&&t.isCamera&&!J){ne="",ie=-1,re=null,e.autoUpdate===!0&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),nt.enabled&&(t=nt.getCamera(t)),Te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),_e.setFromMatrix(Te),V.length=0,$.length=0,Y.length=0,Q.length=0,we=this.localClippingEnabled,xe=be.init(this.clippingPlanes,we,t),X=He.get(e,t),X.init(),v(e,t,K.sortObjects),K.sortObjects===!0&&X.sort(),xe&&be.beginShadows(),rt.render($,e,t),Ue.setup(V,$,t),xe&&be.endShadows(),Se.frame++,Se.calls=0,Se.vertices=0,Se.faces=0,Se.points=0,void 0===i&&(i=null),this.setRenderTarget(i),Ve.render(X,e,t,n);var r=X.opaque,a=X.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;r.length&&g(r,e,t,o),a.length&&g(a,e,t,o)}else r.length&&g(r,e,t),a.length&&g(a,e,t);tt.render(Y,e,t),et.render(Q,e,t,ue),i&&Ie.updateRenderTargetMipmap(i),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1),nt.enabled&&nt.submitFrame()}},this.setFaceCulling=function(e,t){ke.setCullFace(e),ke.setFlipSided(t===ga)},this.allocTextureUnit=I,this.setTexture2D=function(){var e=!1;return function(t,i){t&&t.isWebGLRenderTarget&&(e||(e=!0),t=t.texture),Ie.setTexture2D(t,i)}}(),this.setTexture=function(){var e=!1;return function(t,i){e||(e=!0),Ie.setTexture2D(t,i)}}(),this.setTextureCube=function(){var e=!1;return function(t,i){t&&t.isWebGLRenderTargetCube&&(e||(e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Ie.setTextureCube(t,i):Ie.setTextureCubeDynamic(t,i)}}(),this.getRenderTarget=function(){return ee},this.setRenderTarget=function(e){ee=e,e&&void 0===De.get(e).__webglFramebuffer&&Ie.setupRenderTarget(e);var t=null,i=!1;if(e){var n=De.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=n[e.activeCubeFace],i=!0):t=n,ue.copy(e.viewport),ce.copy(e.scissor),he=e.scissorTest}else ue.copy(ve).multiplyScalar(me),ce.copy(ge).multiplyScalar(me),he=ye;if(te!==t&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,t),te=t),ke.viewport(ue),ke.scissor(ce),ke.setScissorTest(he),i){var r=De.get(e.texture);Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,i,n,r,a){if(e&&e.isWebGLRenderTarget){var o=De.get(e).__webglFramebuffer;if(o){var s=!1;o!==te&&(Ce.bindFramebuffer(Ce.FRAMEBUFFER,o),s=!0);try{var l=e.texture,u=l.format,c=l.type;if(u!==$o&&it.convert(u)!==Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(c===Ro||it.convert(c)===Ce.getParameter(Ce.IMPLEMENTATION_COLOR_READ_TYPE)||c===Bo&&(Le.get("OES_texture_float")||Le.get("WEBGL_color_buffer_float"))||c===Fo&&Le.get("EXT_color_buffer_half_float")))return;Ce.checkFramebufferStatus(Ce.FRAMEBUFFER)===Ce.FRAMEBUFFER_COMPLETE&&t>=0&&t<=e.width-n&&i>=0&&i<=e.height-r&&Ce.readPixels(t,i,n,r,it.convert(u),it.convert(c),a)}finally{s&&Ce.bindFramebuffer(Ce.FRAMEBUFFER,te)}}}}}function wt(e,t){this.name="",this.color=new $(e),this.density=void 0!==t?t:25e-5}function Tt(e,t,i){this.name="",this.color=new $(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3}function Et(){ce.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Mt(e,t,i,n,r){ce.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,i,n,r)}function St(e){Q.call(this),this.type="SpriteMaterial",this.color=new $(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Ct(e){ce.call(this),this.type="Sprite",this.material=void 0!==e?e:new St}function At(){ce.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Pt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new u)}}function Ot(){ce.call(this),this.type="Bone"}function Lt(e,t){Be.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new u,this.bindMatrixInverse=new u;var i=this.initBones(),n=new Pt(i);this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function Rt(e){Q.call(this),this.type="LineBasicMaterial",this.color=new $(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function kt(e,t,i){return 1===i?new Dt(e,t):(ce.call(this),this.type="Line",this.geometry=void 0!==e?e:new Pe,void(this.material=void 0!==t?t:new Rt({color:16777215*Math.random()})))}function Dt(e,t){kt.call(this,e,t),this.type="LineSegments"}function It(e,t){kt.call(this,e,t),this.type="LineLoop"}function zt(e){Q.call(this),this.type="PointsMaterial",this.color=new $(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function Nt(e,t){ce.call(this),this.type="Points",this.geometry=void 0!==e?e:new Pe,this.material=void 0!==t?t:new zt({color:16777215*Math.random()})}function Bt(){ce.call(this),this.type="Group"}function Ft(e,t,i,r,a,o,s,l,u){function c(){requestAnimationFrame(c),e.readyState>=e.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}n.call(this,e,t,i,r,a,o,s,l,u),this.generateMipmaps=!1;var h=this;c()}function Ut(e,t,i,r,a,o,s,l,u,c,h,d){n.call(this,null,o,s,l,u,c,r,a,h,d),
this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function jt(e,t,i,r,a,o,s,l,u,c){if(c=void 0!==c?c:Zo,c!==Zo&&c!==Qo)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&c===Zo&&(i=Io),void 0===i&&c===Qo&&(i=Go),n.call(this,null,r,a,o,s,l,c,i,u),this.image={width:e,height:t},this.magFilter=void 0!==s?s:So,this.minFilter=void 0!==l?l:So,this.flipY=!1,this.generateMipmaps=!1}function Ht(e){Pe.call(this),this.type="WireframeGeometry";var t,i,n,r,a,o,s,u,c,h,d=[],p=[0,0],f={},m=["a","b","c"];if(e&&e.isGeometry){var v=e.faces;for(t=0,n=v.length;t<n;t++){var g=v[t];for(i=0;i<3;i++)s=g[m[i]],u=g[m[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),c=p[0]+","+p[1],void 0===f[c]&&(f[c]={index1:p[0],index2:p[1]})}for(c in f)o=f[c],h=e.vertices[o.index1],d.push(h.x,h.y,h.z),h=e.vertices[o.index2],d.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var y,_,b,x,w,T,E,M;if(h=new l,null!==e.index){for(y=e.attributes.position,_=e.index,b=e.groups,0===b.length&&(b=[{start:0,count:_.count,materialIndex:0}]),r=0,a=b.length;r<a;++r)for(x=b[r],w=x.start,T=x.count,t=w,n=w+T;t<n;t+=3)for(i=0;i<3;i++)s=_.getX(t+i),u=_.getX(t+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),c=p[0]+","+p[1],void 0===f[c]&&(f[c]={index1:p[0],index2:p[1]});for(c in f)o=f[c],h.fromBufferAttribute(y,o.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,o.index2),d.push(h.x,h.y,h.z)}else for(y=e.attributes.position,t=0,n=y.count/3;t<n;t++)for(i=0;i<3;i++)E=3*t+i,h.fromBufferAttribute(y,E),d.push(h.x,h.y,h.z),M=3*t+(i+1)%3,h.fromBufferAttribute(y,M),d.push(h.x,h.y,h.z)}this.addAttribute("position",new Me(d,3))}function Gt(e,t,i){ve.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i},this.fromBufferGeometry(new Vt(e,t,i)),this.mergeVertices()}function Vt(e,t,i){Pe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:i};var n,r,a=[],o=[],s=[],u=[],c=1e-5,h=new l,d=new l,p=new l,f=new l,m=new l,v=t+1;for(n=0;n<=i;n++){var g=n/i;for(r=0;r<=t;r++){var y=r/t;d=e(y,g,d),o.push(d.x,d.y,d.z),y-c>=0?(p=e(y-c,g,p),f.subVectors(d,p)):(p=e(y+c,g,p),f.subVectors(p,d)),g-c>=0?(p=e(y,g-c,p),m.subVectors(d,p)):(p=e(y,g+c,p),m.subVectors(p,d)),h.crossVectors(f,m).normalize(),s.push(h.x,h.y,h.z),u.push(y,g)}}for(n=0;n<i;n++)for(r=0;r<t;r++){var _=n*v+r,b=n*v+r+1,x=(n+1)*v+r+1,w=(n+1)*v+r;a.push(_,b,w),a.push(b,x,w)}this.setIndex(a),this.addAttribute("position",new Me(o,3)),this.addAttribute("normal",new Me(s,3)),this.addAttribute("uv",new Me(u,2))}function Wt(e,t,i,n){ve.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n},this.fromBufferGeometry(new $t(e,t,i,n)),this.mergeVertices()}function $t(e,t,n,r){function a(e){for(var i=new l,n=new l,r=new l,a=0;a<t.length;a+=3)d(t[a+0],i),d(t[a+1],n),d(t[a+2],r),o(i,n,r,e)}function o(e,t,i,n){var r,a,o=Math.pow(2,n),s=[];for(r=0;r<=o;r++){s[r]=[];var l=e.clone().lerp(i,r/o),u=t.clone().lerp(i,r/o),c=o-r;for(a=0;a<=c;a++)0===a&&r===o?s[r][a]=l:s[r][a]=l.clone().lerp(u,a/c)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2===0?(h(s[r][d+1]),h(s[r+1][d]),h(s[r][d])):(h(s[r][d+1]),h(s[r+1][d+1]),h(s[r+1][d]))}}function s(e){for(var t=new l,i=0;i<g.length;i+=3)t.x=g[i+0],t.y=g[i+1],t.z=g[i+2],t.normalize().multiplyScalar(e),g[i+0]=t.x,g[i+1]=t.y,g[i+2]=t.z}function u(){for(var e=new l,t=0;t<g.length;t+=3){e.x=g[t+0],e.y=g[t+1],e.z=g[t+2];var i=m(e)/2/Math.PI+.5,n=v(e)/Math.PI+.5;y.push(i,1-n)}p(),c()}function c(){for(var e=0;e<y.length;e+=6){var t=y[e+0],i=y[e+2],n=y[e+4],r=Math.max(t,i,n),a=Math.min(t,i,n);r>.9&&a<.1&&(t<.2&&(y[e+0]+=1),i<.2&&(y[e+2]+=1),n<.2&&(y[e+4]+=1))}}function h(e){g.push(e.x,e.y,e.z)}function d(t,i){var n=3*t;i.x=e[n+0],i.y=e[n+1],i.z=e[n+2]}function p(){for(var e=new l,t=new l,n=new l,r=new l,a=new i,o=new i,s=new i,u=0,c=0;u<g.length;u+=9,c+=6){e.set(g[u+0],g[u+1],g[u+2]),t.set(g[u+3],g[u+4],g[u+5]),n.set(g[u+6],g[u+7],g[u+8]),a.set(y[c+0],y[c+1]),o.set(y[c+2],y[c+3]),s.set(y[c+4],y[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=m(r);f(a,c+0,e,h),f(o,c+2,t,h),f(s,c+4,n,h)}}function f(e,t,i,n){n<0&&1===e.x&&(y[t]=e.x-1),0===i.x&&0===i.z&&(y[t]=n/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function v(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}Pe.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;var g=[],y=[];a(r),s(n),u(),this.addAttribute("position",new Me(g,3)),this.addAttribute("normal",new Me(g.slice(),3)),this.addAttribute("uv",new Me(y,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Xt(e,t){ve.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new qt(e,t)),this.mergeVertices()}function qt(e,t){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];$t.call(this,i,n,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Yt(e,t){ve.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Zt(e,t)),this.mergeVertices()}function Zt(e,t){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];$t.call(this,i,n,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Qt(e,t){ve.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kt(e,t)),this.mergeVertices()}function Kt(e,t){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];$t.call(this,n,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Jt(e,t){ve.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ei(e,t)),this.mergeVertices()}function ei(e,t){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];$t.call(this,r,a,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ti(e,t,i,n,r,a){ve.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:n,closed:r};var o=new ii(e,t,i,n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function ii(e,t,n,r,a){function o(){for(d=0;d<t;d++)s(d);s(a===!1?t:0),c(),u()}function s(i){var a=e.getPointAt(i/t),o=h.normals[i],s=h.binormals[i];for(p=0;p<=r;p++){var l=p/r*Math.PI*2,u=Math.sin(l),c=-Math.cos(l);m.x=c*o.x+u*s.x,m.y=c*o.y+u*s.y,m.z=c*o.z+u*s.z,m.normalize(),y.push(m.x,m.y,m.z),f.x=a.x+n*m.x,f.y=a.y+n*m.y,f.z=a.z+n*m.z,g.push(f.x,f.y,f.z)}}function u(){for(p=1;p<=t;p++)for(d=1;d<=r;d++){var e=(r+1)*(p-1)+(d-1),i=(r+1)*p+(d-1),n=(r+1)*p+d,a=(r+1)*(p-1)+d;b.push(e,i,a),b.push(i,n,a)}}function c(){for(d=0;d<=t;d++)for(p=0;p<=r;p++)v.x=d/t,v.y=p/r,_.push(v.x,v.y)}Pe.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a},t=t||64,n=n||1,r=r||8,a=a||!1;var h=e.computeFrenetFrames(t,a);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var d,p,f=new l,m=new l,v=new i,g=[],y=[],_=[],b=[];o(),this.setIndex(b),this.addAttribute("position",new Me(g,3)),this.addAttribute("normal",new Me(y,3)),this.addAttribute("uv",new Me(_,2))}function ni(e,t,i,n,r,a,o){ve.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:a},this.fromBufferGeometry(new ri(e,t,i,n,r,a)),this.mergeVertices()}function ri(e,t,i,n,r,a){function o(e,t,i,n,r){var a=Math.cos(e),o=Math.sin(e),s=i/t*e,l=Math.cos(s);r.x=n*(2+l)*.5*a,r.y=n*(2+l)*o*.5,r.z=n*Math.sin(s)*.5}Pe.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:a},e=e||100,t=t||40,i=Math.floor(i)||64,n=Math.floor(n)||8,r=r||2,a=a||3;var s,u,c=[],h=[],d=[],p=[],f=new l,m=new l,v=new l,g=new l,y=new l,_=new l,b=new l;for(s=0;s<=i;++s){var x=s/i*r*Math.PI*2;for(o(x,r,a,e,v),o(x+.01,r,a,e,g),_.subVectors(g,v),b.addVectors(g,v),y.crossVectors(_,b),b.crossVectors(y,_),y.normalize(),b.normalize(),u=0;u<=n;++u){var w=u/n*Math.PI*2,T=-t*Math.cos(w),E=t*Math.sin(w);f.x=v.x+(T*b.x+E*y.x),f.y=v.y+(T*b.y+E*y.y),f.z=v.z+(T*b.z+E*y.z),h.push(f.x,f.y,f.z),m.subVectors(f,v).normalize(),d.push(m.x,m.y,m.z),p.push(s/i),p.push(u/n)}}for(u=1;u<=i;u++)for(s=1;s<=n;s++){var M=(n+1)*(u-1)+(s-1),S=(n+1)*u+(s-1),C=(n+1)*u+s,A=(n+1)*(u-1)+s;c.push(M,S,A),c.push(S,C,A)}this.setIndex(c),this.addAttribute("position",new Me(h,3)),this.addAttribute("normal",new Me(d,3)),this.addAttribute("uv",new Me(p,2))}function ai(e,t,i,n,r){ve.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new oi(e,t,i,n,r)),this.mergeVertices()}function oi(e,t,i,n,r){Pe.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},e=e||100,t=t||40,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=[],u=[],c=[],h=[],d=new l,p=new l,f=new l;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var m=o/n*r,v=a/i*Math.PI*2;p.x=(e+t*Math.cos(v))*Math.cos(m),p.y=(e+t*Math.cos(v))*Math.sin(m),p.z=t*Math.sin(v),u.push(p.x,p.y,p.z),d.x=e*Math.cos(m),d.y=e*Math.sin(m),f.subVectors(p,d).normalize(),c.push(f.x,f.y,f.z),h.push(o/n),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var g=(n+1)*a+o-1,y=(n+1)*(a-1)+o-1,_=(n+1)*(a-1)+o,b=(n+1)*a+o;s.push(g,y,b),s.push(y,_,b)}this.setIndex(s),this.addAttribute("position",new Me(u,3)),this.addAttribute("normal",new Me(c,3)),this.addAttribute("uv",new Me(h,2))}function si(e,t){ve.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new li(e,t)),this.mergeVertices()}function li(e,t){"undefined"!=typeof e&&(Pe.call(this),this.type="ExtrudeBufferGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function ui(e,t){ve.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new ci(e,t)),this.mergeVertices()}function ci(e,t){t=t||{};var i=t.font;if(!i||!i.isFont)return new ve;var n=i.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),li.call(this,n,t),this.type="TextBufferGeometry"}function hi(e,t,i,n,r,a,o){ve.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new di(e,t,i,n,r,a,o)),this.mergeVertices()}function di(e,t,i,n,r,a,o){Pe.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},e=e||50,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,c=a+o,h=0,d=[],p=new l,f=new l,m=[],v=[],g=[],y=[];for(u=0;u<=i;u++){var _=[],b=u/i;for(s=0;s<=t;s++){var x=s/t;p.x=-e*Math.cos(n+x*r)*Math.sin(a+b*o),p.y=e*Math.cos(a+b*o),p.z=e*Math.sin(n+x*r)*Math.sin(a+b*o),v.push(p.x,p.y,p.z),f.set(p.x,p.y,p.z).normalize(),g.push(f.x,f.y,f.z),y.push(x,1-b),_.push(h++)}d.push(_)}for(u=0;u<i;u++)for(s=0;s<t;s++){var w=d[u][s+1],T=d[u][s],E=d[u+1][s],M=d[u+1][s+1];(0!==u||a>0)&&m.push(w,T,M),(u!==i-1||c<Math.PI)&&m.push(T,E,M)}this.setIndex(m),this.addAttribute("position",new Me(v,3)),this.addAttribute("normal",new Me(g,3)),this.addAttribute("uv",new Me(y,2))}function pi(e,t,i,n,r,a){ve.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new fi(e,t,i,n,r,a)),this.mergeVertices()}function fi(e,t,n,r,a,o){Pe.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},e=e||20,t=t||50,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,u,c,h=[],d=[],p=[],f=[],m=e,v=(t-e)/r,g=new l,y=new i;for(u=0;u<=r;u++){for(c=0;c<=n;c++)s=a+c/n*o,g.x=m*Math.cos(s),g.y=m*Math.sin(s),d.push(g.x,g.y,g.z),p.push(0,0,1),y.x=(g.x/t+1)/2,y.y=(g.y/t+1)/2,f.push(y.x,y.y);m+=v}for(u=0;u<r;u++){var _=u*(n+1);for(c=0;c<n;c++){s=c+_;var b=s,x=s+n+1,w=s+n+2,T=s+1;h.push(b,x,T),h.push(x,w,T)}}this.setIndex(h),this.addAttribute("position",new Me(d,3)),this.addAttribute("normal",new Me(p,3)),this.addAttribute("uv",new Me(f,2))}function mi(e,t,i,n){ve.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},this.fromBufferGeometry(new vi(e,t,i,n)),this.mergeVertices()}function vi(e,t,n,r){Pe.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Ps.clamp(r,0,2*Math.PI);var a,o,s,u=[],c=[],h=[],d=1/t,p=new l,f=new i;for(o=0;o<=t;o++){var m=n+o*d*r,v=Math.sin(m),g=Math.cos(m);for(s=0;s<=e.length-1;s++)p.x=e[s].x*v,p.y=e[s].y,p.z=e[s].x*g,c.push(p.x,p.y,p.z),f.x=o/t,f.y=s/(e.length-1),h.push(f.x,f.y)}for(o=0;o<t;o++)for(s=0;s<e.length-1;s++){a=s+o*e.length;var y=a,_=a+e.length,b=a+e.length+1,x=a+1;u.push(y,_,x),u.push(_,b,x)}if(this.setIndex(u),this.addAttribute("position",new Me(c,3)),this.addAttribute("uv",new Me(h,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,T=new l,E=new l,M=new l;for(a=t*e.length*3,o=0,s=0;o<e.length;o++,s+=3)T.x=w[s+0],T.y=w[s+1],T.z=w[s+2],E.x=w[a+s+0],E.y=w[a+s+1],E.z=w[a+s+2],M.addVectors(T,E).normalize(),w[s+0]=w[a+s+0]=M.x,w[s+1]=w[a+s+1]=M.y,w[s+2]=w[a+s+2]=M.z}}function gi(e,t){ve.call(this),this.type="ShapeGeometry","object"==typeof t&&(t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new yi(e,t)),this.mergeVertices()}function yi(e,t){function i(e){var i,s,u,c=r.length/3,h=e.extractPoints(t),d=h.shape,p=h.holes;if(qu.isClockWise(d)===!1)for(d=d.reverse(),i=0,s=p.length;i<s;i++)u=p[i],qu.isClockWise(u)===!0&&(p[i]=u.reverse());var f=qu.triangulateShape(d,p);for(i=0,s=p.length;i<s;i++)u=p[i],d=d.concat(u);for(i=0,s=d.length;i<s;i++){var m=d[i];r.push(m.x,m.y,0),a.push(0,0,1),o.push(m.x,m.y)}for(i=0,s=f.length;i<s;i++){var v=f[i],g=v[0]+c,y=v[1]+c,_=v[2]+c;n.push(g,y,_),l+=3}}Pe.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],a=[],o=[],s=0,l=0;if(Array.isArray(e)===!1)i(e);else for(var u=0;u<e.length;u++)i(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(n),this.addAttribute("position",new Me(r,3)),this.addAttribute("normal",new Me(a,3)),this.addAttribute("uv",new Me(o,2))}function _i(e,t){Pe.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var i,n,r,a,o=[],s=Math.cos(Ps.DEG2RAD*t),l=[0,0],u={},c=["a","b","c"];e.isBufferGeometry?(a=new ve,a.fromBufferGeometry(e)):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var h=a.vertices,d=a.faces,p=0,f=d.length;p<f;p++)for(var m=d[p],v=0;v<3;v++)i=m[c[v]],n=m[c[(v+1)%3]],l[0]=Math.min(i,n),l[1]=Math.max(i,n),r=l[0]+","+l[1],void 0===u[r]?u[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:u[r].face2=p;for(r in u){var g=u[r];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=s){var y=h[g.index1];o.push(y.x,y.y,y.z),y=h[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Me(o,3))}function bi(e,t,i,n,r,a,o,s){ve.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new xi(e,t,i,n,r,a,o,s)),this.mergeVertices()}function xi(e,t,n,r,a,o,s,u){function c(){var i,o,c=new l,h=new l,x=0,w=(t-e)/n;for(o=0;o<=a;o++){var T=[],E=o/a,M=E*(t-e)+e;for(i=0;i<=r;i++){var S=i/r,C=S*u+s,A=Math.sin(C),P=Math.cos(C);h.x=M*A,h.y=-E*n+_,h.z=M*P,f.push(h.x,h.y,h.z),c.set(A,w,P).normalize(),m.push(c.x,c.y,c.z),v.push(S,1-E),T.push(g++)}y.push(T)}for(i=0;i<r;i++)for(o=0;o<a;o++){var O=y[o][i],L=y[o+1][i],R=y[o+1][i+1],k=y[o][i+1];p.push(O,L,k),p.push(L,R,k),x+=6}d.addGroup(b,x,0),b+=x}function h(n){var a,o,c,h=new i,y=new l,x=0,w=n===!0?e:t,T=n===!0?1:-1;for(o=g,a=1;a<=r;a++)f.push(0,_*T,0),m.push(0,T,0),v.push(.5,.5),g++;for(c=g,a=0;a<=r;a++){var E=a/r,M=E*u+s,S=Math.cos(M),C=Math.sin(M);y.x=w*C,y.y=_*T,y.z=w*S,f.push(y.x,y.y,y.z),m.push(0,T,0),h.x=.5*S+.5,h.y=.5*C*T+.5,v.push(h.x,h.y),g++}for(a=0;a<r;a++){var A=o+a,P=c+a;n===!0?p.push(P,P+1,A):p.push(P+1,P,A),x+=3}d.addGroup(b,x,n===!0?1:2),b+=x}Pe.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u};var d=this;e=void 0!==e?e:20,t=void 0!==t?t:20,n=void 0!==n?n:100,r=Math.floor(r)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var p=[],f=[],m=[],v=[],g=0,y=[],_=n/2,b=0;c(),o===!1&&(e>0&&h(!0),t>0&&h(!1)),this.setIndex(p),this.addAttribute("position",new Me(f,3)),this.addAttribute("normal",new Me(m,3)),this.addAttribute("uv",new Me(v,2))}function wi(e,t,i,n,r,a,o){bi.call(this,0,e,t,i,n,r,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Ti(e,t,i,n,r,a,o){xi.call(this,0,e,t,i,n,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Ei(e,t,i,n){ve.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new Mi(e,t,i,n)),this.mergeVertices()}function Mi(e,t,n,r){Pe.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var a,o,s=[],u=[],c=[],h=[],d=new l,p=new i;for(u.push(0,0,0),c.push(0,0,1),h.push(.5,.5),o=0,a=3;o<=t;o++,a+=3){var f=n+o/t*r;d.x=e*Math.cos(f),d.y=e*Math.sin(f),u.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(u[a]/e+1)/2,p.y=(u[a+1]/e+1)/2,h.push(p.x,p.y)}for(a=1;a<=t;a++)s.push(a,a+1,0);this.setIndex(s),this.addAttribute("position",new Me(u,3)),this.addAttribute("normal",new Me(c,3)),this.addAttribute("uv",new Me(h,2))}function Si(e){Q.call(this),this.type="ShadowMaterial",this.color=new $(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function Ci(e){K.call(this,e),this.type="RawShaderMaterial"}function Ai(e){Q.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Pi(e){Ai.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Oi(e){Q.call(this),this.type="MeshPhongMaterial",this.color=new $(16777215),this.specular=new $(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Li(e){Oi.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Ri(e){Q.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ki(e){Q.call(this),this.type="MeshLambertMaterial",this.color=new $(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=oo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Di(e){Rt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Ii(e,t,i){var n=this,r=!1,a=0,o=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){o++,r===!1&&void 0!==n.onStart&&n.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==n.onProgress&&n.onProgress(e,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)}}function zi(e){this.manager=void 0!==e?e:Ku}function Ni(e){this.manager=void 0!==e?e:Ku,this._parser=null}function Bi(e){this.manager=void 0!==e?e:Ku,this._parser=null}function Fi(e){this.manager=void 0!==e?e:Ku}function Ui(e){this.manager=void 0!==e?e:Ku}function ji(e){this.manager=void 0!==e?e:Ku}function Hi(e,t){ce.call(this),this.type="Light",this.color=new $(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Gi(e,t,i){Hi.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ce.DefaultUp),this.updateMatrix(),this.groundColor=new $(t)}function Vi(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new u}function Wi(){Vi.call(this,new pe(50,1,.5,500))}function $i(e,t,i,n,r,a){Hi.call(this,e,t),this.type="SpotLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Wi}function Xi(e,t,i,n){Hi.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Vi(new pe(90,1,.5,500))}function qi(){Vi.call(this,new de((-5),5,5,(-5),.5,500))}function Yi(e,t){Hi.call(this,e,t),this.type="DirectionalLight",this.position.copy(ce.DefaultUp),this.updateMatrix(),this.target=new ce,this.shadow=new qi}function Zi(e,t){Hi.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Qi(e,t,i,n){Hi.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==i?i:10,this.height=void 0!==n?n:10}function Ki(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i}function Ji(e,t,i,n){Ki.call(this,e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function en(e,t,i,n){Ki.call(this,e,t,i,n)}function tn(e,t,i,n){Ki.call(this,e,t,i,n)}function nn(e,t,i,n){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=Ju.convertArray(t,this.TimeBufferType),this.values=Ju.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function rn(e,t,i,n){nn.call(this,e,t,i,n)}function an(e,t,i,n){Ki.call(this,e,t,i,n)}function on(e,t,i,n){nn.call(this,e,t,i,n)}function sn(e,t,i,n){nn.call(this,e,t,i,n)}function ln(e,t,i,n){nn.call(this,e,t,i,n)}function un(e,t,i){nn.call(this,e,t,i)}function cn(e,t,i,n){nn.call(this,e,t,i,n)}function hn(e,t,i,n){nn.apply(this,arguments)}function dn(e,t,i){this.name=e,this.tracks=i,this.duration=void 0!==t?t:-1,this.uuid=Ps.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function pn(e){this.manager=void 0!==e?e:Ku,this.textures={}}function fn(e){this.manager=void 0!==e?e:Ku}function mn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function vn(e){"boolean"==typeof e&&(e=void 0),this.manager=void 0!==e?e:Ku,this.withCredentials=!1}function gn(e){this.manager=void 0!==e?e:Ku,this.texturePath=""}function yn(e,t,i,n,r){var a=.5*(n-t),o=.5*(r-i),s=e*e,l=e*s;return(2*i-2*n+a+o)*l+(-3*i+3*n-2*a-o)*s+a*e+i}function _n(e,t){var i=1-e;return i*i*t}function bn(e,t){return 2*(1-e)*e*t}function xn(e,t){return e*e*t}function wn(e,t,i,n){return _n(e,t)+bn(e,i)+xn(e,n)}function Tn(e,t){var i=1-e;return i*i*i*t}function En(e,t){var i=1-e;return 3*i*i*e*t}function Mn(e,t){return 3*(1-e)*e*e*t}function Sn(e,t){return e*e*e*t}function Cn(e,t,i,n,r){return Tn(e,t)+En(e,i)+Mn(e,n)+Sn(e,r)}function An(){this.arcLengthDivisions=200}function Pn(e,t){An.call(this),this.v1=e,this.v2=t}function On(){An.call(this),this.curves=[],this.autoClose=!1}function Ln(e,t,i,n,r,a,o,s){An.call(this),this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}function Rn(e){An.call(this),this.points=void 0===e?[]:e}function kn(e,t,i,n){An.call(this),this.v0=e,this.v1=t,this.v2=i,this.v3=n}function Dn(e,t,i){An.call(this),this.v0=e,this.v1=t,this.v2=i}function In(e){On.call(this),this.currentPoint=new i,e&&this.fromPoints(e)}function zn(){In.apply(this,arguments),this.holes=[]}function Nn(){this.subPaths=[],this.currentPath=null}function Bn(e){this.data=e}function Fn(e){this.manager=void 0!==e?e:Ku}function Un(e){this.manager=void 0!==e?e:Ku}function jn(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new pe,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new pe,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Hn(e,t,i){ce.call(this),this.type="CubeCamera";var n=90,r=1,a=new pe(n,r,e,t);a.up.set(0,-1,0),a.lookAt(new l(1,0,0)),this.add(a);var s=new pe(n,r,e,t);s.up.set(0,-1,0),s.lookAt(new l((-1),0,0)),this.add(s);var u=new pe(n,r,e,t);u.up.set(0,0,1),u.lookAt(new l(0,1,0)),this.add(u);var c=new pe(n,r,e,t);c.up.set(0,0,-1),c.lookAt(new l(0,(-1),0)),this.add(c);var h=new pe(n,r,e,t);h.up.set(0,-1,0),h.lookAt(new l(0,0,1)),this.add(h);var d=new pe(n,r,e,t);d.up.set(0,-1,0),d.lookAt(new l(0,0,(-1))),this.add(d);var p={format:Wo,magFilter:Po,minFilter:Po};this.renderTarget=new o(i,i,p),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,a,i),i.activeCubeFace=1,e.render(t,s,i),i.activeCubeFace=2,e.render(t,u,i),i.activeCubeFace=3,e.render(t,c,i),i.activeCubeFace=4,e.render(t,h,i),i.texture.generateMipmaps=n,i.activeCubeFace=5,e.render(t,d,i),e.setRenderTarget(null)},this.clear=function(e,t,i,n){for(var r=this.renderTarget,a=0;a<6;a++)r.activeCubeFace=a,e.setRenderTarget(r),e.clear(t,i,n);e.setRenderTarget(null)}}function Gn(){ce.call(this),this.type="AudioListener",this.context=sc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Vn(e){ce.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Wn(e){Vn.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function $n(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Xn(e,t,i){this.binding=e,this.valueSize=i;var n,r=Float64Array;switch(t){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function qn(e,t,i){var n=i||Yn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Yn(e,t,i){this.path=t,this.parsedPath=i||Yn.parseTrackName(t),this.node=Yn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Zn(e){this.uuid=Ps.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var i=0,n=arguments.length;i!==n;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Qn(e,t,i){this._mixer=e,this._clip=t,this._localRoot=i||null;for(var n=t.tracks,r=n.length,a=new Array(r),o={endingStart:ps,endingEnd:ps},s=0;s!==r;++s){var l=n[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ls,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Kn(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Jn(e){"string"==typeof e&&(e=arguments[1]),this.value=e}function er(){Pe.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function tr(e,t,i,n){this.uuid=Ps.generateUUID(),this.data=e,this.itemSize=t,this.offset=i,this.normalized=n===!0}function ir(e,t){this.uuid=Ps.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function nr(e,t,i){ir.call(this,e,t),this.meshPerAttribute=i||1}function rr(e,t,i){ge.call(this,e,t),this.meshPerAttribute=i||1}function ar(e,t,i,n){
this.ray=new Ie(e,t),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})}function or(e,t){return e.distance-t.distance}function sr(e,t,i,n){if(e.visible!==!1&&(e.raycast(t,i),n===!0))for(var r=e.children,a=0,o=r.length;a<o;a++)sr(r[a],t,i,!0)}function lr(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ur(e,t,i){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this}function cr(e,t,i){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==i?i:0,this}function hr(e){ce.call(this),this.material=e,this.render=function(e){}}function dr(e,t,i,n){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==i?i:16711680,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new Pe,u=new Me(2*o*3,3);l.addAttribute("position",u),Dt.call(this,l,new Rt({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function pr(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var i=new Pe,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1,o=32;r<o;r++,a++){var s=r/o*Math.PI*2,l=a/o*Math.PI*2;n.push(Math.cos(s),Math.sin(s),1,Math.cos(l),Math.sin(l),1)}i.addAttribute("position",new Me(n,3));var u=new Rt({fog:!1});this.cone=new Dt(i,u),this.add(this.cone),this.update()}function fr(e){var t=[];e&&e.isBone&&t.push(e);for(var i=0;i<e.children.length;i++)t.push.apply(t,fr(e.children[i]));return t}function mr(e){for(var t=fr(e),i=new Pe,n=[],r=[],a=new $(0,0,1),o=new $(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}i.addAttribute("position",new Me(n,3)),i.addAttribute("color",new Me(r,3));var u=new Rt({vertexColors:Pa,depthTest:!1,depthWrite:!1,transparent:!0});Dt.call(this,i,u),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.onBeforeRender()}function vr(e,t,i){this.light=e,this.light.updateMatrixWorld(),this.color=i;var n=new di(t,4,2),r=new De({wireframe:!0,fog:!1});Be.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function gr(e,t){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var i=new Rt({fog:!1}),n=new Pe;n.addAttribute("position",new ge(new Float32Array(15),3)),this.line=new kt(n,i),this.add(this.line),this.update()}function yr(e,t,i){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var n=new Zt(t);n.rotateY(.5*Math.PI),this.material=new De({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Pa);var r=n.getAttribute("position"),a=new Float32Array(3*r.count);n.addAttribute("color",new ge(a,3)),this.add(new Be(n,this.material)),this.update()}function _r(e,t,i,n){e=e||10,t=t||10,i=new $(void 0!==i?i:4473924),n=new $(void 0!==n?n:8947848);for(var r=t/2,a=e/t,o=e/2,s=[],l=[],u=0,c=0,h=-o;u<=t;u++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var d=u===r?i:n;d.toArray(l,c),c+=3,d.toArray(l,c),c+=3,d.toArray(l,c),c+=3,d.toArray(l,c),c+=3}var p=new Pe;p.addAttribute("position",new Me(s,3)),p.addAttribute("color",new Me(l,3));var f=new Rt({vertexColors:Pa});Dt.call(this,p,f)}function br(e,t,i,n,r,a){e=e||10,t=t||16,i=i||8,n=n||64,r=new $(void 0!==r?r:4473924),a=new $(void 0!==a?a:8947848);var o,s,l,u,c,h,d,p=[],f=[];for(u=0;u<=t;u++)l=u/t*(2*Math.PI),o=Math.sin(l)*e,s=Math.cos(l)*e,p.push(0,0,0),p.push(o,0,s),d=1&u?r:a,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(u=0;u<=i;u++)for(d=1&u?r:a,h=e-e/i*u,c=0;c<n;c++)l=c/n*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,p.push(o,0,s),f.push(d.r,d.g,d.b),l=(c+1)/n*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,p.push(o,0,s),f.push(d.r,d.g,d.b);var m=new Pe;m.addAttribute("position",new Me(p,3)),m.addAttribute("color",new Me(f,3));var v=new Rt({vertexColors:Pa});Dt.call(this,m,v)}function xr(e,t,i,n){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==i?i:16776960,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var l=new Pe,u=new Me(2*o*3,3);l.addAttribute("position",u),Dt.call(this,l,new Rt({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function wr(e,t,i){ce.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===t&&(t=1);var n=new Pe;n.addAttribute("position",new Me([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new Rt({fog:!1});this.lightPlane=new kt(n,r),this.add(this.lightPlane),n=new Pe,n.addAttribute("position",new Me([0,0,0,0,0,1],3)),this.targetLine=new kt(n,r),this.add(this.targetLine),this.update()}function Tr(e){function t(e,t,n){i(e,n),i(t,n)}function i(e,t){a.push(0,0,0),o.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(a.length/3-1)}var n=new Pe,r=new Rt({color:16777215,vertexColors:Aa}),a=[],o=[],s={},l=new $(16755200),u=new $(16711680),c=new $(43775),h=new $(16777215),d=new $(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",u),t("p","n2",u),t("p","n3",u),t("p","n4",u),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),n.addAttribute("position",new Me(a,3)),n.addAttribute("color",new Me(o,3)),Dt.call(this,n,r),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Er(e,t){this.object=e,void 0===t&&(t=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new Pe;r.setIndex(new ge(i,1)),r.addAttribute("position",new ge(n,3)),Dt.call(this,r,new Rt({color:t})),this.matrixAutoUpdate=!1,this.update()}function Mr(e,t){this.type="Box3Helper",this.box=e;var i=void 0!==t?t:16776960,n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Pe;a.setIndex(new ge(n,1)),a.addAttribute("position",new Me(r,3)),Dt.call(this,a,new Rt({color:i})),this.geometry.computeBoundingSphere(),this.onBeforeRender()}function Sr(e,t,i){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var n=void 0!==i?i:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new Pe;a.addAttribute("position",new Me(r,3)),a.computeBoundingSphere(),kt.call(this,a,new Rt({color:n}));var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new Pe;s.addAttribute("position",new Me(o,3)),s.computeBoundingSphere(),this.add(new Be(s,new De({color:n,opacity:.2,transparent:!0,depthWrite:!1}))),this.onBeforeRender()}function Cr(e,t,i,n,r,a){ce.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),void 0===lc&&(lc=new Pe,lc.addAttribute("position",new Me([0,0,0,0,1,0],3)),uc=new xi(0,.5,1,5,1),uc.translate(0,-.5,0)),this.position.copy(t),this.line=new kt(lc,new Rt({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Be(uc,new De({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,a)}function Ar(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new Pe;n.addAttribute("position",new Me(t,3)),n.addAttribute("color",new Me(i,3));var r=new Rt({vertexColors:Pa});Dt.call(this,n,r)}function Pr(){function e(e,a,o,s){t=e,i=o,n=-3*e+3*a-2*o-s,r=2*e-2*a+o+s}var t=0,i=0,n=0,r=0;return{initCatmullRom:function(t,i,n,r,a){e(i,n,a*(n-t),a*(r-i))},initNonuniformCatmullRom:function(t,i,n,r,a,o,s){var l=(i-t)/a-(n-t)/(a+o)+(n-i)/o,u=(n-i)/o-(r-i)/(o+s)+(r-n)/s;l*=o,u*=o,e(i,n,l,u)},calc:function(e){var a=e*e,o=a*e;return t+i*e+n*a+r*o}}}function Or(e){An.call(this),e.length<2,this.points=e||[],this.closed=!1}function Lr(e,t,i,n){An.call(this),this.v0=e,this.v1=t,this.v2=i,this.v3=n}function Rr(e,t,i){An.call(this),this.v0=e,this.v1=t,this.v2=i}function kr(e,t){An.call(this),this.v1=e,this.v2=t}function Dr(e,t,i,n,r,a){Ln.call(this,e,t,i,i,n,r,a)}function Ir(e,t,i,n,r,a,o){return new fe(e,t,i,r,a,o)}function zr(e){return e}function Nr(e){return void 0===e&&(e=[]),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Br(e,t){return new Nt(e,t)}function Fr(e){return new Ct(e)}function Ur(e,t){return new Nt(e,t)}function jr(e){return new zt(e)}function Hr(e){return new zt(e)}function Gr(e){return new zt(e)}function Vr(e,t,i){return new l(e,t,i)}function Wr(e,t){return new ge(e,t).setDynamic(!0)}function $r(e,t){return new ye(e,t)}function Xr(e,t){return new _e(e,t)}function qr(e,t){return new be(e,t)}function Yr(e,t){return new xe(e,t)}function Zr(e,t){return new we(e,t)}function Qr(e,t){return new Te(e,t)}function Kr(e,t){return new Ee(e,t)}function Jr(e,t){return new Me(e,t)}function ea(e,t){return new Se(e,t)}function ta(e){Or.call(this,e),this.type="catmullrom",this.closed=!0}function ia(e){Or.call(this,e),this.type="catmullrom"}function na(e){Or.call(this,e),this.type="catmullrom"}function ra(e,t){return new Er(e,t)}function aa(e,t){return new Dt(new _i(e.geometry),new Rt({color:void 0!==t?t:16777215}))}function oa(e,t){return new Dt(new Ht(e.geometry),new Rt({color:void 0!==t?t:16777215}))}function sa(e){return new zi(e)}function la(e){return new Bi(e)}function ua(){this.projectVector=function(e,t){e.project(t)},this.unprojectVector=function(e,t){e.unproject(t)},this.pickingRay=function(){}}function ca(){this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}}(),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&i[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners,n=i[e];if(void 0!==n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,i=t[e.type];if(void 0!==i){e.target=this;for(var n=i.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,e)}}}});var ha="87",da={LEFT:0,MIDDLE:1,RIGHT:2},pa=0,fa=1,ma=2,va=3,ga=0,ya=1,_a=0,ba=1,xa=2,wa=0,Ta=1,Ea=2,Ma=1,Sa=2,Ca=0,Aa=1,Pa=2,Oa=0,La=1,Ra=2,ka=3,Da=4,Ia=5,za=100,Na=101,Ba=102,Fa=103,Ua=104,ja=200,Ha=201,Ga=202,Va=203,Wa=204,$a=205,Xa=206,qa=207,Ya=208,Za=209,Qa=210,Ka=0,Ja=1,eo=2,to=3,io=4,no=5,ro=6,ao=7,oo=0,so=1,lo=2,uo=0,co=1,ho=2,po=3,fo=4,mo=300,vo=301,go=302,yo=303,_o=304,bo=305,xo=306,wo=307,To=1e3,Eo=1001,Mo=1002,So=1003,Co=1004,Ao=1005,Po=1006,Oo=1007,Lo=1008,Ro=1009,ko=1010,Do=1011,Io=1012,zo=1013,No=1014,Bo=1015,Fo=1016,Uo=1017,jo=1018,Ho=1019,Go=1020,Vo=1021,Wo=1022,$o=1023,Xo=1024,qo=1025,Yo=$o,Zo=1026,Qo=1027,Ko=2001,Jo=2002,es=2003,ts=2004,is=2100,ns=2101,rs=2102,as=2103,os=2151,ss=2200,ls=2201,us=2202,cs=2300,hs=2301,ds=2302,ps=2400,fs=2401,ms=2402,vs=0,gs=1,ys=2,_s=3e3,bs=3001,xs=3007,ws=3002,Ts=3003,Es=3004,Ms=3005,Ss=3006,Cs=3200,As=3201,Ps={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),n=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?i[r]="-":14===r?i[r]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,i[r]=t[19===r?3&e|8:e]);return i.join("")}}(),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},lerp:function(e,t,i){return(1-i)*e+i*t},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Ps.DEG2RAD},radToDeg:function(e){return e*Ps.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}};Object.defineProperties(i.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(i.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new i,t=new i;return function(i,n){return e.set(i,i),t.set(n,n),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,i){return this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*n+e.x,this.y=r*n+a*i+e.y,this}});var Os=0;n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=mo,Object.defineProperty(n.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Object.assign(n.prototype,t.prototype,{constructor:n,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){function t(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t.width=e.width,t.height=e.height;var i=t.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height)}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Ps.generateUUID()),void 0===e.images[n.uuid]&&(e.images[n.uuid]={uuid:n.uuid,url:t(n)}),i.image=n.uuid}return e.textures[this.uuid]=i,i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===mo){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case To:e.x=e.x-Math.floor(e.x);break;case Eo:e.x=e.x<0?0:1;break;case Mo:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case To:e.y=e.y-Math.floor(e.y);break;case Eo:e.y=e.y<0?0:1;break;case Mo:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}}),Object.assign(r.prototype,{isVector4:!0,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*t+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*t+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*t+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,n,r,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],p=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(u-h)<a&&Math.abs(c-f)<a&&Math.abs(p-m)<a){if(Math.abs(u+h)<o&&Math.abs(c+f)<o&&Math.abs(p+m)<o&&Math.abs(l+d+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(d+1)/2,_=(v+1)/2,b=(u+h)/4,x=(c+f)/4,w=(p+m)/4;return g>y&&g>_?g<a?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=b/i,r=x/i):y>_?y<a?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(y),i=b/n,r=w/n):_<a?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(_),i=x/r,n=w/r),this.set(i,n,r,t),this}var T=Math.sqrt((m-p)*(m-p)+(c-f)*(c-f)+(h-u)*(h-u));return Math.abs(T)<.001&&(T=1),this.x=(m-p)/T,this.y=(c-f)/T,this.z=(h-u)/T,this.w=Math.acos((l+d+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(i,n){return void 0===e&&(e=new r,t=new r),e.set(i,i,i,i),t.set(n,n,n,n),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,i){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Object.assign(a.prototype,t.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.isWebGLRenderTargetCube=!0,Object.assign(s,{slerp:function(e,t,i,n){return i.copy(e).slerp(t,n)},slerpFlat:function(e,t,i,n,r,a,o){var s=i[n+0],l=i[n+1],u=i[n+2],c=i[n+3],h=r[a+0],d=r[a+1],p=r[a+2],f=r[a+3];if(c!==f||s!==h||l!==d||u!==p){var m=1-o,v=s*h+l*d+u*p+c*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,o=Math.sin(o*b)/_}var x=o*g;if(s=s*m+h*x,l=l*m+d*x,u=u*m+p*x,c=c*m+f*x,m===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}}),Object.defineProperties(s.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(s.prototype,{set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=e._x,n=e._y,r=e._z,a=e.order,o=Math.cos,s=Math.sin,l=o(i/2),u=o(n/2),c=o(r/2),h=s(i/2),d=s(n/2),p=s(r/2);return"XYZ"===a?(this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p):"YXZ"===a?(this._x=h*u*c+l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p):"ZXY"===a?(this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c-h*d*p):"ZYX"===a?(this._x=h*u*c-l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c+h*d*p):"YZX"===a?(this._x=h*u*c+l*d*p,this._y=l*d*c+h*u*p,this._z=l*u*p-h*d*c,this._w=l*u*c-h*d*p):"XZY"===a&&(this._x=h*u*c-l*d*p,this._y=l*d*c-h*u*p,this._z=l*u*p+h*d*c,this._w=l*u*c+h*d*p),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],l=i[9],u=i[2],c=i[6],h=i[10],d=n+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(c-l)*t,this._y=(a-u)*t,this._z=(o-r)*t):n>s&&n>h?(t=2*Math.sqrt(1+n-s-h),this._w=(c-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(a+u)/t):s>h?(t=2*Math.sqrt(1+s-n-h),this._w=(a-u)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+c)/t):(t=2*Math.sqrt(1+h-n-s),this._w=(o-r)/t,this._x=(a+u)/t,this._y=(l+c)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new l,i=1e-6;return function(n,r){return void 0===t&&(t=new l),e=n.dot(r)+1,e<i?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?this.multiplyQuaternions(e,t):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var i=e._x,n=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=i*u+a*o+n*l-r*s,this._y=n*u+a*s+r*o-i*l,this._z=r*u+a*l+i*s-n*o,this._w=a*u-i*o-n*s-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*e._w+i*e._x+n*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(s,o),u=Math.sin((1-t)*l)/s,c=Math.sin(t*l)/s;return this._w=a*u+this._w*c,this._x=i*u+this._x*c,this._y=n*u+this._y*c,this._z=r*u+this._z*c,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(l.prototype,{isVector3:!0,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,
this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?this.multiplyVectors(e,t):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new s;return function(t){return!t||!t.isEuler,this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new s;return function(t,i){return this.applyQuaternion(e.setFromAxisAngle(t,i))}}(),applyMatrix3:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements,a=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*n-o*i,u=s*i+o*t-r*n,c=s*n+r*i-a*t,h=-r*t-a*i-o*n;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this},project:function(){var e=new u;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new u;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new l,t=new l;return function(i,n){return e.set(i,i,i),t.set(n,n,n),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function(e,t){if(void 0!==t)return this.crossVectors(e,t);var i=this.x,n=this.y,r=this.z;return this.x=n*e.z-r*e.y,this.y=r*e.x-i*e.z,this.z=i*e.y-n*e.x,this},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new l;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new l;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Ps.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,i){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(u.prototype,{isMatrix4:!0,set:function(e,t,i,n,r,a,o,s,l,u,c,h,d,p,f,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=n,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new u).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var e=new l;return function(t){var i=this.elements,n=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),a=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*a,i[5]=n[5]*a,i[6]=n[6]*a,i[8]=n[8]*o,i[9]=n[9]*o,i[10]=n[10]*o,this}}(),makeRotationFromEuler:function(e){!e||!e.isEuler;var t=this.elements,i=e.x,n=e.y,r=e.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),l=Math.sin(n),u=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var h=a*u,d=a*c,p=o*u,f=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+p*l,t[5]=h-f*l,t[9]=-o*s,t[2]=f-h*l,t[6]=p+d*l,t[10]=a*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m-y*o,t[4]=-a*c,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*u,t[9]=y-m*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var h=a*u,d=a*c,p=o*u,f=o*c;t[0]=s*u,t[4]=p*l-d,t[8]=h*l+f,t[1]=s*c,t[5]=f*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var _=a*s,b=a*l,x=o*s,w=o*l;t[0]=s*u,t[4]=w-_*c,t[8]=x*c+b,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=b*c+x,t[10]=_-w*c}else if("XZY"===e.order){var _=a*s,b=a*l,x=o*s,w=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=_*c+w,t[5]=a*u,t[9]=b*c-x,t[2]=x*c-b,t[6]=o*u,t[10]=w*c+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,i=e._x,n=e._y,r=e._z,a=e._w,o=i+i,s=n+n,l=r+r,u=i*o,c=i*s,h=i*l,d=n*s,p=n*l,f=r*l,m=a*o,v=a*s,g=a*l;return t[0]=1-(d+f),t[4]=c-g,t[8]=h+v,t[1]=c+g,t[5]=1-(u+f),t[9]=p-m,t[2]=h-v,t[6]=p+m,t[10]=1-(u+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new l,t=new l,i=new l;return function(n,r,a){var o=this.elements;return i.subVectors(n,r),0===i.lengthSq()&&(i.z=1),i.normalize(),e.crossVectors(a,i),0===e.lengthSq()&&(1===Math.abs(a.z)?i.x+=1e-4:i.z+=1e-4,i.normalize(),e.crossVectors(a,i)),e.normalize(),t.crossVectors(i,e),o[0]=e.x,o[4]=t.x,o[8]=i.x,o[1]=e.y,o[5]=t.y,o[9]=i.y,o[2]=e.z,o[6]=t.z,o[10]=i.z,this}}(),multiply:function(e,t){return void 0!==t?this.multiplyMatrices(e,t):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,n=t.elements,r=this.elements,a=i[0],o=i[4],s=i[8],l=i[12],u=i[1],c=i[5],h=i[9],d=i[13],p=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],_=i[11],b=i[15],x=n[0],w=n[4],T=n[8],E=n[12],M=n[1],S=n[5],C=n[9],A=n[13],P=n[2],O=n[6],L=n[10],R=n[14],k=n[3],D=n[7],I=n[11],z=n[15];return r[0]=a*x+o*M+s*P+l*k,r[4]=a*w+o*S+s*O+l*D,r[8]=a*T+o*C+s*L+l*I,r[12]=a*E+o*A+s*R+l*z,r[1]=u*x+c*M+h*P+d*k,r[5]=u*w+c*S+h*O+d*D,r[9]=u*T+c*C+h*L+d*I,r[13]=u*E+c*A+h*R+d*z,r[2]=p*x+f*M+m*P+v*k,r[6]=p*w+f*S+m*O+v*D,r[10]=p*T+f*C+m*L+v*I,r[14]=p*E+f*A+m*R+v*z,r[3]=g*x+y*M+_*P+b*k,r[7]=g*w+y*S+_*O+b*D,r[11]=g*T+y*C+_*L+b*I,r[15]=g*E+y*A+_*R+b*z,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new l;return function(t){for(var i=0,n=t.count;i<n;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix4(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14],p=e[3],f=e[7],m=e[11],v=e[15];return p*(+r*s*c-n*l*c-r*o*h+i*l*h+n*o*d-i*s*d)+f*(+t*s*d-t*l*h+r*a*h-n*a*d+n*l*u-r*s*u)+m*(+t*l*c-t*o*d-r*a*c+i*a*d+r*o*u-i*l*u)+v*(-n*o*u-t*s*c+t*o*h+n*a*c-i*a*h+i*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,n=e.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=n[8],p=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],_=n[15],b=p*y*h-g*f*h+g*c*m-u*y*m-p*c*_+u*f*_,x=v*f*h-d*y*h-v*c*m+l*y*m+d*c*_-l*f*_,w=d*g*h-v*p*h+v*u*m-l*g*m-d*u*_+l*p*_,T=v*p*c-d*g*c-v*u*f+l*g*f+d*u*y-l*p*y,E=r*b+a*x+o*w+s*T;if(0===E){var M="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(M);return this.identity()}var S=1/E;return i[0]=b*S,i[1]=(g*f*s-p*y*s-g*o*m+a*y*m+p*o*_-a*f*_)*S,i[2]=(u*y*s-g*c*s+g*o*h-a*y*h-u*o*_+a*c*_)*S,i[3]=(p*c*s-u*f*s-p*o*h+a*f*h+u*o*m-a*c*m)*S,i[4]=x*S,i[5]=(d*y*s-v*f*s+v*o*m-r*y*m-d*o*_+r*f*_)*S,i[6]=(v*c*s-l*y*s-v*o*h+r*y*h+l*o*_-r*c*_)*S,i[7]=(l*f*s-d*c*s+d*o*h-r*f*h-l*o*m+r*c*m)*S,i[8]=w*S,i[9]=(v*p*s-d*g*s-v*a*m+r*g*m+d*a*_-r*p*_)*S,i[10]=(l*g*s-v*u*s+v*a*h-r*g*h-l*a*_+r*u*_)*S,i[11]=(d*u*s-l*p*s-d*a*h+r*p*h+l*a*m-r*u*m)*S,i[12]=T*S,i[13]=(d*g*o-v*p*o+v*a*f-r*g*f-d*a*y+r*p*y)*S,i[14]=(v*u*o-l*g*o-v*a*c+r*g*c+l*a*y-r*u*y)*S,i[15]=(l*p*o-d*u*o+d*a*c-r*p*c-l*a*f+r*u*f)*S,this},scale:function(e){var t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=1-i,a=e.x,o=e.y,s=e.z,l=r*a,u=r*o;return this.set(l*a+i,l*o-n*s,l*s+n*o,0,l*o+n*s,u*o+i,u*s-n*a,0,l*s-n*o,u*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(e),this},decompose:function(){var e=new l,t=new u;return function(i,n,r){var a=this.elements,o=e.set(a[0],a[1],a[2]).length(),s=e.set(a[4],a[5],a[6]).length(),l=e.set(a[8],a[9],a[10]).length(),u=this.determinant();u<0&&(o=-o),i.x=a[12],i.y=a[13],i.z=a[14],t.copy(this);var c=1/o,h=1/s,d=1/l;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=h,t.elements[5]*=h,t.elements[6]*=h,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,n.setFromRotationMatrix(t),r.x=o,r.y=s,r.z=l,this}}(),makePerspective:function(e,t,i,n,r,a){var o=this.elements,s=2*r/(t-e),l=2*r/(i-n),u=(t+e)/(t-e),c=(i+n)/(i-n),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,i,n,r,a){var o=this.elements,s=1/(t-e),l=1/(i-n),u=1/(a-r),c=(t+e)*s,h=(i+n)*l,d=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<16;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}),c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.isDataTexture=!0,h.prototype=Object.create(n.prototype),h.prototype.constructor=h,h.prototype.isCubeTexture=!0,Object.defineProperty(h.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Ls=new n,Rs=new h,ks=[],Ds=[],Is=new Float32Array(16),zs=new Float32Array(9);H.prototype.setValue=function(e,t){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var a=i[n];a.setValue(e,t[a.id])}};var Ns=/([\w\d_]+)(\])?(\[|\.)?/g;W.prototype.setValue=function(e,t,i){var n=this.map[t];void 0!==n&&n.setValue(e,i,this.renderer)},W.prototype.setOptional=function(e,t,i){var n=t[i];void 0!==n&&this.setValue(e,i,n)},W.upload=function(e,t,i,n){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=i[o.id];s.needsUpdate!==!1&&o.setValue(e,s.value,n)}},W.seqWithValue=function(e,t){for(var i=[],n=0,r=e.length;n!==r;++n){var a=e[n];a.id in t&&i.push(a)}return i};var Bs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign($.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(){function e(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}return function(t,i,n){if(t=Ps.euclideanModulo(t,1),i=Ps.clamp(i,0,1),n=Ps.clamp(n,0,1),0===i)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;this.r=e(a,r,t+1/3),this.g=e(a,r,t),this.b=e(a,r,t-1/3)}return this}}(),setStyle:function(e){function t(e){void 0!==e&&parseFloat(e)<1}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,l=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(o,s,l)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u=i[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(e&&e.length>0){var u=Bs[e];void 0!==u&&this.setHex(u)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;return this.r=e*e,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,i,n=e||{h:0,s:0,l:0},r=this.r,a=this.g,o=this.b,s=Math.max(r,a,o),l=Math.min(r,a,o),u=(l+s)/2;if(l===s)t=0,i=0;else{var c=s-l;switch(i=u<=.5?c/(s+l):c/(2-s-l),s){case r:t=(a-o)/c+(a<o?6:0);break;case a:t=(o-r)/c+2;break;case o:t=(r-a)/c+4}t/=6}return n.h=t,n.s=i,n.l=u,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,i){var n=this.getHSL();return n.h+=e,n.s+=t,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Fs={common:{diffuse:{value:new $(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new r(0,0,1,1)},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new $(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new r(0,0,1,1)}}},Us={merge:function(e){for(var t={},i=0;i<e.length;i++){var n=this.clone(e[i]);for(var r in n)t[r]=n[r]}return t},clone:function(e){var t={};for(var i in e){t[i]={};for(var n in e[i]){var r=e[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[i][n]=r.clone():Array.isArray(r)?t[i][n]=r.slice():t[i][n]=r}}return t}},js="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Hs="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Gs="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Vs="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Ws="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",$s="\nvec3 transformed = vec3( position );\n",Xs="\nvec3 objectNormal = vec3( normal );\n",qs="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Ys="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",Zs="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",Qs="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",Ks="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",Js="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",el="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",tl="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",il="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",nl="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",rl="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",al="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",ol="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",sl="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",ll="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",ul="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",cl="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",hl="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",dl="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",pl="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",fl="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",ml="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",vl="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",gl="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",yl="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",_l="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",bl="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",xl="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",wl="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Tl="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",El="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Ml="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Sl="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Cl="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Al="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",Pl="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Ol="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Ll="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",Rl="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",kl="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Dl="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Il="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",zl="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Nl="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Bl="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",Fl="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",Ul="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",jl="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Hl="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Gl="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Vl="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Wl="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",$l="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Xl="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",ql="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",Yl="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",Zl="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",Ql="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",Kl="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Jl="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",eu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",tu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",iu="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",nu="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ru="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",au="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",ou="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",su="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",lu="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",uu="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",cu="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",hu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",du="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",pu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",fu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",mu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",vu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",gu="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",yu="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",_u="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",bu="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",xu="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",wu="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",Tu="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",Eu="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Mu="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Su="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Cu="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",Au="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Pu="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",Ou="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Lu="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Ru="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",ku="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Du="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Iu="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",zu="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Nu="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",Bu="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Fu="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Uu="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n}\n",ju="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Hu={
alphamap_fragment:js,alphamap_pars_fragment:Hs,alphatest_fragment:Gs,aomap_fragment:Vs,aomap_pars_fragment:Ws,begin_vertex:$s,beginnormal_vertex:Xs,bsdfs:qs,bumpmap_pars_fragment:Ys,clipping_planes_fragment:Zs,clipping_planes_pars_fragment:Qs,clipping_planes_pars_vertex:Ks,clipping_planes_vertex:Js,color_fragment:el,color_pars_fragment:tl,color_pars_vertex:il,color_vertex:nl,common:rl,cube_uv_reflection_fragment:al,defaultnormal_vertex:ol,displacementmap_pars_vertex:sl,displacementmap_vertex:ll,emissivemap_fragment:ul,emissivemap_pars_fragment:cl,encodings_fragment:hl,encodings_pars_fragment:dl,envmap_fragment:pl,envmap_pars_fragment:fl,envmap_pars_vertex:ml,envmap_vertex:vl,fog_vertex:gl,fog_pars_vertex:yl,fog_fragment:_l,fog_pars_fragment:bl,gradientmap_pars_fragment:xl,lightmap_fragment:wl,lightmap_pars_fragment:Tl,lights_lambert_vertex:El,lights_pars:Ml,lights_phong_fragment:Sl,lights_phong_pars_fragment:Cl,lights_physical_fragment:Al,lights_physical_pars_fragment:Pl,lights_template:Ol,logdepthbuf_fragment:Ll,logdepthbuf_pars_fragment:Rl,logdepthbuf_pars_vertex:kl,logdepthbuf_vertex:Dl,map_fragment:Il,map_pars_fragment:zl,map_particle_fragment:Nl,map_particle_pars_fragment:Bl,metalnessmap_fragment:Fl,metalnessmap_pars_fragment:Ul,morphnormal_vertex:jl,morphtarget_pars_vertex:Hl,morphtarget_vertex:Gl,normal_fragment:Vl,normalmap_pars_fragment:Wl,packing:$l,premultiplied_alpha_fragment:Xl,project_vertex:ql,dithering_fragment:Yl,dithering_pars_fragment:Zl,roughnessmap_fragment:Ql,roughnessmap_pars_fragment:Kl,shadowmap_pars_fragment:Jl,shadowmap_pars_vertex:eu,shadowmap_vertex:tu,shadowmask_pars_fragment:iu,skinbase_vertex:nu,skinning_pars_vertex:ru,skinning_vertex:au,skinnormal_vertex:ou,specularmap_fragment:su,specularmap_pars_fragment:lu,tonemapping_fragment:uu,tonemapping_pars_fragment:cu,uv_pars_fragment:hu,uv_pars_vertex:du,uv_vertex:pu,uv2_pars_fragment:fu,uv2_pars_vertex:mu,uv2_vertex:vu,worldpos_vertex:gu,cube_frag:yu,cube_vert:_u,depth_frag:bu,depth_vert:xu,distanceRGBA_frag:wu,distanceRGBA_vert:Tu,equirect_frag:Eu,equirect_vert:Mu,linedashed_frag:Su,linedashed_vert:Cu,meshbasic_frag:Au,meshbasic_vert:Pu,meshlambert_frag:Ou,meshlambert_vert:Lu,meshphong_frag:Ru,meshphong_vert:ku,meshphysical_frag:Du,meshphysical_vert:Iu,normal_frag:zu,normal_vert:Nu,points_frag:Bu,points_vert:Fu,shadow_frag:Uu,shadow_vert:ju},Gu={basic:{uniforms:Us.merge([Fs.common,Fs.specularmap,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.fog]),vertexShader:Hu.meshbasic_vert,fragmentShader:Hu.meshbasic_frag},lambert:{uniforms:Us.merge([Fs.common,Fs.specularmap,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.fog,Fs.lights,{emissive:{value:new $(0)}}]),vertexShader:Hu.meshlambert_vert,fragmentShader:Hu.meshlambert_frag},phong:{uniforms:Us.merge([Fs.common,Fs.specularmap,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,Fs.gradientmap,Fs.fog,Fs.lights,{emissive:{value:new $(0)},specular:{value:new $(1118481)},shininess:{value:30}}]),vertexShader:Hu.meshphong_vert,fragmentShader:Hu.meshphong_frag},standard:{uniforms:Us.merge([Fs.common,Fs.envmap,Fs.aomap,Fs.lightmap,Fs.emissivemap,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,Fs.roughnessmap,Fs.metalnessmap,Fs.fog,Fs.lights,{emissive:{value:new $(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Hu.meshphysical_vert,fragmentShader:Hu.meshphysical_frag},points:{uniforms:Us.merge([Fs.points,Fs.fog]),vertexShader:Hu.points_vert,fragmentShader:Hu.points_frag},dashed:{uniforms:Us.merge([Fs.common,Fs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hu.linedashed_vert,fragmentShader:Hu.linedashed_frag},depth:{uniforms:Us.merge([Fs.common,Fs.displacementmap]),vertexShader:Hu.depth_vert,fragmentShader:Hu.depth_frag},normal:{uniforms:Us.merge([Fs.common,Fs.bumpmap,Fs.normalmap,Fs.displacementmap,{opacity:{value:1}}]),vertexShader:Hu.normal_vert,fragmentShader:Hu.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hu.cube_vert,fragmentShader:Hu.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hu.equirect_vert,fragmentShader:Hu.equirect_frag},distanceRGBA:{uniforms:Us.merge([Fs.common,Fs.displacementmap,{referencePosition:{value:new l},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hu.distanceRGBA_vert,fragmentShader:Hu.distanceRGBA_frag},shadow:{uniforms:Us.merge([Fs.lights,{color:{value:new $(0)},opacity:{value:1}}]),vertexShader:Hu.shadow_vert,fragmentShader:Hu.shadow_frag}};Gu.physical={uniforms:Us.merge([Gu.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Hu.meshphysical_vert,fragmentShader:Hu.meshphysical_frag},Object.assign(X.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new i;return function(t,i){var n=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new i;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var n=t||new i;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){var n=t||new i;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new i;return function(t){var i=e.copy(t).clamp(this.min,this.max);return i.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Y.prototype=Object.create(n.prototype),Y.prototype.constructor=Y;var Vu=0;Object.assign(Q.prototype,t.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i)if("shading"!==t){var n=this[t];void 0!==n&&(n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):"overdraw"===t?this[t]=Number(i):this[t]=i)}else this.flatShading=i===Ma}},toJSON:function(e){function t(e){var t=[];for(var i in e){var n=e[i];delete n.metadata,t.push(n)}return t}var i=void 0===e;i&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==La&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==wa&&(n.side=this.side),this.vertexColors!==Ca&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),i){var r=t(e.textures),a=t(e.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,i=null;if(null!==t){var n=t.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),K.prototype=Object.create(Q.prototype),K.prototype.constructor=K,K.prototype.isShaderMaterial=!0,K.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Us.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},K.prototype.toJSON=function(e){var t=Q.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},J.prototype=Object.create(Q.prototype),J.prototype.constructor=J,J.prototype.isMeshDepthMaterial=!0,J.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ee.prototype=Object.create(Q.prototype),ee.prototype.constructor=ee,ee.prototype.isMeshDistanceMaterial=!0,ee.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=+(1/0),i=+(1/0),n=+(1/0),r=-(1/0),a=-(1/0),o=-(1/0),s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<i&&(i=c),h<n&&(n=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,i,n),this.max.set(r,a,o),this},setFromBufferAttribute:function(e){for(var t=+(1/0),i=+(1/0),n=+(1/0),r=-(1/0),a=-(1/0),o=-(1/0),s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<i&&(i=c),h<n&&(n=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,i,n),this.max.set(r,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new l;return function(t,i){var n=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new l;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new l;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e=new l;return function(t){var i=this;return t.updateMatrixWorld(!0),t.traverse(function(t){var n,r,a=t.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(n=0,r=o.length;n<r;n++)e.copy(o[n]),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(n=0,r=s.count;n<r;n++)e.fromBufferAttribute(s,n).applyMatrix4(t.matrixWorld),i.expandByPoint(e)}}),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var i=t||new l;return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new l;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=e.constant&&i>=e.constant},clampPoint:function(e,t){var i=t||new l;return i.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new l;return function(t){var i=e.copy(t).clamp(this.min,this.max);return i.sub(t).length()}}(),getBoundingSphere:function(){var e=new l;return function(t){var i=t||new ie;return this.getCenter(i.center),i.radius=.5*this.getSize(e).length(),i}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new l,new l,new l,new l,new l,new l,new l,new l];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ie.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,i){var n=this.center;void 0!==i?n.copy(i):e.setFromPoints(t).getCenter(n);for(var r=0,a=0,o=t.length;a<o;a++)r=Math.max(r,n.distanceToSquared(t[a]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e),n=t||new l;return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(e){var t=e||new te;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ne.prototype,{isMatrix3:!0,set:function(e,t,i,n,r,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=n,u[2]=o,u[3]=t,u[4]=r,u[5]=s,u[6]=i,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new l;return function(t){for(var i=0,n=t.count;i<n;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix3(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,n=t.elements,r=this.elements,a=i[0],o=i[3],s=i[6],l=i[1],u=i[4],c=i[7],h=i[2],d=i[5],p=i[8],f=n[0],m=n[3],v=n[6],g=n[1],y=n[4],_=n[7],b=n[2],x=n[5],w=n[8];return r[0]=a*f+o*g+s*b,r[3]=a*m+o*y+s*x,r[6]=a*v+o*_+s*w,r[1]=l*f+u*g+c*b,r[4]=l*m+u*y+c*x,r[7]=l*v+u*_+c*w,r[2]=h*f+d*g+p*b,r[5]=h*m+d*y+p*x,r[8]=h*v+d*_+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-i*r*u+i*o*s+n*r*l-n*a*s},getInverse:function(e,t){e&&e.isMatrix4;var i=e.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],c=i[6],h=i[7],d=i[8],p=d*l-u*h,f=u*c-d*s,m=h*s-l*c,v=r*p+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(t===!0)throw new Error(g);return this.identity()}var y=1/v;return n[0]=p*y,n[1]=(o*h-d*a)*y,n[2]=(u*a-o*l)*y,n[3]=f*y,n[4]=(d*r-o*c)*y,n[5]=(o*s-u*r)*y,n[6]=m*y,n[7]=(a*c-h*r)*y,n[8]=(l*r-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},equals:function(e){for(var t=this.elements,i=e.elements,n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<9;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}}),Object.assign(re.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new l,t=new l;return function(i,n,r){var a=e.subVectors(r,n).cross(t.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){var i=t||new l;return i.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new l;return function(t,i){var n=i||new l,r=t.delta(e),a=this.normal.dot(r);if(0!==a){var o=-(t.start.dot(this.normal)+this.constant)/a;if(!(o<0||o>1))return n.copy(r).multiplyScalar(o).add(t.start)}else if(0===this.distanceToPoint(t.start))return n.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new l;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new l,t=new ne;return function(i,n){var r=n||t.getNormalMatrix(i),a=this.coplanarPoint(e).applyMatrix4(i),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ae.prototype,{set:function(e,t,i,n,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=i[5],u=i[6],c=i[7],h=i[8],d=i[9],p=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return t[0].setComponents(o-n,c-s,f-h,y-m).normalize(),t[1].setComponents(o+n,c+s,f+h,y+m).normalize(),t[2].setComponents(o+r,c+l,f+d,y+v).normalize(),t[3].setComponents(o-r,c-l,f-d,y-v).normalize(),t[4].setComponents(o-a,c-u,f-p,y-g).normalize(),t[5].setComponents(o+a,c+u,f+p,y+g).normalize(),this},intersectsObject:function(){var e=new ie;return function(t){var i=t.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),e.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ie;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,i=e.center,n=-e.radius,r=0;r<6;r++){var a=t[r].distanceToPoint(i);if(a<n)return!1}return!0},intersectsBox:function(){var e=new l,t=new l;return function(i){for(var n=this.planes,r=0;r<6;r++){var a=n[r];e.x=a.normal.x>0?i.min.x:i.max.x,t.x=a.normal.x>0?i.max.x:i.min.x,e.y=a.normal.y>0?i.min.y:i.max.y,t.y=a.normal.y>0?i.max.y:i.min.y,e.z=a.normal.z>0?i.min.z:i.max.z,t.z=a.normal.z>0?i.max.z:i.min.z;var o=a.distanceToPoint(e),s=a.distanceToPoint(t);if(o<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}}),le.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],le.DefaultOrder="XYZ",Object.defineProperties(le.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(le.prototype,{isEuler:!0,set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var n=Ps.clamp,r=e.elements,a=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],h=r[2],d=r[6],p=r[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===t?(this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===t?(this._z=Math.asin(n(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t&&(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0)),this._order=t,i!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new u;return function(t,i,n){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,i,n)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new s;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(ue.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!==(this.mask&e.mask)}});var Wu=0;ce.DefaultUp=new l(0,1,0),ce.DefaultMatrixAutoUpdate=!0,Object.assign(ce.prototype,t.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new s;return function(t,i){return e.setFromAxisAngle(t,i),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new l(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new l(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new l(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new l;return function(t,i){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(i)),this}}(),translateX:function(){var e=new l(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new l(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new l(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new u;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new u;return function(t){this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?this:(e&&e.isObject3D&&(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var i=this.children.indexOf(e);return i!==-1&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i],a=r.getObjectByProperty(e,t);
if(void 0!==a)return a}},getWorldPosition:function(e){var t=e||new l;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new l,t=new l;return function(i){var n=i||new s;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldRotation:function(){var e=new s;return function(t){var i=t||new le;return this.getWorldQuaternion(e),i.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new l,t=new s;return function(i){var n=i||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(){var e=new s;return function(t){var i=t||new l;return this.getWorldQuaternion(e),i.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)},toJSON:function(e){function t(t,i){return void 0===t[i.uuid]&&(t[i.uuid]=i.toJSON(e)),i.uuid}function i(e){var t=[];for(var i in e){var n=e[i];delete n.metadata,t.push(n)}return t}var n=void 0===e||""===e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.matrix=this.matrix.toArray(),void 0!==this.geometry&&(a.geometry=t(e.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var o=[],s=0,l=this.material.length;s<l;s++)o.push(t(e.materials,this.material[s]));a.material=o}else a.material=t(e.materials,this.material);if(this.children.length>0){a.children=[];for(var s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(n){var u=i(e.geometries),c=i(e.materials),h=i(e.textures),d=i(e.images);u.length>0&&(r.geometries=u),c.length>0&&(r.materials=c),h.length>0&&(r.textures=h),d.length>0&&(r.images=d)}return r.object=a,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var i=0;i<e.children.length;i++){var n=e.children[i];this.add(n.clone())}return this}}),he.prototype=Object.assign(Object.create(ce.prototype),{constructor:he,isCamera:!0,copy:function(e,t){return ce.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new s;return function(t){var i=t||new l;return this.getWorldQuaternion(e),i.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){ce.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),de.prototype=Object.assign(Object.create(he.prototype),{constructor:de,isOrthographicCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,i,n,r,a){this.view={fullWidth:e,fullHeight:t,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-e,a=i+e,o=n+t,s=n-t;if(null!==this.view){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=c*(this.view.offsetX/l),a=r+c*(this.view.width/l),o-=h*(this.view.offsetY/u),s=o-h*(this.view.height/u)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),pe.prototype=Object.assign(Object.create(he.prototype),{constructor:pe,isPerspectiveCamera:!0,copy:function(e,t){return he.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Ps.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Ps.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Ps.RAD2DEG*Math.atan(Math.tan(.5*Ps.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,n,r,a){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Ps.DEG2RAD*this.fov)/this.zoom,i=2*t,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==a){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,t-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-i,e,this.far)},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Object.assign(fe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var $u=0;Object.assign(ve.prototype,t.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new ne).getNormalMatrix(e),i=0,n=this.vertices.length;i<n;i++){var r=this.vertices[i];r.applyMatrix4(e)}for(var i=0,n=this.faces.length;i<n;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++)a.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new u;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new u;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new u;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new u;return function(t,i,n){return e.makeTranslation(t,i,n),this.applyMatrix(e),this}}(),scale:function(){var e=new u;return function(t,i,n){return e.makeScale(t,i,n),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,i,r){var a=void 0!==s?[d[e].clone(),d[t].clone(),d[i].clone()]:[],o=void 0!==u?[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()]:[],l=new fe(e,t,i,a,o,r);n.faces.push(l),void 0!==c&&n.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[i].clone()]),void 0!==h&&n.faceVertexUvs[1].push([f[e].clone(),f[t].clone(),f[i].clone()])}var n=this,r=null!==e.index?e.index.array:void 0,a=e.attributes,o=a.position.array,s=void 0!==a.normal?a.normal.array:void 0,u=void 0!==a.color?a.color.array:void 0,c=void 0!==a.uv?a.uv.array:void 0,h=void 0!==a.uv2?a.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],p=[],f=[],m=0,v=0;m<o.length;m+=3,v+=2)n.vertices.push(new l(o[m],o[m+1],o[m+2])),void 0!==s&&d.push(new l(s[m],s[m+1],s[m+2])),void 0!==u&&n.colors.push(new $(u[m],u[m+1],u[m+2])),void 0!==c&&p.push(new i(c[v],c[v+1])),void 0!==h&&f.push(new i(h[v],h[v+1]));var g=e.groups;if(g.length>0)for(var m=0;m<g.length;m++)for(var y=g[m],_=y.start,b=y.count,v=_,x=_+b;v<x;v+=3)void 0!==r?t(r[v],r[v+1],r[v+2],y.materialIndex):t(v,v+1,v+2,y.materialIndex);else if(void 0!==r)for(var m=0;m<r.length;m+=3)t(r[m],r[m+1],r[m+2]);else for(var m=0;m<o.length/3;m+=3)t(m,m+1,m+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,n=new u;return n.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new l,t=new l,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,i,n,r,a,o;for(o=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)o[t]=new l;if(e){var s,u,c,h=new l,d=new l;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],u=this.vertices[a.b],c=this.vertices[a.c],h.subVectors(c,u),d.subVectors(s,u),h.cross(d),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)a=this.faces[n],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,i=this.vertices.length;t<i;t++)o[t].normalize();for(n=0,r=this.faces.length;n<r;n++){a=this.faces[n];var p=a.vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,i;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){i=this.faces[e];var n=i.vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var a=new ve;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o,s,u=this.morphNormals[e].faceNormals,c=this.morphNormals[e].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)o=new l,s={a:new l,b:new l,c:new l},u.push(o),c.push(s)}var h=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var o,s;for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],o=h.faceNormals[i],s=h.vertexNormals[i],o.copy(r.normal),s.a.copy(r.vertexNormals[0]),s.b.copy(r.vertexNormals[1]),s.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,i=0,n=t.length;i<n;i++)i>0&&(e+=t[i].distanceTo(t[i-1])),this.lineDistances[i]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ie),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e&&e.isGeometry){var n,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,u=this.faceVertexUvs[0],c=e.faceVertexUvs[0],h=this.colors,d=e.colors;void 0===i&&(i=0),void 0!==t&&(n=(new ne).getNormalMatrix(t));for(var p=0,f=o.length;p<f;p++){var m=o[p],v=m.clone();void 0!==t&&v.applyMatrix4(t),a.push(v)}for(var p=0,f=d.length;p<f;p++)h.push(d[p].clone());for(p=0,f=l.length;p<f;p++){var g,y,_,b=l[p],x=b.vertexNormals,w=b.vertexColors;g=new fe(b.a+r,b.b+r,b.c+r),g.normal.copy(b.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var T=0,E=x.length;T<E;T++)y=x[T].clone(),void 0!==n&&y.applyMatrix3(n).normalize(),g.vertexNormals.push(y);g.color.copy(b.color);for(var T=0,E=w.length;T<E;T++)_=w[T],g.vertexColors.push(_.clone());g.materialIndex=b.materialIndex+i,s.push(g)}for(p=0,f=c.length;p<f;p++){var M=c[p],S=[];if(void 0!==M){for(var T=0,E=M.length;T<E;T++)S.push(M[T].clone());u.push(S)}}}},mergeMesh:function(e){e&&e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,i,n,r,a,o,s,l={},u=[],c=[],h=4,d=Math.pow(10,h);for(i=0,n=this.vertices.length;i<n;i++)e=this.vertices[i],t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d),void 0===l[t]?(l[t]=i,u.push(this.vertices[i]),c[i]=u.length-1):c[i]=c[l[t]];var p=[];for(i=0,n=this.faces.length;i<n;i++){r=this.faces[i],r.a=c[r.a],r.b=c[r.b],r.c=c[r.c],a=[r.a,r.b,r.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var m=p[i];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var v=this.vertices.length-u.length;return this.vertices=u,v},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,i=t.length,n=0;n<i;n++)t[n]._id=n;t.sort(e);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===i&&(r=[]),s&&s.length===i&&(a=[]);for(var n=0;n<i;n++){var l=t[n]._id;r&&r.push(o[l]),a&&a.push(s[l])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function e(e,t,i){return i?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t])}function i(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==f[t]?f[t]:(f[t]=p.length,p.push(e.getHex()),f[t])}function n(e){var t=e.x.toString()+e.y.toString();return void 0!==v[t]?v[t]:(v[t]=m.length/2,m.push(e.x,e.y),v[t])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var o in a)void 0!==a[o]&&(r[o]=a[o]);return r}for(var s=[],l=0;l<this.vertices.length;l++){var u=this.vertices[l];s.push(u.x,u.y,u.z)}for(var c=[],h=[],d={},p=[],f={},m=[],v={},l=0;l<this.faces.length;l++){var g=this.faces[l],y=!0,_=!1,b=void 0!==this.faceVertexUvs[0][l],x=g.normal.length()>0,w=g.vertexNormals.length>0,T=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,M=0;if(M=e(M,0,0),M=e(M,1,y),M=e(M,2,_),M=e(M,3,b),M=e(M,4,x),M=e(M,5,w),M=e(M,6,T),M=e(M,7,E),c.push(M),c.push(g.a,g.b,g.c),c.push(g.materialIndex),b){var S=this.faceVertexUvs[0][l];c.push(n(S[0]),n(S[1]),n(S[2]))}if(x&&c.push(t(g.normal)),w){var C=g.vertexNormals;c.push(t(C[0]),t(C[1]),t(C[2]))}if(T&&c.push(i(g.color)),E){var A=g.vertexColors;c.push(i(A[0]),i(A[1]),i(A[2]))}}return r.data={},r.data.vertices=s,r.data.normals=h,p.length>0&&(r.data.colors=p),m.length>0&&(r.data.uvs=[m]),r.data.faces=c,r},clone:function(){return(new ve).copy(this)},copy:function(e){var t,i,n,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,i=s.length;t<i;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,i=l.length;t<i;t++)this.colors.push(l[t].clone());var u=e.faces;for(t=0,i=u.length;t<i;t++)this.faces.push(u[t].clone());for(t=0,i=e.faceVertexUvs.length;t<i;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),n=0,r=c.length;n<r;n++){var h=c[n],d=[];for(a=0,o=h.length;a<o;a++){var p=h[a];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var f=e.morphTargets;for(t=0,i=f.length;t<i;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],n=0,r=f[t].vertices.length;n<r;n++)m.vertices.push(f[t].vertices[n].clone());if(void 0!==f[t].normals)for(m.normals=[],n=0,r=f[t].normals.length;n<r;n++)m.normals.push(f[t].normals[n].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,i=v.length;t<i;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],n=0,r=v[t].vertexNormals.length;n<r;n++){var y=v[t].vertexNormals[n],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],n=0,r=v[t].faceNormals.length;n<r;n++)g.faceNormals.push(v[t].faceNormals[n].clone());this.morphNormals.push(g)}var b=e.skinWeights;for(t=0,i=b.length;t<i;t++)this.skinWeights.push(b[t].clone());var x=e.skinIndices;for(t=0,i=x.length;t<i;t++)this.skinIndices.push(x[t].clone());var w=e.lineDistances;for(t=0,i=w.length;t<i;t++)this.lineDistances.push(w[t]);var T=e.boundingBox;null!==T&&(this.boundingBox=T.clone());var E=e.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ge.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Object.assign(ge.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[e+n]=t.array[i+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];void 0===a&&(a=new $),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];t[i++]=a.a,t[i++]=a.b,t[i++]=a.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var o=e[r];void 0===o&&(o=new i),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];void 0===a&&(a=new l),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,n=0,a=e.length;n<a;n++){var o=e[n];void 0===o&&(o=new r),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this},setXYZW:function(e,t,i,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),ye.prototype=Object.create(ge.prototype),ye.prototype.constructor=ye,_e.prototype=Object.create(ge.prototype),_e.prototype.constructor=_e,be.prototype=Object.create(ge.prototype),be.prototype.constructor=be,xe.prototype=Object.create(ge.prototype),xe.prototype.constructor=xe,we.prototype=Object.create(ge.prototype),we.prototype.constructor=we,Te.prototype=Object.create(ge.prototype),Te.prototype.constructor=Te,Ee.prototype=Object.create(ge.prototype),Ee.prototype.constructor=Ee,Me.prototype=Object.create(ge.prototype),Me.prototype.constructor=Me,Se.prototype=Object.create(ge.prototype),Se.prototype.constructor=Se,Object.assign(Ce.prototype,{computeGroups:function(e){for(var t,i=[],n=void 0,r=e.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==n&&(n=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,i.push(t)),t={start:3*a,materialIndex:n})}void 0!==t&&(t.count=3*a-t.start,i.push(t)),this.groups=i},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,a=e.faceVertexUvs,o=a[0]&&a[0].length>0,s=a[1]&&a[1].length>0,l=e.morphTargets,u=l.length;if(u>0){t=[];for(var c=0;c<u;c++)t[c]=[];this.morphTargets.position=t}var h,d=e.morphNormals,p=d.length;if(p>0){h=[];for(var c=0;c<p;c++)h[c]=[];this.morphTargets.normal=h}for(var f=e.skinIndices,m=e.skinWeights,v=f.length===r.length,g=m.length===r.length,c=0;c<n.length;c++){var y=n[c];this.vertices.push(r[y.a],r[y.b],r[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var b=y.normal;this.normals.push(b,b,b)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=y.color;this.colors.push(w,w,w)}if(o===!0){var T=a[0][c];void 0!==T?this.uvs.push(T[0],T[1],T[2]):this.uvs.push(new i,new i,new i)}if(s===!0){var T=a[1][c];void 0!==T?this.uvs2.push(T[0],T[1],T[2]):this.uvs2.push(new i,new i,new i)}for(var E=0;E<u;E++){var M=l[E].vertices;t[E].push(M[y.a],M[y.b],M[y.c])}for(var E=0;E<p;E++){var S=d[E].vertexNormals[c];h[E].push(S.a,S.b,S.c)}v&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}}),Pe.MaxIndex=65535,Object.assign(Pe.prototype,t.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Ae(e)>65535?Ee:we)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?void this.setIndex(t):(this.attributes[e]=t,this):void this.addAttribute(e,new ge(arguments[1],arguments[2]))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var n=(new ne).getNormalMatrix(e);n.applyToBufferAttribute(i),i.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new u;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new u;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new u;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new u;return function(t,i,n){return e.makeTranslation(t,i,n),this.applyMatrix(e),this}}(),scale:function(){var e=new u;return function(t,i,n){return e.makeScale(t,i,n),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ce;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var i=new Me(3*t.vertices.length,3),n=new Me(3*t.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(t.vertices)),this.addAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new Me(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var i=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(i=void 0,t.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(t);i.verticesNeedUpdate=t.verticesNeedUpdate,i.normalsNeedUpdate=t.normalsNeedUpdate,i.colorsNeedUpdate=t.colorsNeedUpdate,i.uvsNeedUpdate=t.uvsNeedUpdate,i.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=i}var n;return t.verticesNeedUpdate===!0&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1),t.normalsNeedUpdate===!0&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1),t.colorsNeedUpdate===!0&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Ce).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new ge(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var i=new Float32Array(3*e.normals.length);this.addAttribute("normal",new ge(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.addAttribute("color",new ge(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new ge(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new ge(a,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=Ae(e.indices)>65535?Uint32Array:Uint16Array,s=new o(3*e.indices.length);this.setIndex(new ge(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var l in e.morphTargets){for(var u=[],c=e.morphTargets[l],h=0,d=c.length;h<d;h++){var p=c[h],f=new Me(3*p.length,3);u.push(f.copyVector3sArray(p))}this.morphAttributes[l]=u}if(e.skinIndices.length>0){var m=new Me(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var v=new Me(4*e.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var e=new te,t=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new ie);var i=this.attributes.position;if(i){var n=this.boundingSphere.center;e.setFromBufferAttribute(i),e.getCenter(n);for(var r=0,a=0,o=i.count;a<o;a++)t.x=i.getX(a),t.y=i.getY(a),t.z=i.getZ(a),r=Math.max(r,n.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,i=this.groups;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new ge(new Float32Array(n.length),3));else for(var r=t.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,u,c,h=t.normal.array,d=new l,p=new l,f=new l,m=new l,v=new l;if(e){var g=e.array;0===i.length&&this.addGroup(0,g.length);for(var y=0,_=i.length;y<_;++y)for(var b=i[y],x=b.start,w=b.count,a=x,o=x+w;a<o;a+=3)s=3*g[a+0],u=3*g[a+1],c=3*g[a+2],d.fromArray(n,s),p.fromArray(n,u),f.fromArray(n,c),m.subVectors(f,p),v.subVectors(d,p),m.cross(v),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[u]+=m.x,h[u+1]+=m.y,h[u+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z}else for(var a=0,o=n.length;a<o;a+=9)d.fromArray(n,a),p.fromArray(n,a+3),f.fromArray(n,a+6),m.subVectors(f,p),v.subVectors(d,p),m.cross(v),h[a]=m.x,h[a+1]=m.y,h[a+2]=m.z,h[a+3]=m.x,h[a+4]=m.y,h[a+5]=m.z,h[a+6]=m.x,h[a+7]=m.y,h[a+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0);var i=this.attributes;for(var n in i)if(void 0!==e.attributes[n])for(var r=i[n],a=r.array,o=e.attributes[n],s=o.array,l=o.itemSize,u=0,c=l*t;u<s.length;u++,c++)a[c]=s[u];return this}},normalizeNormals:function(){var e=new l;return function(){for(var t=this.attributes.normal,i=0,n=t.count;i<n;i++)e.x=t.getX(i),e.y=t.getY(i),
e.z=t.getZ(i),e.normalize(),t.setXYZ(i,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return this;var e=new Pe,t=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],a=r.array,o=r.itemSize,s=new a.constructor(t.length*o),l=0,u=0,c=0,h=t.length;c<h;c++){l=t[c]*o;for(var d=0;d<o;d++)s[u++]=a[l++]}e.addAttribute(n,new ge(s,o))}return e},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);e.data.index={type:n.array.constructor.name,array:r}}var a=this.attributes;for(var i in a){var o=a[i],r=Array.prototype.slice.call(o.array);e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new Pe).copy(this)},copy:function(e){var t,i,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var l=[],u=s[t];for(i=0,n=u.length;i<n;i++)l.push(u[i].clone());this.morphAttributes[t]=l}var c=e.groups;for(i=0,n=c.length;i<n;i++){var h=c[i];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Oe.prototype=Object.create(ve.prototype),Oe.prototype.constructor=Oe,Le.prototype=Object.create(Pe.prototype),Le.prototype.constructor=Le,Re.prototype=Object.create(ve.prototype),Re.prototype.constructor=Re,ke.prototype=Object.create(Pe.prototype),ke.prototype.constructor=ke,De.prototype=Object.create(Q.prototype),De.prototype.constructor=De,De.prototype.isMeshBasicMaterial=!0,De.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.assign(Ie.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var i=t||new l;return i.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new l;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var i=t||new l;i.subVectors(e,this.origin);var n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new l;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new l,t=new l,i=new l;return function(n,r,a,o){e.copy(n).add(r).multiplyScalar(.5),t.copy(r).sub(n).normalize(),i.copy(this.origin).sub(e);var s,l,u,c,h=.5*n.distanceTo(r),d=-this.direction.dot(t),p=i.dot(this.direction),f=-i.dot(t),m=i.lengthSq(),v=Math.abs(1-d*d);if(v>0)if(s=d*f-p,l=d*p-f,c=h*v,s>=0)if(l>=-c)if(l<=c){var g=1/v;s*=g,l*=g,u=s*(s+d*l+2*p)+l*(d*s+l+2*f)+m}else l=h,s=Math.max(0,-(d*l+p)),u=-s*s+l*(l+2*f)+m;else l=-h,s=Math.max(0,-(d*l+p)),u=-s*s+l*(l+2*f)+m;else l<=-c?(s=Math.max(0,-(-d*h+p)),l=s>0?-h:Math.min(Math.max(-h,-f),h),u=-s*s+l*(l+2*f)+m):l<=c?(s=0,l=Math.min(Math.max(-h,-f),h),u=l*(l+2*f)+m):(s=Math.max(0,-(d*h+p)),l=s>0?h:Math.min(Math.max(-h,-f),h),u=-s*s+l*(l+2*f)+m);else l=d>0?-h:h,s=Math.max(0,-(d*l+p)),u=-s*s+l*(l+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(t).multiplyScalar(l).add(e),u}}(),intersectSphere:function(){var e=new l;return function(t,i){e.subVectors(t.center,this.origin);var n=e.dot(this.direction),r=e.dot(e)-n*n,a=t.radius*t.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=n-o,l=n+o;return s<0&&l<0?null:s<0?this.at(l,i):this.at(s,i)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var i=e.normal.dot(this.direction);return i*t<0},intersectBox:function(e,t){var i,n,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,n=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,n=(e.min.x-h.x)*l),u>=0?(r=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(r=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),i>a||r>n?null:((r>i||i!==i)&&(i=r),(a<n||n!==n)&&(n=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),i>s||o>n?null:((o>i||i!==i)&&(i=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(i>=0?i:n,t)))},intersectsBox:function(){var e=new l;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new l,t=new l,i=new l,n=new l;return function(r,a,o,s,l){t.subVectors(a,r),i.subVectors(o,r),n.crossVectors(t,i);var u,c=this.direction.dot(n);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}e.subVectors(this.origin,r);var h=u*this.direction.dot(i.crossVectors(e,i));if(h<0)return null;var d=u*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>c)return null;var p=-u*e.dot(n);return p<0?null:this.at(p/c,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(ze.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){var t=e||new l;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new l;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new l;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new l,t=new l;return function(i,n){e.subVectors(i,this.start),t.subVectors(this.end,this.start);var r=t.dot(t),a=t.dot(e),o=a/r;return n&&(o=Ps.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,i){var n=this.closestPointToPointParameter(e,t),r=i||new l;return this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(Ne,{normal:function(){var e=new l;return function(t,i,n,r){var a=r||new l;a.subVectors(n,i),e.subVectors(t,i),a.cross(e);var o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new l,t=new l,i=new l;return function(n,r,a,o,s){e.subVectors(o,r),t.subVectors(a,r),i.subVectors(n,r);var u=e.dot(e),c=e.dot(t),h=e.dot(i),d=t.dot(t),p=t.dot(i),f=u*d-c*c,m=s||new l;if(0===f)return m.set(-2,-1,-1);var v=1/f,g=(d*h-c*p)*v,y=(u*p-c*h)*v;return m.set(1-g-y,y,g)}}(),containsPoint:function(){var e=new l;return function(t,i,n,r){var a=Ne.barycoordFromPoint(t,i,n,r,e);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}()}),Object.assign(Ne.prototype,{set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new l,t=new l;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new l;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Ne.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new re;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Ne.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Ne.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new re,t=[new ze,new ze,new ze],i=new l,n=new l;return function(r,a){var o=a||new l,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(r,i),this.containsPoint(i)===!0)o.copy(i);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var u=0;u<t.length;u++){t[u].closestPointToPoint(i,!0,n);var c=i.distanceToSquared(n);c<s&&(s=c,o.copy(n))}}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Be.prototype=Object.assign(Object.create(ce.prototype),{constructor:Be,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ce.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){var e,t,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)i=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}else{var s=n.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)i=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}},raycast:function(){function e(e,t,i,n,r,a,o){return Ne.barycoordFromPoint(e,t,i,n,y),r.multiplyScalar(y.x),a.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(a).add(o),r.clone()}function t(e,t,i,n,r,a,o,s){var l;if(l=t.side===Ta?n.intersectTriangle(o,a,r,!0,s):n.intersectTriangle(r,a,o,t.side!==Ea,s),null===l)return null;b.copy(s),b.applyMatrix4(e.matrixWorld);var u=i.ray.origin.distanceTo(b);return u<i.near||u>i.far?null:{distance:u,point:b.clone(),object:e}}function n(i,n,r,a,o,l,u,d){s.fromBufferAttribute(a,l),c.fromBufferAttribute(a,u),h.fromBufferAttribute(a,d);var p=t(i,i.material,n,r,s,c,h,_);return p&&(o&&(m.fromBufferAttribute(o,l),v.fromBufferAttribute(o,u),g.fromBufferAttribute(o,d),p.uv=e(_,s,c,h,m,v,g)),p.face=new fe(l,u,d,Ne.normal(s,c,h)),p.faceIndex=l),p}var r=new u,a=new Ie,o=new ie,s=new l,c=new l,h=new l,d=new l,p=new l,f=new l,m=new i,v=new i,g=new i,y=new l,_=new l,b=new l;return function(i,l){var u=this.geometry,y=this.material,b=this.matrixWorld;if(void 0!==y&&(null===u.boundingSphere&&u.computeBoundingSphere(),o.copy(u.boundingSphere),o.applyMatrix4(b),i.ray.intersectsSphere(o)!==!1&&(r.getInverse(b),a.copy(i.ray).applyMatrix4(r),null===u.boundingBox||a.intersectsBox(u.boundingBox)!==!1))){var x;if(u.isBufferGeometry){var w,T,E,M,S,C=u.index,A=u.attributes.position,P=u.attributes.uv;if(null!==C)for(M=0,S=C.count;M<S;M+=3)w=C.getX(M),T=C.getX(M+1),E=C.getX(M+2),x=n(this,i,a,A,P,w,T,E),x&&(x.faceIndex=Math.floor(M/3),l.push(x));else for(M=0,S=A.count;M<S;M+=3)w=M,T=M+1,E=M+2,x=n(this,i,a,A,P,w,T,E),x&&(x.index=w,l.push(x))}else if(u.isGeometry){var O,L,R,k,D=Array.isArray(y),I=u.vertices,z=u.faces,N=u.faceVertexUvs[0];N.length>0&&(k=N);for(var B=0,F=z.length;B<F;B++){var U=z[B],j=D?y[U.materialIndex]:y;if(void 0!==j){if(O=I[U.a],L=I[U.b],R=I[U.c],j.morphTargets===!0){var H=u.morphTargets,G=this.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),h.set(0,0,0);for(var V=0,W=H.length;V<W;V++){var $=G[V];if(0!==$){var X=H[V].vertices;s.addScaledVector(d.subVectors(X[U.a],O),$),c.addScaledVector(p.subVectors(X[U.b],L),$),h.addScaledVector(f.subVectors(X[U.c],R),$)}}s.add(O),c.add(L),h.add(R),O=s,L=c,R=h}if(x=t(this,j,i,a,O,L,R,_)){if(k&&k[B]){var q=k[B];m.copy(q[0]),v.copy(q[1]),g.copy(q[2]),x.uv=e(_,O,L,R,m,v,g)}x.face=U,x.faceIndex=B,l.push(x)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Xu=0;vt.prototype=Object.assign(Object.create(pe.prototype),{constructor:vt,isArrayCamera:!0}),wt.prototype.isFogExp2=!0,wt.prototype.clone=function(){return new wt(this.color.getHex(),this.density)},wt.prototype.toJSON=function(e){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Tt.prototype.isFog=!0,Tt.prototype.clone=function(){return new Tt(this.color.getHex(),this.near,this.far)},Tt.prototype.toJSON=function(e){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Et.prototype=Object.assign(Object.create(ce.prototype),{constructor:Et,copy:function(e,t){return ce.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Mt.prototype=Object.assign(Object.create(ce.prototype),{constructor:Mt,isLensFlare:!0,copy:function(e){ce.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,i=e.lensFlares.length;t<i;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,i,n,r,a){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=new $(16777215)),void 0===n&&(n=La),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:n})},updateLensFlares:function(){var e,t,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;e<i;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+n*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),St.prototype=Object.create(Q.prototype),St.prototype.constructor=St,St.prototype.isSpriteMaterial=!0,St.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Ct.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ct,isSprite:!0,raycast:function(){var e=new l,t=new l,i=new l;return function(n,r){t.setFromMatrixPosition(this.matrixWorld),n.ray.closestPointToPoint(t,e),i.setFromMatrixScale(this.matrixWorld);var a=i.x*i.y/4;if(!(t.distanceToSquared(e)>a)){var o=n.ray.origin.distanceTo(e);o<n.near||o>n.far||r.push({distance:o,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),At.prototype=Object.assign(Object.create(ce.prototype),{constructor:At,copy:function(e){ce.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,n=t.length;i<n;i++){var r=t[i];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,n=0;n<i.length&&!(t<i[n].distance);n++);i.splice(n,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,i=1,n=t.length;i<n&&!(e<t[i].distance);i++);return t[i-1].object},raycast:function(){var e=new l;return function(t,i){e.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(e);this.getObjectForDistance(n).raycast(t,i)}}(),update:function(){var e=new l,t=new l;return function(i){var n=this.levels;if(n.length>1){e.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);n[0].object.visible=!0;for(var a=1,o=n.length;a<o&&r>=n[a].distance;a++)n[a-1].object.visible=!1,n[a].object.visible=!0;for(;a<o;a++)n[a].object.visible=!1}}}(),toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);t.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Object.assign(Pt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new u;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},pose:function(){var e,t,i;for(t=0,i=this.bones.length;t<i;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new u,t=new u;return function(){for(var i=this.bones,n=this.boneInverses,r=this.boneMatrices,a=this.boneTexture,o=0,s=i.length;o<s;o++){var l=i[o]?i[o].matrixWorld:t;e.multiplyMatrices(l,n[o]),e.toArray(r,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Pt(this.bones,this.boneInverses)}}),Ot.prototype=Object.assign(Object.create(ce.prototype),{constructor:Ot,isBone:!0}),Lt.prototype=Object.assign(Object.create(Be.prototype),{constructor:Lt,isSkinnedMesh:!0,initBones:function(){var e,t,i,n,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(i=0,n=this.geometry.bones.length;i<n;i++)t=this.geometry.bones[i],e=new Ot,r.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(i=0,n=this.geometry.bones.length;i<n;i++)t=this.geometry.bones[i],t.parent!==-1&&null!==t.parent&&void 0!==r[t.parent]?r[t.parent].add(r[i]):this.add(r[i])}return this.updateMatrixWorld(!0),r},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var i=this.geometry.skinWeights[t];e=1/i.lengthManhattan(),e!==1/0?i.multiplyScalar(e):i.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new r,a=this.geometry.attributes.skinWeight;for(t=0;t<a.count;t++)n.x=a.getX(t),n.y=a.getY(t),n.z=a.getZ(t),n.w=a.getW(t),e=1/n.lengthManhattan(),e!==1/0?n.multiplyScalar(e):n.set(1,0,0,0),a.setXYZW(t,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(e){Be.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Rt.prototype=Object.create(Q.prototype),Rt.prototype.constructor=Rt,Rt.prototype.isLineBasicMaterial=!0,Rt.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},kt.prototype=Object.assign(Object.create(ce.prototype),{constructor:kt,isLine:!0,raycast:function(){var e=new u,t=new Ie,i=new ie;return function(n,r){var a=n.linePrecision,o=a*a,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(u),n.ray.intersectsSphere(i)!==!1){e.getInverse(u),t.copy(n.ray).applyMatrix4(e);var c=new l,h=new l,d=new l,p=new l,f=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,v=s.attributes,g=v.position.array;if(null!==m)for(var y=m.array,_=0,b=y.length-1;_<b;_+=f){var x=y[_],w=y[_+1];c.fromArray(g,3*x),h.fromArray(g,3*w);var T=t.distanceSqToSegment(c,h,p,d);if(!(T>o)){p.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(p);E<n.near||E>n.far||r.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,b=g.length/3-1;_<b;_+=f){c.fromArray(g,3*_),h.fromArray(g,3*_+3);var T=t.distanceSqToSegment(c,h,p,d);if(!(T>o)){p.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(p);E<n.near||E>n.far||r.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var M=s.vertices,S=M.length,_=0;_<S-1;_+=f){var T=t.distanceSqToSegment(M[_],M[_+1],p,d);if(!(T>o)){p.applyMatrix4(this.matrixWorld);var E=n.ray.origin.distanceTo(p);E<n.near||E>n.far||r.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Dt.prototype=Object.assign(Object.create(kt.prototype),{constructor:Dt,isLineSegments:!0}),It.prototype=Object.assign(Object.create(kt.prototype),{constructor:It,isLineLoop:!0}),zt.prototype=Object.create(Q.prototype),zt.prototype.constructor=zt,zt.prototype.isPointsMaterial=!0,zt.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},Nt.prototype=Object.assign(Object.create(ce.prototype),{constructor:Nt,isPoints:!0,raycast:function(){var e=new u,t=new Ie,i=new ie;return function(n,r){function a(e,i){var a=t.distanceSqToPoint(e);if(a<d){var s=t.closestPointToPoint(e);s.applyMatrix4(u);var l=n.ray.origin.distanceTo(s);if(l<n.near||l>n.far)return;r.push({distance:l,distanceToRay:Math.sqrt(a),point:s.clone(),index:i,face:null,object:o})}}var o=this,s=this.geometry,u=this.matrixWorld,c=n.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(u),i.radius+=c,n.ray.intersectsSphere(i)!==!1){e.getInverse(u),t.copy(n.ray).applyMatrix4(e);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new l;if(s.isBufferGeometry){var f=s.index,m=s.attributes,v=m.position.array;if(null!==f)for(var g=f.array,y=0,_=g.length;y<_;y++){var b=g[y];p.fromArray(v,3*b),a(p,b)}else for(var y=0,x=v.length/3;y<x;y++)p.fromArray(v,3*y),a(p,y)}else for(var w=s.vertices,y=0,x=w.length;y<x;y++)a(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Bt.prototype=Object.assign(Object.create(ce.prototype),{constructor:Bt}),Ft.prototype=Object.create(n.prototype),Ft.prototype.constructor=Ft,Ut.prototype=Object.create(n.prototype),Ut.prototype.constructor=Ut,Ut.prototype.isCompressedTexture=!0,jt.prototype=Object.create(n.prototype),jt.prototype.constructor=jt,jt.prototype.isDepthTexture=!0,Ht.prototype=Object.create(Pe.prototype),Ht.prototype.constructor=Ht,Gt.prototype=Object.create(ve.prototype),Gt.prototype.constructor=Gt,Vt.prototype=Object.create(Pe.prototype),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(ve.prototype),Wt.prototype.constructor=Wt,$t.prototype=Object.create(Pe.prototype),$t.prototype.constructor=$t,Xt.prototype=Object.create(ve.prototype),Xt.prototype.constructor=Xt,qt.prototype=Object.create($t.prototype),qt.prototype.constructor=qt,Yt.prototype=Object.create(ve.prototype),Yt.prototype.constructor=Yt,Zt.prototype=Object.create($t.prototype),Zt.prototype.constructor=Zt,Qt.prototype=Object.create(ve.prototype),Qt.prototype.constructor=Qt,Kt.prototype=Object.create($t.prototype),Kt.prototype.constructor=Kt,Jt.prototype=Object.create(ve.prototype),Jt.prototype.constructor=Jt,ei.prototype=Object.create($t.prototype),ei.prototype.constructor=ei,ti.prototype=Object.create(ve.prototype),ti.prototype.constructor=ti,ii.prototype=Object.create(Pe.prototype),ii.prototype.constructor=ii,ni.prototype=Object.create(ve.prototype),ni.prototype.constructor=ni,ri.prototype=Object.create(Pe.prototype),ri.prototype.constructor=ri,ai.prototype=Object.create(ve.prototype),ai.prototype.constructor=ai,oi.prototype=Object.create(Pe.prototype),oi.prototype.constructor=oi;var qu={area:function(e){for(var t=e.length,i=0,n=t-1,r=0;r<t;n=r++)i+=e[n].x*e[r].y-e[r].x*e[n].y;return.5*i},triangulate:function(){function e(e,t,i,n,r,a){var o,s,l,u,c,h,d,p,f;if(s=e[a[t]].x,l=e[a[t]].y,u=e[a[i]].x,c=e[a[i]].y,h=e[a[n]].x,d=e[a[n]].y,(u-s)*(d-l)-(c-l)*(h-s)<=0)return!1;var m,v,g,y,_,b,x,w,T,E,M,S,C,A,P;for(m=h-u,v=d-c,g=s-h,y=l-d,_=u-s,b=c-l,o=0;o<r;o++)if(p=e[a[o]].x,f=e[a[o]].y,!(p===s&&f===l||p===u&&f===c||p===h&&f===d)&&(x=p-s,w=f-l,T=p-u,E=f-c,M=p-h,S=f-d,P=m*E-v*T,C=_*w-b*x,A=g*S-y*M,P>=-Number.EPSILON&&A>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(t,i){var n=t.length;if(n<3)return null;var r,a,o,s=[],l=[],u=[];if(qu.area(t)>0)for(a=0;a<n;a++)l[a]=a;else for(a=0;a<n;a++)l[a]=n-1-a;var c=n,h=2*c;for(a=c-1;c>2;){if(h--<=0)return i?u:s;if(r=a,c<=r&&(r=0),a=r+1,c<=a&&(a=0),o=a+1,c<=o&&(o=0),e(t,r,a,o,c,l)){var d,p,f,m,v;for(d=l[r],p=l[a],f=l[o],s.push([t[d],t[p],t[f]]),u.push([l[r],l[a],l[o]]),m=a,v=a+1;v<c;m++,v++)l[m]=l[v];c--,h=2*c}}return i?u:s}}(),triangulateShape:function(e,t){function i(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function n(e,t,i){return e.x!==t.x?e.x<t.x?e.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=e.x:e.y<t.y?e.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=e.y}function r(e,t,i,r,a){var o=t.x-e.x,s=t.y-e.y,l=r.x-i.x,u=r.y-i.y,c=e.x-i.x,h=e.y-i.y,d=s*l-o*u,p=s*c-o*h;if(Math.abs(d)>Number.EPSILON){var f;if(d>0){if(p<0||p>d)return[];if(f=u*c-l*h,f<0||f>d)return[]}else{if(p>0||p<d)return[];if(f=u*c-l*h,f>0||f<d)return[]}if(0===f)return!a||0!==p&&p!==d?[e]:[];if(f===d)return!a||0!==p&&p!==d?[t]:[];if(0===p)return[i];if(p===d)return[r];var m=f/d;return[{x:e.x+m*o,y:e.y+m*s}]}if(0!==p||u*c!==l*h)return[];var v=0===o&&0===s,g=0===l&&0===u;if(v&&g)return e.x!==i.x||e.y!==i.y?[]:[e];if(v)return n(i,r,e)?[e]:[];if(g)return n(e,t,i)?[i]:[];var y,_,b,x,w,T,E,M;return 0!==o?(e.x<t.x?(y=e,b=e.x,_=t,x=t.x):(y=t,b=t.x,_=e,x=e.x),i.x<r.x?(w=i,E=i.x,T=r,M=r.x):(w=r,E=r.x,T=i,M=i.x)):(e.y<t.y?(y=e,b=e.y,_=t,x=t.y):(y=t,b=t.y,_=e,x=e.y),i.y<r.y?(w=i,E=i.y,T=r,M=r.y):(w=r,E=r.y,T=i,M=i.y)),b<=E?x<E?[]:x===E?a?[]:[w]:x<=M?[w,_]:[w,T]:b>M?[]:b===M?a?[]:[y]:x<=M?[y,_]:[y,T]}function a(e,t,i,n){var r=t.x-e.x,a=t.y-e.y,o=i.x-e.x,s=i.y-e.y,l=n.x-e.x,u=n.y-e.y,c=r*s-a*o,h=r*u-a*l;if(Math.abs(c)>Number.EPSILON){var d=l*s-u*o;return c>0?h>=0&&d>=0:h>=0||d>=0}return h>0}function o(e,t){function i(e,t){var i=y.length-1,n=e-1;n<0&&(n=i);var r=e+1;r>i&&(r=0);var o=a(y[e],y[n],y[r],s[t]);if(!o)return!1;var l=s.length-1,u=t-1;u<0&&(u=l);var c=t+1;return c>l&&(c=0),o=a(s[t],s[u],s[c],y[e]),!!o}function n(e,t){var i,n,a;for(i=0;i<y.length;i++)if(n=i+1,n%=y.length,a=r(e,t,y[i],y[n],!0),a.length>0)return!0;return!1}function o(e,i){var n,a,o,s,l;for(n=0;n<_.length;n++)for(a=t[_[n]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,l=r(e,i,a[o],a[s],!0),l.length>0)return!0;return!1}for(var s,l,u,c,h,d,p,f,m,v,g,y=e.concat(),_=[],b=[],x=0,w=t.length;x<w;x++)_.push(x);for(var T=0,E=2*_.length;_.length>0&&(E--,!(E<0));)for(u=T;u<y.length;u++){c=y[u],l=-1;for(var x=0;x<_.length;x++)if(d=_[x],p=c.x+":"+c.y+":"+d,void 0===b[p]){s=t[d];for(var M=0;M<s.length;M++)if(h=s[M],i(u,M)&&!n(c,h)&&!o(c,h)){l=M,_.splice(x,1),f=y.slice(0,u+1),m=y.slice(u),v=s.slice(l),g=s.slice(0,l+1),y=f.concat(v).concat(g).concat(m),T=u;break}if(l>=0)break;b[p]=!0}if(l>=0)break}return y}i(e),t.forEach(i);for(var s,l,u,c,h,d,p={},f=e.concat(),m=0,v=t.length;m<v;m++)Array.prototype.push.apply(f,t[m]);for(s=0,l=f.length;s<l;s++)h=f[s].x+":"+f[s].y,void 0!==p[h],p[h]=s;var g=o(e,t),y=qu.triangulate(g,!1);for(s=0,l=y.length;s<l;s++)for(c=y[s],u=0;u<3;u++)h=c[u].x+":"+c[u].y,d=p[h],void 0!==d&&(c[u]=d);return y.concat()},isClockWise:function(e){return qu.area(e)<0}};si.prototype=Object.create(ve.prototype),si.prototype.constructor=si,li.prototype=Object.create(Pe.prototype),li.prototype.constructor=li,li.prototype.getArrays=function(){var e=this.getAttribute("position"),t=e?Array.prototype.slice.call(e.array):[],i=this.getAttribute("uv"),n=i?Array.prototype.slice.call(i.array):[],r=this.index,a=r?Array.prototype.slice.call(r.array):[];return{position:t,uv:n,index:a}},li.prototype.addShapeList=function(e,t){var i=e.length;t.arrays=this.getArrays();for(var n=0;n<i;n++){var r=e[n];this.addShape(r,t)}this.setIndex(t.arrays.index),this.addAttribute("position",new Me(t.arrays.position,3)),this.addAttribute("uv",new Me(t.arrays.uv,2))},li.prototype.addShape=function(e,t){function n(e,t,i){return t.clone().multiplyScalar(i).add(e)}function r(e,t,n){var r,a,o,s=e.x-t.x,l=e.y-t.y,u=n.x-e.x,c=n.y-e.y,h=s*s+l*l,d=s*c-l*u;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(h),f=Math.sqrt(u*u+c*c),m=t.x-l/p,v=t.y+s/p,g=n.x-c/f,y=n.y+u/f,_=((g-m)*c-(y-v)*u)/(s*c-l*u);r=m+s*_-e.x,a=v+l*_-e.y;var b=r*r+a*a;if(b<=2)return new i(r,a);o=Math.sqrt(b/2)}else{var x=!1;s>Number.EPSILON?u>Number.EPSILON&&(x=!0):s<-Number.EPSILON?u<-Number.EPSILON&&(x=!0):Math.sign(l)===Math.sign(c)&&(x=!0),x?(r=-l,a=s,o=Math.sqrt(h)):(r=s,a=l,o=Math.sqrt(h/2))}return new i(r/o,a/o)}function a(){var e=b.length/3;if(A){var i=0,n=Z*i;for(J=0;J<Q;J++)Y=H[J],c(Y[2]+n,Y[1]+n,Y[0]+n);for(i=O+2*C,n=Z*i,J=0;J<Q;J++)Y=H[J],c(Y[0]+n,Y[1]+n,Y[2]+n)}else{for(J=0;J<Q;J++)Y=H[J],c(Y[2],Y[1],Y[0]);for(J=0;J<Q;J++)Y=H[J],c(Y[0]+Z*O,Y[1]+Z*O,Y[2]+Z*O)}N.addGroup(e,b.length/3-e,void 0!==t.material?t.material:0)}function o(){var e=b.length/3,i=0;for(s(G,i),i+=G.length,I=0,z=U.length;I<z;I++)D=U[I],s(D,i),i+=D.length;N.addGroup(e,b.length/3-e,void 0!==t.extrudeMaterial?t.extrudeMaterial:1)}function s(e,t){var i,n;for(J=e.length;--J>=0;){i=J,n=J-1,n<0&&(n=e.length-1);var r=0,a=O+2*C;for(r=0;r<a;r++){var o=Z*r,s=Z*(r+1),l=t+i+o,u=t+n+o,c=t+n+s,d=t+i+s;h(l,u,c,d,e,r,a,i,n)}}}function u(e,t,i){T.push(e),T.push(t),T.push(i)}function c(e,t,i){d(e),d(t),d(i);var n=b.length/3,r=k.generateTopUV(N,b,n-3,n-2,n-1);p(r[0]),p(r[1]),p(r[2])}function h(e,t,i,n,r,a,o,s,l){d(e),d(t),d(n),d(t),d(i),d(n);var u=b.length/3,c=k.generateSideWallUV(N,b,u-6,u-3,u-2,u-1);p(c[0]),p(c[1]),p(c[3]),p(c[1]),p(c[2]),p(c[3])}function d(e){x.push(b.length/3),b.push(T[3*e+0]),b.push(T[3*e+1]),b.push(T[3*e+2])}function p(e){w.push(e.x),w.push(e.y)}var f,m,v,g,y,_=t.arrays?t.arrays:this.getArrays(),b=_.position,x=_.index,w=_.uv,T=[],E=void 0!==t.amount?t.amount:100,M=void 0!==t.bevelThickness?t.bevelThickness:6,S=void 0!==t.bevelSize?t.bevelSize:M-2,C=void 0!==t.bevelSegments?t.bevelSegments:3,A=void 0===t.bevelEnabled||t.bevelEnabled,P=void 0!==t.curveSegments?t.curveSegments:12,O=void 0!==t.steps?t.steps:1,L=t.extrudePath,R=!1,k=void 0!==t.UVGenerator?t.UVGenerator:si.WorldUVGenerator;L&&(f=L.getSpacedPoints(O),R=!0,A=!1,m=void 0!==t.frames?t.frames:L.computeFrenetFrames(O,!1),v=new l,g=new l,y=new l),A||(C=0,M=0,S=0);var D,I,z,N=this,B=e.extractPoints(P),F=B.shape,U=B.holes,j=!qu.isClockWise(F);if(j)for(F=F.reverse(),
I=0,z=U.length;I<z;I++)D=U[I],qu.isClockWise(D)&&(U[I]=D.reverse());var H=qu.triangulateShape(F,U),G=F;for(I=0,z=U.length;I<z;I++)D=U[I],F=F.concat(D);for(var V,W,$,X,q,Y,Z=F.length,Q=H.length,K=[],J=0,ee=G.length,te=ee-1,ie=J+1;J<ee;J++,te++,ie++)te===ee&&(te=0),ie===ee&&(ie=0),K[J]=r(G[J],G[te],G[ie]);var ne,re=[],ae=K.concat();for(I=0,z=U.length;I<z;I++){for(D=U[I],ne=[],J=0,ee=D.length,te=ee-1,ie=J+1;J<ee;J++,te++,ie++)te===ee&&(te=0),ie===ee&&(ie=0),ne[J]=r(D[J],D[te],D[ie]);re.push(ne),ae=ae.concat(ne)}for(V=0;V<C;V++){for($=V/C,X=M*Math.cos($*Math.PI/2),W=S*Math.sin($*Math.PI/2),J=0,ee=G.length;J<ee;J++)q=n(G[J],K[J],W),u(q.x,q.y,-X);for(I=0,z=U.length;I<z;I++)for(D=U[I],ne=re[I],J=0,ee=D.length;J<ee;J++)q=n(D[J],ne[J],W),u(q.x,q.y,-X)}for(W=S,J=0;J<Z;J++)q=A?n(F[J],ae[J],W):F[J],R?(g.copy(m.normals[0]).multiplyScalar(q.x),v.copy(m.binormals[0]).multiplyScalar(q.y),y.copy(f[0]).add(g).add(v),u(y.x,y.y,y.z)):u(q.x,q.y,0);var oe;for(oe=1;oe<=O;oe++)for(J=0;J<Z;J++)q=A?n(F[J],ae[J],W):F[J],R?(g.copy(m.normals[oe]).multiplyScalar(q.x),v.copy(m.binormals[oe]).multiplyScalar(q.y),y.copy(f[oe]).add(g).add(v),u(y.x,y.y,y.z)):u(q.x,q.y,E/O*oe);for(V=C-1;V>=0;V--){for($=V/C,X=M*Math.cos($*Math.PI/2),W=S*Math.sin($*Math.PI/2),J=0,ee=G.length;J<ee;J++)q=n(G[J],K[J],W),u(q.x,q.y,E+X);for(I=0,z=U.length;I<z;I++)for(D=U[I],ne=re[I],J=0,ee=D.length;J<ee;J++)q=n(D[J],ne[J],W),R?u(q.x,q.y+f[O-1].y,f[O-1].x+X):u(q.x,q.y,E+X)}a(),o(),t.arrays||(this.setIndex(x),this.addAttribute("position",new Me(b,3)),this.addAttribute("uv",new Me(t.arrays.uv,2)))},si.WorldUVGenerator={generateTopUV:function(e,t,n,r,a){var o=t[3*n],s=t[3*n+1],l=t[3*r],u=t[3*r+1],c=t[3*a],h=t[3*a+1];return[new i(o,s),new i(l,u),new i(c,h)]},generateSideWallUV:function(e,t,n,r,a,o){var s=t[3*n],l=t[3*n+1],u=t[3*n+2],c=t[3*r],h=t[3*r+1],d=t[3*r+2],p=t[3*a],f=t[3*a+1],m=t[3*a+2],v=t[3*o],g=t[3*o+1],y=t[3*o+2];return Math.abs(l-h)<.01?[new i(s,1-u),new i(c,1-d),new i(p,1-m),new i(v,1-y)]:[new i(l,1-u),new i(h,1-d),new i(f,1-m),new i(g,1-y)]}},ui.prototype=Object.create(ve.prototype),ui.prototype.constructor=ui,ci.prototype=Object.create(li.prototype),ci.prototype.constructor=ci,hi.prototype=Object.create(ve.prototype),hi.prototype.constructor=hi,di.prototype=Object.create(Pe.prototype),di.prototype.constructor=di,pi.prototype=Object.create(ve.prototype),pi.prototype.constructor=pi,fi.prototype=Object.create(Pe.prototype),fi.prototype.constructor=fi,mi.prototype=Object.create(ve.prototype),mi.prototype.constructor=mi,vi.prototype=Object.create(Pe.prototype),vi.prototype.constructor=vi,gi.prototype=Object.create(ve.prototype),gi.prototype.constructor=gi,yi.prototype=Object.create(Pe.prototype),yi.prototype.constructor=yi,_i.prototype=Object.create(Pe.prototype),_i.prototype.constructor=_i,bi.prototype=Object.create(ve.prototype),bi.prototype.constructor=bi,xi.prototype=Object.create(Pe.prototype),xi.prototype.constructor=xi,wi.prototype=Object.create(bi.prototype),wi.prototype.constructor=wi,Ti.prototype=Object.create(xi.prototype),Ti.prototype.constructor=Ti,Ei.prototype=Object.create(ve.prototype),Ei.prototype.constructor=Ei,Mi.prototype=Object.create(Pe.prototype),Mi.prototype.constructor=Mi;var Yu=Object.freeze({WireframeGeometry:Ht,ParametricGeometry:Gt,ParametricBufferGeometry:Vt,TetrahedronGeometry:Xt,TetrahedronBufferGeometry:qt,OctahedronGeometry:Yt,OctahedronBufferGeometry:Zt,IcosahedronGeometry:Qt,IcosahedronBufferGeometry:Kt,DodecahedronGeometry:Jt,DodecahedronBufferGeometry:ei,PolyhedronGeometry:Wt,PolyhedronBufferGeometry:$t,TubeGeometry:ti,TubeBufferGeometry:ii,TorusKnotGeometry:ni,TorusKnotBufferGeometry:ri,TorusGeometry:ai,TorusBufferGeometry:oi,TextGeometry:ui,TextBufferGeometry:ci,SphereGeometry:hi,SphereBufferGeometry:di,RingGeometry:pi,RingBufferGeometry:fi,PlaneGeometry:Re,PlaneBufferGeometry:ke,LatheGeometry:mi,LatheBufferGeometry:vi,ShapeGeometry:gi,ShapeBufferGeometry:yi,ExtrudeGeometry:si,ExtrudeBufferGeometry:li,EdgesGeometry:_i,ConeGeometry:wi,ConeBufferGeometry:Ti,CylinderGeometry:bi,CylinderBufferGeometry:xi,CircleGeometry:Ei,CircleBufferGeometry:Mi,BoxGeometry:Oe,BoxBufferGeometry:Le});Si.prototype=Object.create(Q.prototype),Si.prototype.constructor=Si,Si.prototype.isShadowMaterial=!0,Ci.prototype=Object.create(K.prototype),Ci.prototype.constructor=Ci,Ci.prototype.isRawShaderMaterial=!0,Ai.prototype=Object.create(Q.prototype),Ai.prototype.constructor=Ai,Ai.prototype.isMeshStandardMaterial=!0,Ai.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Pi.prototype=Object.create(Ai.prototype),Pi.prototype.constructor=Pi,Pi.prototype.isMeshPhysicalMaterial=!0,Pi.prototype.copy=function(e){return Ai.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Oi.prototype=Object.create(Q.prototype),Oi.prototype.constructor=Oi,Oi.prototype.isMeshPhongMaterial=!0,Oi.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Li.prototype=Object.create(Oi.prototype),Li.prototype.constructor=Li,Li.prototype.isMeshToonMaterial=!0,Li.prototype.copy=function(e){return Oi.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Ri.prototype=Object.create(Q.prototype),Ri.prototype.constructor=Ri,Ri.prototype.isMeshNormalMaterial=!0,Ri.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ki.prototype=Object.create(Q.prototype),ki.prototype.constructor=ki,ki.prototype.isMeshLambertMaterial=!0,ki.prototype.copy=function(e){return Q.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Di.prototype=Object.create(Rt.prototype),Di.prototype.constructor=Di,Di.prototype.isLineDashedMaterial=!0,Di.prototype.copy=function(e){return Rt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Zu=Object.freeze({ShadowMaterial:Si,SpriteMaterial:St,RawShaderMaterial:Ci,ShaderMaterial:K,PointsMaterial:zt,MeshPhysicalMaterial:Pi,MeshStandardMaterial:Ai,MeshPhongMaterial:Oi,MeshToonMaterial:Li,MeshNormalMaterial:Ri,MeshLambertMaterial:ki,MeshDepthMaterial:J,MeshDistanceMaterial:ee,MeshBasicMaterial:De,LineDashedMaterial:Di,LineBasicMaterial:Rt,Material:Q}),Qu={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ku=new Ii;Object.assign(zi.prototype,{load:function(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var r=this,a=Qu.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;var o=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(o);if(s){var l=s[1],u=!!s[2],c=s[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":h=new ArrayBuffer(c.length);for(var p=new Uint8Array(h),f=0;f<c.length;f++)p[f]=c.charCodeAt(f);"blob"===d&&(h=new Blob([h],{type:l}));break;case"document":var m=new DOMParser;h=m.parseFromString(c,l);break;case"json":h=JSON.parse(c);break;default:h=c}window.setTimeout(function(){t&&t(h),r.manager.itemEnd(e)},0)}catch(v){window.setTimeout(function(){n&&n(v),r.manager.itemEnd(e),r.manager.itemError(e)},0)}}else{var g=new XMLHttpRequest;g.open("GET",e,!0),g.addEventListener("load",function(i){var a=i.target.response;Qu.add(e,a),200===this.status?(t&&t(a),r.manager.itemEnd(e)):0===this.status?(t&&t(a),r.manager.itemEnd(e)):(n&&n(i),r.manager.itemEnd(e),r.manager.itemError(e))},!1),void 0!==i&&g.addEventListener("progress",function(e){i(e)},!1),g.addEventListener("error",function(t){n&&n(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var y in this.requestHeader)g.setRequestHeader(y,this.requestHeader[y]);g.send(null)}return r.manager.itemStart(e),g},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(Ni.prototype,{load:function(e,t,i,n){function r(r){l.load(e[r],function(e){var i=a._parser(e,!0);o[r]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},u+=1,6===u&&(1===i.mipmapCount&&(s.minFilter=Po),s.format=i.format,s.needsUpdate=!0,t&&t(s))},i,n)}var a=this,o=[],s=new Ut;s.image=o;var l=new zi(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,c=0,h=e.length;c<h;++c)r(c);else l.load(e,function(e){var i=a._parser(e,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,r=0;r<n;r++){o[r]={mipmaps:[]};for(var l=0;l<i.mipmapCount;l++)o[r].mipmaps.push(i.mipmaps[r*i.mipmapCount+l]),o[r].format=i.format,o[r].width=i.width,o[r].height=i.height}else s.image.width=i.width,s.image.height=i.height,s.mipmaps=i.mipmaps;1===i.mipmapCount&&(s.minFilter=Po),s.format=i.format,s.needsUpdate=!0,t&&t(s)},i,n);return s},setPath:function(e){return this.path=e,this}}),Object.assign(Bi.prototype,{load:function(e,t,i,n){var r=this,a=new c,o=new zi(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var i=r._parser(e);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:Eo,a.wrapT=void 0!==i.wrapT?i.wrapT:Eo,a.magFilter=void 0!==i.magFilter?i.magFilter:Po,a.minFilter=void 0!==i.minFilter?i.minFilter:Lo,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Po),a.needsUpdate=!0,t&&t(a,i))},i,n),a}}),Object.assign(Fi.prototype,{crossOrigin:"Anonymous",load:function(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var r=this,a=Qu.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout(function(){t&&t(a),r.manager.itemEnd(e)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");return o.addEventListener("load",function(){Qu.add(e,this),t&&t(this),r.manager.itemEnd(e)},!1),o.addEventListener("error",function(t){n&&n(t),r.manager.itemEnd(e),r.manager.itemError(e)},!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ui.prototype,{crossOrigin:"Anonymous",load:function(e,t,i,n){function r(i){o.load(e[i],function(e){a.images[i]=e,s++,6===s&&(a.needsUpdate=!0,t&&t(a))},void 0,n)}var a=new h,o=new Fi(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var s=0,l=0;l<e.length;++l)r(l);return a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ji.prototype,{crossOrigin:"Anonymous",load:function(e,t,i,r){var a=new Fi(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=new n;return o.image=a.load(e,function(){var i=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);o.format=i?Wo:$o,o.needsUpdate=!0,void 0!==t&&t(o)},i,r),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Hi.prototype=Object.assign(Object.create(ce.prototype),{constructor:Hi,isLight:!0,copy:function(e){return ce.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ce.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Gi.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Gi,isHemisphereLight:!0,copy:function(e){return Hi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Vi.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Wi.prototype=Object.assign(Object.create(Vi.prototype),{constructor:Wi,isSpotLightShadow:!0,update:function(e){var t=this.camera,i=2*Ps.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;i===t.fov&&n===t.aspect&&r===t.far||(t.fov=i,t.aspect=n,t.far=r,t.updateProjectionMatrix())}}),$i.prototype=Object.assign(Object.create(Hi.prototype),{constructor:$i,isSpotLight:!0,copy:function(e){return Hi.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Xi.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Xi,isPointLight:!0,copy:function(e){return Hi.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),qi.prototype=Object.assign(Object.create(Vi.prototype),{constructor:qi}),Yi.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Yi,isDirectionalLight:!0,copy:function(e){return Hi.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Zi.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Zi,isAmbientLight:!0}),Qi.prototype=Object.assign(Object.create(Hi.prototype),{constructor:Qi,isRectAreaLight:!0,copy:function(e){return Hi.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Hi.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Ju={arraySlice:function(e,t,i){return Ju.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==i?i:e.length)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,i){return e[t]-e[i]}for(var i=e.length,n=new Array(i),r=0;r!==i;++r)n[r]=r;return n.sort(t),n},sortedArray:function(e,t,i){for(var n=e.length,r=new e.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r},flattenJSON:function(e,t,i,n){for(var r=1,a=e[0];void 0!==a&&void 0===a[n];)a=e[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o)){do o=a[n],void 0!==o&&(t.push(a.time),i.push.apply(i,o)),a=e[r++];while(void 0!==a)}else if(void 0!==o.toArray){do o=a[n],void 0!==o&&(t.push(a.time),o.toArray(i,i.length)),a=e[r++];while(void 0!==a)}else do o=a[n],void 0!==o&&(t.push(a.time),i.push(o)),a=e[r++];while(void 0!==a)}}};Object.assign(Ki.prototype,{evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,n=t[i],r=t[i-1];e:{t:{var a;i:{n:if(!(e<n)){for(var o=i+2;;){if(void 0===n){if(e<r)break n;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,r)}if(i===o)break;if(r=n,n=t[++i],e<n)break t}a=t.length;break i}{if(e>=r)break e;var s=t[1];e<s&&(i=2,r=s);for(var o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(i===o)break;if(n=r,r=t[--i-1],e>=r)break t}a=i,i=0}}for(;i<a;){var l=i+a>>>1;e<t[l]?a=l:i=l+1}if(n=t[i],r=t[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,r,e)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=e*n,a=0;a!==n;++a)t[a]=i[r+a];return t},interpolate_:function(e,t,i,n){throw new Error("call to abstract method")},intervalChanged_:function(e,t,i){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ki.prototype,{beforeStart_:Ki.prototype.copySampleValue_,afterEnd_:Ki.prototype.copySampleValue_}),Ji.prototype=Object.assign(Object.create(Ki.prototype),{constructor:Ji,DefaultSettings_:{endingStart:ps,endingEnd:ps},intervalChanged_:function(e,t,i){var n=this.parameterPositions,r=e-2,a=e+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case fs:r=e,o=2*t-i;break;case ms:r=n.length-2,o=t+n[r]-n[r+1];break;default:r=e,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case fs:a=e,s=2*i-t;break;case ms:a=1,s=i+n[1]-n[0];break;default:a=e-1,s=t}var l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-i),this._offsetPrev=r*u,this._offsetNext=a*u},interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-t)/(n-t),f=p*p,m=f*p,v=-h*m+2*h*f-h*p,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f,b=0;b!==o;++b)r[b]=v*a[u+b]+g*a[l+b]+y*a[s+b]+_*a[c+b];return r}}),en.prototype=Object.assign(Object.create(Ki.prototype),{constructor:en,interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(i-t)/(n-t),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}),tn.prototype=Object.assign(Object.create(Ki.prototype),{constructor:tn,interpolate_:function(e,t,i,n){return this.copySampleValue_(e-1)}});var ec;ec={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:hs,InterpolantFactoryMethodDiscrete:function(e){return new tn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new en(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ji(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case cs:t=this.InterpolantFactoryMethodDiscrete;break;case hs:t=this.InterpolantFactoryMethodLinear;break;case ds:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return cs;case this.InterpolantFactoryMethodLinear:return hs;case this.InterpolantFactoryMethodSmooth:return ds}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]*=e;return this},trim:function(e,t){for(var i=this.times,n=i.length,r=0,a=n-1;r!==n&&i[r]<e;)++r;for(;a!==-1&&i[a]>t;)--a;if(++a,0!==r||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=Ju.arraySlice(i,r,a),this.values=Ju.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(e=!1);var i=this.times,n=this.values,r=i.length;0===r&&(e=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){e=!1;break}if(null!==a&&a>s){e=!1;break}a=s}if(void 0!==n&&Ju.isTypedArray(n))for(var o=0,l=n.length;o!==l;++o){var u=n[o];if(isNaN(u)){e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,i=this.getValueSize(),n=this.getInterpolation()===ds,r=1,a=e.length-1,o=1;o<a;++o){var s=!1,l=e[o],u=e[o+1];if(l!==u&&(1!==o||l!==l[0]))if(n)s=!0;else for(var c=o*i,h=c-i,d=c+i,p=0;p!==i;++p){var f=t[c+p];if(f!==t[h+p]||f!==t[d+p]){s=!0;break}}if(s){if(o!==r){e[r]=e[o];for(var m=o*i,v=r*i,p=0;p!==i;++p)t[v+p]=t[m+p]}++r}}if(a>0){e[r]=e[a];for(var m=a*i,v=r*i,p=0;p!==i;++p)t[v+p]=t[m+p];++r}return r!==e.length&&(this.times=Ju.arraySlice(e,0,r),this.values=Ju.arraySlice(t,0,r*i)),this}},rn.prototype=Object.assign(Object.create(ec),{constructor:rn,ValueTypeName:"vector"}),an.prototype=Object.assign(Object.create(Ki.prototype),{constructor:an,interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=(i-t)/(n-t),c=l+o;l!==c;l+=4)s.slerpFlat(r,0,a,l-o,a,l,u);return r}}),on.prototype=Object.assign(Object.create(ec),{constructor:on,ValueTypeName:"quaternion",DefaultInterpolation:hs,InterpolantFactoryMethodLinear:function(e){return new an(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),sn.prototype=Object.assign(Object.create(ec),{constructor:sn,ValueTypeName:"number"}),ln.prototype=Object.assign(Object.create(ec),{constructor:ln,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:cs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),un.prototype=Object.assign(Object.create(ec),{constructor:un,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:cs,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),cn.prototype=Object.assign(Object.create(ec),{constructor:cn,ValueTypeName:"color"}),hn.prototype=ec,ec.constructor=hn,Object.assign(hn,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=hn._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var i=[],n=[];Ju.flattenJSON(e.keys,i,n,"value"),e.times=i,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,i=e.constructor;if(void 0!==i.toJSON)t=i.toJSON(e);else{t={name:e.name,times:Ju.convertArray(e.times,Array),values:Ju.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sn;case"vector":case"vector2":case"vector3":case"vector4":return rn;case"color":return cn;case"quaternion":return on;case"bool":case"boolean":return un;case"string":return ln}throw new Error("Unsupported typeName: "+e)}}),Object.assign(dn,{parse:function(e){for(var t=[],i=e.tracks,n=1/(e.fps||1),r=0,a=i.length;r!==a;++r)t.push(hn.parse(i[r]).scale(n));return new dn(e.name,e.duration,t)},toJSON:function(e){for(var t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t},r=0,a=i.length;r!==a;++r)t.push(hn.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(e,t,i,n){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=Ju.getKeyframeOrder(s);s=Ju.sortedArray(s,1,u),l=Ju.sortedArray(l,1,u),n||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new sn(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/i))}return new dn(e,(-1),a)},findByName:function(e,t){var i=e;if(!Array.isArray(e)){var n=e;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=n[u];c||(n[u]=c=[]),c.push(s)}}var h=[];for(var u in n)h.push(dn.CreateFromMorphTargetSequence(u,n[u],t,i));return h},parseAnimation:function(e,t){if(!e)return null;for(var i=function(e,t,i,n,r){if(0!==i.length){var a=[],o=[];Ju.flattenJSON(i,a,o,n),0!==a.length&&r.push(new e(t,a,o))}},n=[],r=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},h=0;h<u.length;h++)if(u[h].morphTargets)for(var d=0;d<u[h].morphTargets.length;d++)c[u[h].morphTargets[d]]=-1;for(var p in c){for(var f=[],m=[],d=0;d!==u[h].morphTargets.length;++d){var v=u[h];f.push(v.time),m.push(v.morphTarget===p?1:0)}n.push(new sn(".morphTargetInfluence["+p+"]",f,m))}a=c.length*(o||1)}else{var g=".bones["+t[l].name+"]";i(rn,g+".position",u,"pos",n),i(on,g+".quaternion",u,"rot",n),i(rn,g+".scale",u,"scl",n)}}if(0===n.length)return null;var y=new dn(r,a,n);return y}}),Object.assign(dn.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,i=0,n=e.length;i!==n;++i){var r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(pn.prototype,{load:function(e,t,i,n){var r=this,a=new zi(r.manager);a.load(e,function(e){t(r.parse(JSON.parse(e)))},i,n)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===n[e],n[e]}var n=this.textures,r=new Zu[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=t(e.map)),void 0!==e.alphaMap&&(r.alphaMap=t(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=t(e.normalMap)),void 0!==e.normalScale){var a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=(new i).fromArray(a)}return void 0!==e.displacementMap&&(r.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=t(e.specularMap)),void 0!==e.envMap&&(r.envMap=t(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=t(e.gradientMap)),r}}),Object.assign(fn.prototype,{load:function(e,t,i,n){var r=this,a=new zi(r.manager);a.load(e,function(e){t(r.parse(JSON.parse(e)))},i,n)},parse:function(e){var t=new Pe,i=e.data.index;if(void 0!==i){var n=new tc[i.type](i.array);t.setIndex(new ge(n,1))}var r=e.data.attributes;for(var a in r){var o=r[a],n=new tc[o.type](o.array);t.addAttribute(a,new ge(n,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,c=s.length;u!==c;++u){var h=s[u];t.addGroup(h.start,h.count,h.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var p=new l;void 0!==d.center&&p.fromArray(d.center),t.boundingSphere=new ie(p,d.radius)}return t}});var tc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};mn.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,n=t.length;i<n;i+=2){var r=t[i],a=t[i+1];if(r.test(e))return a}return null}},Object.assign(mn.prototype,{crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,i){for(var n=[],r=0;r<e.length;++r)n[r]=this.createMaterial(e[r],t,i);return n},createMaterial:function(){var e={NoBlending:Oa,NormalBlending:La,AdditiveBlending:Ra,SubtractiveBlending:ka,MultiplyBlending:Da,CustomBlending:Ia},t=new $,i=new ji,n=new pn;return function(r,a,o){function s(e,t,n,r,s){var u,c=a+e,h=mn.Handlers.get(c);null!==h?u=h.load(c):(i.setCrossOrigin(o),u=i.load(c)),void 0!==t&&(u.repeat.fromArray(t),1!==t[0]&&(u.wrapS=To),1!==t[1]&&(u.wrapT=To)),void 0!==n&&u.offset.fromArray(n),void 0!==r&&("repeat"===r[0]&&(u.wrapS=To),"mirror"===r[0]&&(u.wrapS=Mo),"repeat"===r[1]&&(u.wrapT=To),"mirror"===r[1]&&(u.wrapT=Mo)),void 0!==s&&(u.anisotropy=s);var d=Ps.generateUUID();return l[d]=u,d}var l={},u={uuid:Ps.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var h=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=h;break;case"blending":u.blending=e[h];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":u.color=t.fromArray(h).getHex();break;case"colorSpecular":u.specular=t.fromArray(h).getHex();break;case"colorEmissive":u.emissive=t.fromArray(h).getHex();break;case"specularCoef":u.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=Ta;break;case"doubleSided":u.side=Ea;break;case"transparency":u.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=h;break;case"vertexColors":h===!0&&(u.vertexColors=Pa),"face"===h&&(u.vertexColors=Aa)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),n.setTextures(l),n.parse(u)}}()}),Object.assign(vn.prototype,{load:function(e,t,i,n){var r=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:mn.prototype.extractUrlBase(e),o=new zi(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,function(e){var i=JSON.parse(e),n=i.metadata;if(void 0!==n){var o=n.type;if(void 0!==o){if("object"===o.toLowerCase())return;if("scene"===o.toLowerCase())return}}var s=r.parse(i,a);t(s.geometry,s.materials)},i,n)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var r,a,o,s,u,c,h,d,p,f,m,v,g,y,_,b,x,w,T,E,M,S,C,A,P,O,L,R=e.faces,k=e.vertices,D=e.normals,I=e.colors,z=e.scale,N=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&N++;for(r=0;r<N;r++)t.faceVertexUvs[r]=[]}for(s=0,u=k.length;s<u;)w=new l,w.x=k[s++]*z,w.y=k[s++]*z,w.z=k[s++]*z,t.vertices.push(w);for(s=0,u=R.length;s<u;)if(f=R[s++],m=n(f,0),v=n(f,1),g=n(f,3),y=n(f,4),_=n(f,5),b=n(f,6),x=n(f,7),m){if(E=new fe,E.a=R[s],E.b=R[s+1],E.c=R[s+3],M=new fe,M.a=R[s+1],M.b=R[s+2],M.c=R[s+3],s+=4,v&&(p=R[s++],E.materialIndex=p,M.materialIndex=p),o=t.faces.length,g)for(r=0;r<N;r++)for(A=e.uvs[r],t.faceVertexUvs[r][o]=[],t.faceVertexUvs[r][o+1]=[],a=0;a<4;a++)d=R[s++],O=A[2*d],L=A[2*d+1],P=new i(O,L),2!==a&&t.faceVertexUvs[r][o].push(P),0!==a&&t.faceVertexUvs[r][o+1].push(P);if(y&&(h=3*R[s++],E.normal.set(D[h++],D[h++],D[h]),M.normal.copy(E.normal)),_)for(r=0;r<4;r++)h=3*R[s++],C=new l(D[h++],D[h++],D[h]),2!==r&&E.vertexNormals.push(C),0!==r&&M.vertexNormals.push(C);if(b&&(c=R[s++],S=I[c],E.color.setHex(S),M.color.setHex(S)),x)for(r=0;r<4;r++)c=R[s++],S=I[c],2!==r&&E.vertexColors.push(new $(S)),0!==r&&M.vertexColors.push(new $(S));t.faces.push(E),t.faces.push(M)}else{if(T=new fe,T.a=R[s++],T.b=R[s++],T.c=R[s++],v&&(p=R[s++],T.materialIndex=p),o=t.faces.length,g)for(r=0;r<N;r++)for(A=e.uvs[r],t.faceVertexUvs[r][o]=[],a=0;a<3;a++)d=R[s++],O=A[2*d],L=A[2*d+1],P=new i(O,L),t.faceVertexUvs[r][o].push(P);if(y&&(h=3*R[s++],T.normal.set(D[h++],D[h++],D[h])),_)for(r=0;r<3;r++)h=3*R[s++],C=new l(D[h++],D[h++],D[h]),T.vertexNormals.push(C);if(b&&(c=R[s++],T.color.setHex(I[c])),x)for(r=0;r<3;r++)c=R[s++],T.vertexColors.push(new $(I[c]));t.faces.push(T)}}function t(e,t){var i=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var n=0,a=e.skinWeights.length;n<a;n+=i){var o=e.skinWeights[n],s=i>1?e.skinWeights[n+1]:0,l=i>2?e.skinWeights[n+2]:0,u=i>3?e.skinWeights[n+3]:0;t.skinWeights.push(new r(o,s,l,u))}if(e.skinIndices)for(var n=0,a=e.skinIndices.length;n<a;n+=i){var c=e.skinIndices[n],h=i>1?e.skinIndices[n+1]:0,d=i>2?e.skinIndices[n+2]:0,p=i>3?e.skinIndices[n+3]:0;t.skinIndices.push(new r(c,h,d,p))}t.bones=e.bones,t.bones&&t.bones.length>0&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)}function n(e,t){var i=e.scale;if(void 0!==e.morphTargets)for(var n=0,r=e.morphTargets.length;n<r;n++){t.morphTargets[n]={},t.morphTargets[n].name=e.morphTargets[n].name,t.morphTargets[n].vertices=[];for(var a=t.morphTargets[n].vertices,o=e.morphTargets[n].vertices,s=0,u=o.length;s<u;s+=3){var c=new l;c.x=o[s]*i,c.y=o[s+1]*i,c.z=o[s+2]*i,a.push(c)}}if(void 0!==e.morphColors&&e.morphColors.length>0)for(var h=t.faces,d=e.morphColors[0].colors,n=0,r=h.length;n<r;n++)h[n].color.fromArray(d,3*n)}function a(e,t){var i=[],n=[];void 0!==e.animation&&n.push(e.animation),void 0!==e.animations&&(e.animations.length?n=n.concat(e.animations):n.push(e.animations));for(var r=0;r<n.length;r++){var a=dn.parseAnimation(n[r],t.bones);a&&i.push(a)}if(t.morphTargets){var o=dn.CreateClipsFromMorphTargetSequences(t.morphTargets,10);i=i.concat(o)}i.length>0&&(t.animations=i)}return function(i,r){void 0!==i.data&&(i=i.data),void 0!==i.scale?i.scale=1/i.scale:i.scale=1;var o=new ve;if(e(i,o),t(i,o),n(i,o),a(i,o),o.computeFaceNormals(),o.computeBoundingSphere(),void 0===i.materials||0===i.materials.length)return{geometry:o};var s=mn.prototype.initMaterials(i.materials,r,this.crossOrigin);return{geometry:o,materials:s}}}()}),Object.assign(gn.prototype,{load:function(e,t,i,n){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this,a=new zi(r.manager);a.load(e,function(e){var i=null;try{i=JSON.parse(e)}catch(a){return void(void 0!==n&&n(a))}var o=i.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()&&r.parse(i,t)},i,n)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var i=this.parseGeometries(e.geometries),n=this.parseImages(e.images,function(){void 0!==t&&t(o)}),r=this.parseTextures(e.textures,n),a=this.parseMaterials(e.materials,r),o=this.parseObject(e.object,i,a);return e.animations&&(o.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(o),o},parseGeometries:function(e){var t={};if(void 0!==e)for(var i=new vn,n=new fn,r=0,a=e.length;r<a;r++){var o,s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Yu[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Yu[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Yu[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Yu[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Yu[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Yu[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new Yu[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Yu[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Yu[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Yu[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Yu[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=n.parse(s);break;case"Geometry":o=i.parse(s,this.texturePath).geometry;break;default:continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),t[s.uuid]=o}return t},parseMaterials:function(e,t){var i={};if(void 0!==e){var n=new pn;n.setTextures(t);for(var r=0,a=e.length;r<a;r++){var o=e[r];if("MultiMaterial"===o.type){for(var s=[],l=0;l<o.materials.length;l++)s.push(n.parse(o.materials[l]));i[o.uuid]=s}else i[o.uuid]=n.parse(o)}}return i},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var n=dn.parse(e[i]);t.push(n)}return t},parseImages:function(e,t){function i(e){return n.manager.itemStart(e),o.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemEnd(e),n.manager.itemError(e)})}var n=this,r={};if(void 0!==e&&e.length>0){var a=new Ii(t),o=new Fi(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=i(c)}}return r},parseTextures:function(e,t){function i(e,t){return"number"==typeof e?e:t[e]}var r={};if(void 0!==e)for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===s.image,void 0===t[s.image];var l=new n(t[s.image]);l.needsUpdate=!0,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=i(s.mapping,ic)),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.wrap&&(l.wrapS=i(s.wrap[0],nc),l.wrapT=i(s.wrap[1],nc)),void 0!==s.minFilter&&(l.minFilter=i(s.minFilter,rc)),void 0!==s.magFilter&&(l.magFilter=i(s.magFilter,rc)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),r[s.uuid]=l}return r},parseObject:function(){var e=new u;return function(t,i,n){function r(e){return void 0===i[e],i[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var a=e[i];void 0===n[a],t.push(n[a])}return t}return void 0===n[e],n[e]}}var o;switch(t.type){case"Scene":o=new Et,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new $(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new Tt(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new wt(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new pe(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new de(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new Zi(t.color,t.intensity);break;case"DirectionalLight":o=new Yi(t.color,t.intensity);break;case"PointLight":o=new Xi(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new Qi(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new $i(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new Gi(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var s=r(t.geometry),l=a(t.material);o=s.bones&&s.bones.length>0?new Lt(s,l):new Be(s,l);break;case"LOD":o=new At;break;case"Line":o=new kt(r(t.geometry),a(t.material),t.mode);break;case"LineLoop":o=new It(r(t.geometry),a(t.material));break;case"LineSegments":o=new Dt(r(t.geometry),a(t.material));break;case"PointCloud":case"Points":o=new Nt(r(t.geometry),a(t.material));break;case"Sprite":o=new Ct(a(t.material));break;case"Group":o=new Bt;break;default:o=new ce}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var u=t.children,c=0;c<u.length;c++)o.add(this.parseObject(u[c],i,n));if("LOD"===t.type)for(var h=t.levels,d=0;d<h.length;d++){var p=h[d],f=o.getObjectByProperty("uuid",p.object);void 0!==f&&o.addLevel(f,p.distance)}return o}}()});var ic={UVMapping:mo,CubeReflectionMapping:vo,CubeRefractionMapping:go,EquirectangularReflectionMapping:yo,EquirectangularRefractionMapping:_o,SphericalReflectionMapping:bo,CubeUVReflectionMapping:xo,CubeUVRefractionMapping:wo},nc={RepeatWrapping:To,ClampToEdgeWrapping:Eo,MirroredRepeatWrapping:Mo},rc={NearestFilter:So,NearestMipMapNearestFilter:Co,NearestMipMapLinearFilter:Ao,LinearFilter:Po,LinearMipMapNearestFilter:Oo,LinearMipMapLinearFilter:Lo};Object.assign(An.prototype,{getPoint:function(){return null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=e;i++)t=this.getPoint(i/e),a+=t.distanceTo(r),n.push(a),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,n=this.getLengths(),r=0,a=n.length;i=t?t:e*n[a-1];for(var o,s=0,l=a-1;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-i,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===i)return r/(a-1);var u=n[r],c=n[r+1],h=c-u,d=(i-u)/h,p=(r+d)/(a-1);return p},getTangent:function(e){var t=1e-4,i=e-t,n=e+t;i<0&&(i=0),n>1&&(n=1);var r=this.getPoint(i),a=this.getPoint(n),o=a.clone().sub(r);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var i,n,r,a=new l,o=[],s=[],c=[],h=new l,d=new u;for(i=0;i<=e;i++)n=i/e,o[i]=this.getTangentAt(n),o[i].normalize();s[0]=new l,c[0]=new l;var p=Number.MAX_VALUE,f=Math.abs(o[0].x),m=Math.abs(o[0].y),v=Math.abs(o[0].z);for(f<=p&&(p=f,a.set(1,0,0)),m<=p&&(p=m,a.set(0,1,0)),v<=p&&a.set(0,0,1),h.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],h),c[0].crossVectors(o[0],s[0]),i=1;i<=e;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),h.crossVectors(o[i-1],o[i]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(Ps.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(d.makeRotationAxis(h,r))),c[i].crossVectors(o[i],s[i]);if(t===!0)for(r=Math.acos(Ps.clamp(s[0].dot(s[e]),-1,1)),r/=e,o[0].dot(h.crossVectors(s[0],s[e]))>0&&(r=-r),i=1;i<=e;i++)s[i].applyMatrix4(d.makeRotationAxis(o[i],r*i)),c[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:c}}}),Pn.prototype=Object.create(An.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isLineCurve=!0,Pn.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},Pn.prototype.getPointAt=function(e){return this.getPoint(e)},Pn.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()},On.prototype=Object.assign(Object.create(An.prototype),{constructor:On,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Pn(t,e))},getPoint:function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=t){var r=i[n]-t,a=this.curves[n],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}n++}return null},getLength:function(){
var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=r[n],o=a&&a.isEllipseCurve?2*e:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];t&&t.equals(u)||(i.push(u),t=u)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t=new ve,i=0,n=e.length;i<n;i++){var r=e[i];t.vertices.push(new l(r.x,r.y,r.z||0))}return t}}),Ln.prototype=Object.create(An.prototype),Ln.prototype.constructor=Ln,Ln.prototype.isEllipseCurve=!0,Ln.prototype.getPoint=function(e){for(var t=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=t;for(;n>t;)n-=t;n<Number.EPSILON&&(n=r?0:t),this.aClockwise!==!0||r||(n===t?n=-t:n-=t);var a=this.aStartAngle+e*n,o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=o-this.aX,h=s-this.aY;o=c*l-h*u+this.aX,s=c*u+h*l+this.aY}return new i(o,s)},Rn.prototype=Object.create(An.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isSplineCurve=!0,Rn.prototype.getPoint=function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),a=n-r,o=t[0===r?r:r-1],s=t[r],l=t[r>t.length-2?t.length-1:r+1],u=t[r>t.length-3?t.length-1:r+2];return new i(yn(a,o.x,s.x,l.x,u.x),yn(a,o.y,s.y,l.y,u.y))},kn.prototype=Object.create(An.prototype),kn.prototype.constructor=kn,kn.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2,a=this.v3;return new i(Cn(e,t.x,n.x,r.x,a.x),Cn(e,t.y,n.y,r.y,a.y))},Dn.prototype=Object.create(An.prototype),Dn.prototype.constructor=Dn,Dn.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2;return new i(wn(e,t.x,n.x,r.x),wn(e,t.y,n.y,r.y))};var ac=Object.assign(Object.create(On.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Pn(this.currentPoint.clone(),new i(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var a=new Dn(this.currentPoint.clone(),new i(e,t),new i(n,r));this.curves.push(a),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,a,o){var s=new kn(this.currentPoint.clone(),new i(e,t),new i(n,r),new i(a,o));this.curves.push(s),this.currentPoint.set(a,o)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),i=new Rn(t);this.curves.push(i),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,i,n,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,i,n,r,a)},absarc:function(e,t,i,n,r,a){this.absellipse(e,t,i,i,n,r,a)},ellipse:function(e,t,i,n,r,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(e+l,t+u,i,n,r,a,o,s)},absellipse:function(e,t,i,n,r,a,o,s){var l=new Ln(e,t,i,n,r,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)}});In.prototype=ac,ac.constructor=In,zn.prototype=Object.assign(Object.create(ac),{constructor:zn,getPointsHoles:function(e){for(var t=[],i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),Object.assign(Nn.prototype,{moveTo:function(e,t){this.currentPath=new In,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,i,n){this.currentPath.quadraticCurveTo(e,t,i,n)},bezierCurveTo:function(e,t,i,n,r,a){this.currentPath.bezierCurveTo(e,t,i,n,r,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function i(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i],a=new zn;a.curves=r.curves,t.push(a)}return t}function n(e,t){for(var i=t.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=t[r],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[r],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;n=!n}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return n}var r=qu.isClockWise,a=this.subPaths;if(0===a.length)return[];if(t===!0)return i(a);var o,s,l,u=[];if(1===a.length)return s=a[0],l=new zn,l.curves=s.curves,u.push(l),u;var c=!r(a[0].getPoints());c=e?!c:c;var h,d=[],p=[],f=[],m=0;p[m]=void 0,f[m]=[];for(var v=0,g=a.length;v<g;v++)s=a[v],h=s.getPoints(),o=r(h),o=e?!o:o,o?(!c&&p[m]&&m++,p[m]={s:new zn,p:h},p[m].s.curves=s.curves,c&&m++,f[m]=[]):f[m].push({h:s,p:h[0]});if(!p[0])return i(a);if(p.length>1){for(var y=!1,_=[],b=0,x=p.length;b<x;b++)d[b]=[];for(var b=0,x=p.length;b<x;b++)for(var w=f[b],T=0;T<w.length;T++){for(var E=w[T],M=!0,S=0;S<p.length;S++)n(E.p,p[S].p)&&(b!==S&&_.push({froms:b,tos:S,hole:T}),M?(M=!1,d[S].push(E)):y=!0);M&&d[b].push(E)}_.length>0&&(y||(f=d))}for(var C,v=0,A=p.length;v<A;v++){l=p[v].s,u.push(l),C=f[v];for(var P=0,O=C.length;P<O;P++)l.holes.push(C[P].h)}return u}}),Object.assign(Bn.prototype,{isFont:!0,generateShapes:function(e,t,i){function n(e){for(var i=String(e).split(""),n=t/a.resolution,o=(a.boundingBox.yMax-a.boundingBox.yMin+a.underlineThickness)*n,s=0,l=0,u=[],c=0;c<i.length;c++){var h=i[c];if("\n"===h)s=0,l-=o;else{var d=r(h,n,s,l);s+=d.offsetX,u.push(d.path)}}return u}function r(e,t,n,r){var o=a.glyphs[e]||a.glyphs["?"];if(o){var s,l,u,c,h,d,p,f,m,v,g,y=new Nn,_=[];if(o.o)for(var b=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),x=0,w=b.length;x<w;){var T=b[x++];switch(T){case"m":s=b[x++]*t+n,l=b[x++]*t+r,y.moveTo(s,l);break;case"l":s=b[x++]*t+n,l=b[x++]*t+r,y.lineTo(s,l);break;case"q":if(u=b[x++]*t+n,c=b[x++]*t+r,p=b[x++]*t+n,f=b[x++]*t+r,y.quadraticCurveTo(p,f,u,c),g=_[_.length-1]){h=g.x,d=g.y;for(var E=1;E<=i;E++){var M=E/i;wn(M,h,p,u),wn(M,d,f,c)}}break;case"b":if(u=b[x++]*t+n,c=b[x++]*t+r,p=b[x++]*t+n,f=b[x++]*t+r,m=b[x++]*t+n,v=b[x++]*t+r,y.bezierCurveTo(p,f,m,v,u,c),g=_[_.length-1]){h=g.x,d=g.y;for(var E=1;E<=i;E++){var M=E/i;Cn(M,h,p,m,u),Cn(M,d,f,v,c)}}}}return{offsetX:o.ha*t,path:y}}}void 0===t&&(t=100),void 0===i&&(i=4);for(var a=this.data,o=n(e),s=[],l=0,u=o.length;l<u;l++)Array.prototype.push.apply(s,o[l].toShapes());return s}}),Object.assign(Fn.prototype,{load:function(e,t,i,n){var r=this,a=new zi(this.manager);a.load(e,function(e){var i;try{i=JSON.parse(e)}catch(n){i=JSON.parse(e.substring(65,e.length-2))}var a=r.parse(i);t&&t(a)},i,n)},parse:function(e){return new Bn(e)}});var oc,sc={getContext:function(){return void 0===oc&&(oc=new(window.AudioContext||window.webkitAudioContext)),oc},setContext:function(e){oc=e}};Object.assign(Un.prototype,{load:function(e,t,i,n){var r=new zi(this.manager);r.setResponseType("arraybuffer"),r.load(e,function(e){var i=sc.getContext();i.decodeAudioData(e,function(e){t(e)})},i,n)}}),Object.assign(jn.prototype,{update:function(){var e,t,i,n,r,a,o,s,l=new u,c=new u;return function(u){var h=e!==this||t!==u.focus||i!==u.fov||n!==u.aspect*this.aspect||r!==u.near||a!==u.far||o!==u.zoom||s!==this.eyeSep;if(h){e=this,t=u.focus,i=u.fov,n=u.aspect*this.aspect,r=u.near,a=u.far,o=u.zoom;var d=u.projectionMatrix.clone();s=this.eyeSep/2;var p,f,m=s*r/t,v=r*Math.tan(Ps.DEG2RAD*i*.5)/o;c.elements[12]=-s,l.elements[12]=s,p=-v*n+m,f=v*n+m,d.elements[0]=2*r/(f-p),d.elements[8]=(f+p)/(f-p),this.cameraL.projectionMatrix.copy(d),p=-v*n-m,f=v*n-m,d.elements[0]=2*r/(f-p),d.elements[8]=(f+p)/(f-p),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(l)}}()}),Hn.prototype=Object.create(ce.prototype),Hn.prototype.constructor=Hn,Gn.prototype=Object.assign(Object.create(ce.prototype),{constructor:Gn,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new l,t=new s,i=new l,n=new l;return function(r){ce.prototype.updateMatrixWorld.call(this,r);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(e,t,i),n.set(0,0,-1).applyQuaternion(t),a.positionX?(a.positionX.setValueAtTime(e.x,this.context.currentTime),a.positionY.setValueAtTime(e.y,this.context.currentTime),a.positionZ.setValueAtTime(e.z,this.context.currentTime),a.forwardX.setValueAtTime(n.x,this.context.currentTime),a.forwardY.setValueAtTime(n.y,this.context.currentTime),a.forwardZ.setValueAtTime(n.z,this.context.currentTime),a.upX.setValueAtTime(o.x,this.context.currentTime),a.upY.setValueAtTime(o.y,this.context.currentTime),a.upZ.setValueAtTime(o.z,this.context.currentTime)):(a.setPosition(e.x,e.y,e.z),a.setOrientation(n.x,n.y,n.z,o.x,o.y,o.z))}}()}),Vn.prototype=Object.assign(Object.create(ce.prototype),{constructor:Vn,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying!==!0&&this.hasPlaybackControl!==!1){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),e.start(0,this.startTime),this.isPlaying=!0,this.source=e,this.connect()}},pause:function(){if(this.hasPlaybackControl!==!1)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(this.hasPlaybackControl!==!1)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl!==!1)return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl!==!1&&this.loop},setLoop:function(e){if(this.hasPlaybackControl!==!1)return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),Wn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Wn,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new l;return function(t){ce.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign($n.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),i=0;i<t.length;i++)e+=t[i];return e/t.length}}),Object.assign(Xn.prototype,{accumulate:function(e,t){var i=this.buffer,n=this.valueSize,r=e*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=t}else{a+=t;var s=t/a;this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,i=this.buffer,n=e*t+t,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*t;this._mixBufferRegion(i,n,o,1-r,t)}for(var s=t,l=t+t;s!==l;++s)if(i[s]!==i[s+t]){a.setValue(i,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,i=this.valueSize,n=3*i;e.getValue(t,n);for(var r=i,a=n;r!==a;++r)t[r]=t[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,i,n,r){if(n>=.5)for(var a=0;a!==r;++a)e[t+a]=e[i+a]},_slerp:function(e,t,i,n){s.slerpFlat(e,t,e,t,e,i,n)},_lerp:function(e,t,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[i+o]*n}}}),Object.assign(qn.prototype,{getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}),Object.assign(Yn,{Composite:qn,create:function(e,t,i){return e&&e.isAnimationObjectGroup?new Yn.Composite(e,t,i):new Yn(e,t,i)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/,t=/([\w-\.]+)?/,i=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,n=/\.([\w-]+)(?:\[(.+)\])?/,r=new RegExp("^"+e.source+t.source+i.source+n.source+"$"),a=["material","materials","bones"];return function(e){var t=r.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&n!==-1){var o=i.nodeName.substring(n+1);a.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=o)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){var i=function(e){for(var i=0;i<e.bones.length;i++){var n=e.bones[i];if(n.name===t)return n}return null},n=i(e.skeleton);if(n)return n}if(e.children){var r=function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n.name===t||n.uuid===t)return n;var a=r(n.children);if(a)return a}return null},a=r(e.children);if(a)return a}return null}}),Object.assign(Yn.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)e[t++]=i[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++]},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,n=t.propertyName,r=t.propertyIndex;if(e||(e=Yn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var a=t.objectIndex;switch(i){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[i])return;e=e[i]}if(void 0!==a){if(void 0===e[a])return;e=e[a]}}var s=e[n];if(void 0!==s){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!e.geometry)return;if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return;for(var o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!e.geometry.morphTargets)return;for(var o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{t.nodeName}}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Yn.prototype,{_getValue_unbound:Yn.prototype.getValue,_setValue_unbound:Yn.prototype.setValue}),Object.assign(Zn.prototype,{isAnimationObjectGroup:!0,add:function(e){for(var t=this._objects,i=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=h.uuid,p=r[d],f=void 0;if(void 0===p){p=i++,r[d]=p,t.push(h);for(var m=0,v=l;m!==v;++m)s[m].push(new Yn(h,a[m],o[m]))}else if(p<n){f=t[p];var g=--n,y=t[g];r[y.uuid]=p,t[p]=y,r[d]=g,t[g]=h;for(var m=0,v=l;m!==v;++m){var _=s[m],b=_[g],x=_[p];_[p]=b,void 0===x&&(x=new Yn(h,a[m],o[m])),_[g]=x}}else t[p]!==f}this.nCachedObjects_=n},remove:function(e){for(var t=this._objects,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=n[u];if(void 0!==c&&c>=i){var h=i++,d=t[h];n[d.uuid]=c,t[c]=d,n[u]=h,t[h]=l;for(var p=0,f=a;p!==f;++p){var m=r[p],v=m[h],g=m[c];m[c]=v,m[h]=g}}}this.nCachedObjects_=i},uncache:function(e){for(var t=this._objects,i=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,l=arguments.length;s!==l;++s){var u=arguments[s],c=u.uuid,h=r[c];if(void 0!==h)if(delete r[c],h<n){var d=--n,p=t[d],f=--i,m=t[f];r[p.uuid]=h,t[h]=p,r[m.uuid]=d,t[d]=m,t.pop();for(var v=0,g=o;v!==g;++v){var y=a[v],_=y[d],b=y[f];y[h]=_,y[d]=b,y.pop()}}else{var f=--i,m=t[f];r[m.uuid]=h,t[h]=m,t.pop();for(var v=0,g=o;v!==g;++v){var y=a[v];y[h]=y[f],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,n=i[e],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);n=r.length,i[e]=n,a.push(e),o.push(t),r.push(c);for(var h=u,d=s.length;h!==d;++h){var p=s[h];c[h]=new Yn(p,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],l=e[o];t[l]=i,a[i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}}),Object.assign(Qn.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){var n=this._clip.duration,r=e._clip.duration,a=r/n,o=n/r;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+i,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,n){if(!this.enabled)return void this._updateWeight(e);var r=this._startTime;if(null!==r){var a=(e-r)*i;if(a<0||0===i)return;this._startTime=null,t=i*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulate(n,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){var n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var i=this._clip.duration,n=this.loop,r=this._loopCount;if(n===ss){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=i)t=i;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var a=n===us;if(r===-1&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=i||t<0){var o=Math.floor(t/i);t-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1===(1&r))return this.time=t,i-t}return this.time=t,t},_setEndings:function(e,t,i){var n=this._interpolantSettings;i?(n.endingStart=fs,n.endingEnd=fs):(e?n.endingStart=this.zeroSlopeAtStart?fs:ps:n.endingStart=ms,t?n.endingEnd=this.zeroSlopeAtEnd?fs:ps:n.endingEnd=ms)},_scheduleFading:function(e,t,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=i,this}}),Object.assign(Kn.prototype,t.prototype,{_bindAction:function(e,t){var i=e._localRoot||this._root,n=e._clip.tracks,r=n.length,a=e._propertyBindings,o=e._interpolants,s=i.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==r;++c){var h=n[c],d=h.name,p=u[d];if(void 0!==p)a[c]=p;else{if(p=a[c],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=t&&t._propertyBindings[c].binding.parsedPath;p=new Xn(Yn.create(i,d,f),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,d),a[c]=p}o[c].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,i=e._clip.uuid,n=this._actionsByClip[i];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,i,t)}for(var r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var n=this._actions,r=this._actionsByClip,a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=n.length,n.push(e),a.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],n=e._cacheIndex;i._cacheIndex=n,t[n]=i,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null;var c=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_addInactiveBinding:function(e,t,i){var n=this._bindingsByRootAndName,r=n[t],a=this._bindings;void 0===r&&(r={},n[t]=r),r[i]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[r];e:{for(var u in o)break e;delete a[n]}},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return void 0===i&&(i=new en(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,r=t[n];e.__cacheIndex=n,t[n]=e,r.__cacheIndex=i,t[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var i=t||this._root,n=i.uuid,r="string"==typeof e?dn.findByName(i,e):e,a=null!==r?r.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[n];if(void 0!==l)return l;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var u=new Qn(this,r,t);return this._bindAction(u,s),this._addInactiveAction(u,a,n),u},existingAction:function(e,t){var i=t||this._root,n=i.uuid,r="string"==typeof e?dn.findByName(i,e):e,a=r?r.uuid:e,o=this._actionsByClip[a];return void 0!==o?o.actionByRoot[n]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(var r=0;r!==n;++r)i[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,i=this._nActiveActions,n=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==i;++o){var s=t[o];s._update(n,e,r,a)}for(var l=this._bindings,u=this._nActiveBindings,o=0;o!==u;++o)l[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete n[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot,a=r[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[t];if(void 0!==s)for(var l in s){var u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(e,t){var i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Jn.prototype.clone=function(){return new Jn(void 0===this.value.clone?this.value:this.value.clone())},er.prototype=Object.assign(Object.create(Pe.prototype),{constructor:er,isInstancedBufferGeometry:!0,addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:i})},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=e.groups,o=0,s=a.length;o<s;o++){var l=a[o];this.addGroup(l.start,l.count,l.materialIndex)}return this}}),Object.defineProperties(tr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(tr.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this},setXYZW:function(e,t,i,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=r,this}}),Object.defineProperty(ir.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Object.assign(ir.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var n=0,r=this.stride;n<r;n++)this.array[e+n]=t.array[i+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),nr.prototype=Object.assign(Object.create(ir.prototype),{constructor:nr,isInstancedInterleavedBuffer:!0,copy:function(e){return ir.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),rr.prototype=Object.assign(Object.create(ge.prototype),{constructor:rr,isInstancedBufferAttribute:!0,copy:function(e){return ge.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(ar.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld))},intersectObject:function(e,t){var i=[];return sr(e,this,i,t),i.sort(or),i},intersectObjects:function(e,t){var i=[];if(Array.isArray(e)===!1)return i;for(var n=0,r=e.length;n<r;n++)sr(e[n],this,i,t);return i.sort(or),i}}),Object.assign(lr.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(ur.prototype,{set:function(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Ps.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(cr.prototype,{set:function(e,t,i){return this.radius=e,this.theta=t,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}),hr.prototype=Object.create(ce.prototype),hr.prototype.constructor=hr,hr.prototype.isImmediateRenderObject=!0,dr.prototype=Object.create(Dt.prototype),dr.prototype.constructor=dr,dr.prototype.update=function(){var e=new l,t=new l,i=new ne;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,u=0,c=0,h=l.length;c<h;c++)for(var d=l[c],p=0,f=d.vertexNormals.length;p<f;p++){var m=s[d[n[p]]],v=d.vertexNormals[p];e.copy(m).applyMatrix4(r),t.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(u,e.x,e.y,e.z),u+=1,a.setXYZ(u,t.x,t.y,t.z),u+=1}else if(o&&o.isBufferGeometry)for(var g=o.attributes.position,y=o.attributes.normal,u=0,p=0,f=g.count;p<f;p++)e.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(r),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(u,e.x,e.y,e.z),u+=1,a.setXYZ(u,t.x,t.y,t.z),u+=1;a.needsUpdate=!0}}(),pr.prototype=Object.create(ce.prototype),pr.prototype.constructor=pr,pr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},pr.prototype.update=function(){var e=new l,t=new l;return function(){this.light.updateMatrixWorld();var i=this.light.distance?this.light.distance:1e3,n=i*Math.tan(this.light.angle);this.cone.scale.set(n,n,i),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),mr.prototype=Object.create(Dt.prototype),mr.prototype.constructor=mr,mr.prototype.onBeforeRender=function(){var e=new l,t=new u,i=new u;return function(){var n=this.bones,r=this.geometry,a=r.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var o=0,s=0;o<n.length;o++){var l=n[o];l.parent&&l.parent.isBone&&(t.multiplyMatrices(i,l.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(s,e.x,e.y,e.z),t.multiplyMatrices(i,l.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(s+1,e.x,e.y,e.z),s+=2)}r.getAttribute("position").needsUpdate=!0}}(),vr.prototype=Object.create(Be.prototype),vr.prototype.constructor=vr,vr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},vr.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},gr.prototype=Object.create(ce.prototype),gr.prototype.constructor=gr,gr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},gr.prototype.update=function(){var e=.5*this.light.width,t=.5*this.light.height,i=this.line.geometry.attributes.position,n=i.array;n[0]=e,n[1]=-t,n[2]=0,n[3]=e,n[4]=t,n[5]=0,n[6]=-e,n[7]=t,n[8]=0,n[9]=-e,n[10]=-t,n[11]=0,n[12]=e,n[13]=-t,n[14]=0,i.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},yr.prototype=Object.create(ce.prototype),yr.prototype.constructor=yr,yr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},yr.prototype.update=function(){var e=new l,t=new $,i=new $;return function(){var n=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=n.geometry.getAttribute("color");t.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=r.count;a<o;a++){var s=a<o/2?t:i;r.setXYZ(a,s.r,s.g,s.b)}r.needsUpdate=!0}n.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),_r.prototype=Object.create(Dt.prototype),_r.prototype.constructor=_r,br.prototype=Object.create(Dt.prototype),br.prototype.constructor=br,xr.prototype=Object.create(Dt.prototype),xr.prototype.constructor=xr,xr.prototype.update=function(){var e=new l,t=new l,i=new ne;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,u=0,c=s.length;u<c;u++){var h=s[u],d=h.normal;e.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(n),t.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),l+=1,r.setXYZ(l,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),wr.prototype=Object.create(ce.prototype),wr.prototype.constructor=wr,wr.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},wr.prototype.update=function(){var e=new l,t=new l,i=new l;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(t,e),this.lightPlane.lookAt(i),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(i),this.targetLine.scale.z=i.length()}}(),Tr.prototype=Object.create(Dt.prototype),Tr.prototype.constructor=Tr,Tr.prototype.update=function(){function e(e,a,o,s){n.set(a,o,s).unproject(r);var l=i[e];if(void 0!==l)for(var u=t.getAttribute("position"),c=0,h=l.length;c<h;c++)u.setXYZ(l[c],n.x,n.y,n.z)}var t,i,n=new l,r=new he;return function(){t=this.geometry,i=this.pointMap;var n=1,a=1;r.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-n,-a,-1),e("n2",n,-a,-1),e("n3",-n,a,-1),e("n4",n,a,-1),e("f1",-n,-a,1),e("f2",n,-a,1),e("f3",-n,a,1),e("f4",n,a,1),e("u1",.7*n,1.1*a,-1),e("u2",.7*-n,1.1*a,-1),e("u3",0,2*a,-1),e("cf1",-n,0,1),e("cf2",n,0,1),e("cf3",0,-a,1),e("cf4",0,a,1),e("cn1",-n,0,-1),e("cn2",n,0,-1),e("cn3",0,-a,-1),e("cn4",0,a,-1),t.getAttribute("position").needsUpdate=!0}}(),Er.prototype=Object.create(Dt.prototype),Er.prototype.constructor=Er,Er.prototype.update=function(){var e=new te;return function(t){if(void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var i=e.min,n=e.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=i.x,a[4]=n.y,a[5]=n.z,a[6]=i.x,a[7]=i.y,a[8]=n.z,a[9]=n.x,a[10]=i.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=i.z,a[15]=i.x,a[16]=n.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=n.x,a[22]=i.y,a[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Er.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Mr.prototype=Object.create(Dt.prototype),Mr.prototype.constructor=Mr,Mr.prototype.onBeforeRender=function(){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5))},Sr.prototype=Object.create(kt.prototype),Sr.prototype.constructor=Sr,Sr.prototype.onBeforeRender=function(){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.lookAt(this.plane.normal),this.updateMatrixWorld()};var lc,uc;Cr.prototype=Object.create(ce.prototype),Cr.prototype.constructor=Cr,Cr.prototype.setDirection=function(){var e,t=new l;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(i.z,0,-i.x).normalize(),e=Math.acos(i.y),this.quaternion.setFromAxisAngle(t,e))}}(),Cr.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},Cr.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Ar.prototype=Object.create(Dt.prototype),Ar.prototype.constructor=Ar;var cc=new l,hc=new Pr,dc=new Pr,pc=new Pr;Or.prototype=Object.create(An.prototype),Or.prototype.constructor=Or,Or.prototype.getPoint=function(e){var t=this.points,i=t.length,n=(i-(this.closed?0:1))*e,r=Math.floor(n),a=n-r;this.closed?r+=r>0?0:(Math.floor(Math.abs(r)/t.length)+1)*t.length:0===a&&r===i-1&&(r=i-2,a=1);var o,s,u,c;if(this.closed||r>0?o=t[(r-1)%i]:(cc.subVectors(t[0],t[1]).add(t[0]),o=cc),s=t[r%i],u=t[(r+1)%i],this.closed||r+2<i?c=t[(r+2)%i]:(cc.subVectors(t[i-1],t[i-2]).add(t[i-1]),c=cc),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,d=Math.pow(o.distanceToSquared(s),h),p=Math.pow(s.distanceToSquared(u),h),f=Math.pow(u.distanceToSquared(c),h);p<1e-4&&(p=1),d<1e-4&&(d=p),f<1e-4&&(f=p),hc.initNonuniformCatmullRom(o.x,s.x,u.x,c.x,d,p,f),dc.initNonuniformCatmullRom(o.y,s.y,u.y,c.y,d,p,f),pc.initNonuniformCatmullRom(o.z,s.z,u.z,c.z,d,p,f)}else if("catmullrom"===this.type){var m=void 0!==this.tension?this.tension:.5;hc.initCatmullRom(o.x,s.x,u.x,c.x,m),dc.initCatmullRom(o.y,s.y,u.y,c.y,m),pc.initCatmullRom(o.z,s.z,u.z,c.z,m)}return new l(hc.calc(a),dc.calc(a),pc.calc(a))},Lr.prototype=Object.create(An.prototype),Lr.prototype.constructor=Lr,Lr.prototype.getPoint=function(e){var t=this.v0,i=this.v1,n=this.v2,r=this.v3;return new l(Cn(e,t.x,i.x,n.x,r.x),Cn(e,t.y,i.y,n.y,r.y),Cn(e,t.z,i.z,n.z,r.z))},Rr.prototype=Object.create(An.prototype),Rr.prototype.constructor=Rr,Rr.prototype.getPoint=function(e){var t=this.v0,i=this.v1,n=this.v2;return new l(wn(e,t.x,i.x,n.x),wn(e,t.y,i.y,n.y),wn(e,t.z,i.z,n.z))},kr.prototype=Object.create(An.prototype),kr.prototype.constructor=kr,kr.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=new l;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t},Dr.prototype=Object.create(Ln.prototype),Dr.prototype.constructor=Dr;var fc={createMultiMaterialObject:function(e,t){for(var i=new Bt,n=0,r=t.length;n<r;n++)i.add(new Be(e,t[n]));return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld),t.remove(e),i.add(e)},attach:function(e,t,i){e.applyMatrix((new u).getInverse(i.matrixWorld)),t.remove(e),i.add(e)}},mc=0,vc=1;An.create=function(e,t){return e.prototype=Object.create(An.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},ta.prototype=Object.create(Or.prototype),ia.prototype=Object.create(Or.prototype),na.prototype=Object.create(Or.prototype),Object.assign(na.prototype,{initFromArray:function(e){},getControlPointsArray:function(e){},reparametrizeByArcLength:function(e){}}),_r.prototype.setColors=function(){},mr.prototype.update=function(){},Object.assign(X.prototype,{center:function(e){return this.getCenter(e)},empty:function(){return this.isEmpty()},isIntersectionBox:function(e){return this.intersectsBox(e)},size:function(e){return this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return this.getCenter(e)},empty:function(){return this.isEmpty()},isIntersectionBox:function(e){return this.intersectsBox(e)},isIntersectionSphere:function(e){return this.intersectsSphere(e)},size:function(e){return this.getSize(e)}}),ze.prototype.center=function(e){return this.getCenter(e)},Ps.random16=function(){return Math.random()},Object.assign(ne.prototype,{flattenToArrayOffset:function(e,t){return this.toArray(e,t)},multiplyVector3:function(e){return e.applyMatrix3(this)},multiplyVector3Array:function(e){},applyToBuffer:function(e,t,i){return this.applyToBufferAttribute(e)},applyToVector3Array:function(e,t,i){}}),Object.assign(u.prototype,{extractPosition:function(e){return this.copyPosition(e)},flattenToArrayOffset:function(e,t){return this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new l),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return this.makeRotationFromQuaternion(e)},multiplyToArray:function(){},multiplyVector3:function(e){return e.applyMatrix4(this)},multiplyVector4:function(e){return e.applyMatrix4(this)},multiplyVector3Array:function(e){},rotateAxis:function(e){e.transformDirection(this)},crossVector:function(e){return e.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(e,t,i){return this.applyToBufferAttribute(e)},applyToVector3Array:function(e,t,i){},makeFrustum:function(e,t,i,n,r,a){return this.makePerspective(e,t,n,i,r,a)}}),re.prototype.isIntersectionLine=function(e){return this.intersectsLine(e)},s.prototype.multiplyVector3=function(e){return e.applyQuaternion(this)},Object.assign(Ie.prototype,{isIntersectionBox:function(e){return this.intersectsBox(e)},isIntersectionPlane:function(e){return this.intersectsPlane(e)},isIntersectionSphere:function(e){return this.intersectsSphere(e)}}),Object.assign(zn.prototype,{extrude:function(e){return new si(this,e)},makeGeometry:function(e){return new gi(this,e)}}),Object.assign(i.prototype,{fromAttribute:function(e,t,i){return this.fromBufferAttribute(e,t,i)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(e){return this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return this.setFromMatrixColumn(t,e)},applyProjection:function(e){return this.applyMatrix4(e)},fromAttribute:function(e,t,i){return this.fromBufferAttribute(e,t,i)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,i){return this.fromBufferAttribute(e,t,i)}}),ve.prototype.computeTangents=function(){},Object.assign(ce.prototype,{getChildByName:function(e){return this.getObjectByName(e)},renderDepth:function(){},translate:function(e,t){return this.translateOnAxis(t,e)}}),Object.defineProperties(ce.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(e){this.rotation.order=e}},useQuaternion:{get:function(){},set:function(){}}}),Object.defineProperties(At.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Pt.prototype,"useVertexTexture",{get:function(){},set:function(){}}),Object.defineProperty(An.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(e){this.arcLengthDivisions=e}}),
pe.prototype.setLens=function(e,t){void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Hi.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),Object.defineProperties(ge.prototype,{length:{get:function(){return this.array.length}}}),Object.assign(Pe.prototype,{addIndex:function(e){this.setIndex(e)},addDrawCall:function(e,t,i){this.addGroup(e,t)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),Object.defineProperties(Pe.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),Object.defineProperties(Jn.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),Object.defineProperties(Q.prototype,{wrapAround:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new $}},shading:{get:function(){},set:function(e){this.flatShading=e===Ma}}}),Object.defineProperties(Oi.prototype,{metal:{get:function(){return!1},set:function(){}}}),Object.defineProperties(K.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(e){this.extensions.derivatives=e}}}),Object.assign(xt.prototype,{getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){this.setScissorTest(e)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){}}),Object.defineProperties(xt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){this.shadowMap.cullFace=e}}}),Object.defineProperties(oe.prototype,{cullFace:{get:function(){return this.renderReverseSided?ma:fa},set:function(e){var t=e!==fa;this.renderReverseSided=t}}}),Object.defineProperties(a.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(e){this.texture.wrapS=e}},wrapT:{get:function(){return this.texture.wrapT},set:function(e){this.texture.wrapT=e}},magFilter:{get:function(){return this.texture.magFilter},set:function(e){this.texture.magFilter=e}},minFilter:{get:function(){return this.texture.minFilter},set:function(e){this.texture.minFilter=e}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(e){this.texture.anisotropy=e}},offset:{get:function(){return this.texture.offset},set:function(e){this.texture.offset=e}},repeat:{get:function(){return this.texture.repeat},set:function(e){this.texture.repeat=e}},format:{get:function(){return this.texture.format},set:function(e){this.texture.format=e}},type:{get:function(){return this.texture.type},set:function(e){this.texture.type=e}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(e){this.texture.generateMipmaps=e}}}),Vn.prototype.load=function(e){var t=this,i=new Un;return i.load(e,function(e){t.setBuffer(e)}),this},$n.prototype.getData=function(){return this.getFrequencyData()},Hn.prototype.updateCubeMap=function(e,t){return this.update(e,t)};var gc={merge:function(e,t,i){var n;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,i)},center:function(e){return e.center()}},yc={crossOrigin:void 0,loadTexture:function(e,t,i,n){var r=new ji;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,i,void 0,n);return t&&(a.mapping=t),a},loadTextureCube:function(e,t,i,n){var r=new Ui;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,i,void 0,n);return t&&(a.mapping=t),a},loadCompressedTexture:function(){},loadCompressedTextureCube:function(){}};e.WebGLRenderTargetCube=o,e.WebGLRenderTarget=a,e.WebGLRenderer=xt,e.ShaderLib=Gu,e.UniformsLib=Fs,e.UniformsUtils=Us,e.ShaderChunk=Hu,e.FogExp2=wt,e.Fog=Tt,e.Scene=Et,e.LensFlare=Mt,e.Sprite=Ct,e.LOD=At,e.SkinnedMesh=Lt,e.Skeleton=Pt,e.Bone=Ot,e.Mesh=Be,e.LineSegments=Dt,e.LineLoop=It,e.Line=kt,e.Points=Nt,e.Group=Bt,e.VideoTexture=Ft,e.DataTexture=c,e.CompressedTexture=Ut,e.CubeTexture=h,e.CanvasTexture=Y,e.DepthTexture=jt,e.Texture=n,e.CompressedTextureLoader=Ni,e.DataTextureLoader=Bi,e.CubeTextureLoader=Ui,e.TextureLoader=ji,e.ObjectLoader=gn,e.MaterialLoader=pn,e.BufferGeometryLoader=fn,e.DefaultLoadingManager=Ku,e.LoadingManager=Ii,e.JSONLoader=vn,e.ImageLoader=Fi,e.FontLoader=Fn,e.FileLoader=zi,e.Loader=mn,e.Cache=Qu,e.AudioLoader=Un,e.SpotLightShadow=Wi,e.SpotLight=$i,e.PointLight=Xi,e.RectAreaLight=Qi,e.HemisphereLight=Gi,e.DirectionalLightShadow=qi,e.DirectionalLight=Yi,e.AmbientLight=Zi,e.LightShadow=Vi,e.Light=Hi,e.StereoCamera=jn,e.PerspectiveCamera=pe,e.OrthographicCamera=de,e.CubeCamera=Hn,e.ArrayCamera=vt,e.Camera=he,e.AudioListener=Gn,e.PositionalAudio=Wn,e.AudioContext=sc,e.AudioAnalyser=$n,e.Audio=Vn,e.VectorKeyframeTrack=rn,e.StringKeyframeTrack=ln,e.QuaternionKeyframeTrack=on,e.NumberKeyframeTrack=sn,e.ColorKeyframeTrack=cn,e.BooleanKeyframeTrack=un,e.PropertyMixer=Xn,e.PropertyBinding=Yn,e.KeyframeTrack=hn,e.AnimationUtils=Ju,e.AnimationObjectGroup=Zn,e.AnimationMixer=Kn,e.AnimationClip=dn,e.Uniform=Jn,e.InstancedBufferGeometry=er,e.BufferGeometry=Pe,e.GeometryIdCount=me,e.Geometry=ve,e.InterleavedBufferAttribute=tr,e.InstancedInterleavedBuffer=nr,e.InterleavedBuffer=ir,e.InstancedBufferAttribute=rr,e.Face3=fe,e.Object3D=ce,e.Raycaster=ar,e.Layers=ue,e.EventDispatcher=t,e.Clock=lr,e.QuaternionLinearInterpolant=an,e.LinearInterpolant=en,e.DiscreteInterpolant=tn,e.CubicInterpolant=Ji,e.Interpolant=Ki,e.Triangle=Ne,e.Math=Ps,e.Spherical=ur,e.Cylindrical=cr,e.Plane=re,e.Frustum=ae,e.Sphere=ie,e.Ray=Ie,e.Matrix4=u,e.Matrix3=ne,e.Box3=te,e.Box2=X,e.Line3=ze,e.Euler=le,e.Vector4=r,e.Vector3=l,e.Vector2=i,e.Quaternion=s,e.Color=$,e.ImmediateRenderObject=hr,e.VertexNormalsHelper=dr,e.SpotLightHelper=pr,e.SkeletonHelper=mr,e.PointLightHelper=vr,e.RectAreaLightHelper=gr,e.HemisphereLightHelper=yr,e.GridHelper=_r,e.PolarGridHelper=br,e.FaceNormalsHelper=xr,e.DirectionalLightHelper=wr,e.CameraHelper=Tr,e.BoxHelper=Er,e.Box3Helper=Mr,e.PlaneHelper=Sr,e.ArrowHelper=Cr,e.AxisHelper=Ar,e.CatmullRomCurve3=Or,e.CubicBezierCurve3=Lr,e.QuadraticBezierCurve3=Rr,e.LineCurve3=kr,e.ArcCurve=Dr,e.EllipseCurve=Ln,e.SplineCurve=Rn,e.CubicBezierCurve=kn,e.QuadraticBezierCurve=Dn,e.LineCurve=Pn,e.Shape=zn,e.Path=In,e.ShapePath=Nn,e.Font=Bn,e.CurvePath=On,e.Curve=An,e.ShapeUtils=qu,e.SceneUtils=fc,e.WebGLUtils=bt,e.WireframeGeometry=Ht,e.ParametricGeometry=Gt,e.ParametricBufferGeometry=Vt,e.TetrahedronGeometry=Xt,e.TetrahedronBufferGeometry=qt,e.OctahedronGeometry=Yt,e.OctahedronBufferGeometry=Zt,e.IcosahedronGeometry=Qt,e.IcosahedronBufferGeometry=Kt,e.DodecahedronGeometry=Jt,e.DodecahedronBufferGeometry=ei,e.PolyhedronGeometry=Wt,e.PolyhedronBufferGeometry=$t,e.TubeGeometry=ti,e.TubeBufferGeometry=ii,e.TorusKnotGeometry=ni,e.TorusKnotBufferGeometry=ri,e.TorusGeometry=ai,e.TorusBufferGeometry=oi,e.TextGeometry=ui,e.TextBufferGeometry=ci,e.SphereGeometry=hi,e.SphereBufferGeometry=di,e.RingGeometry=pi,e.RingBufferGeometry=fi,e.PlaneGeometry=Re,e.PlaneBufferGeometry=ke,e.LatheGeometry=mi,e.LatheBufferGeometry=vi,e.ShapeGeometry=gi,e.ShapeBufferGeometry=yi,e.ExtrudeGeometry=si,e.ExtrudeBufferGeometry=li,e.EdgesGeometry=_i,e.ConeGeometry=wi,e.ConeBufferGeometry=Ti,e.CylinderGeometry=bi,e.CylinderBufferGeometry=xi,e.CircleGeometry=Ei,e.CircleBufferGeometry=Mi,e.BoxGeometry=Oe,e.BoxBufferGeometry=Le,e.ShadowMaterial=Si,e.SpriteMaterial=St,e.RawShaderMaterial=Ci,e.ShaderMaterial=K,e.PointsMaterial=zt,e.MeshPhysicalMaterial=Pi,e.MeshStandardMaterial=Ai,e.MeshPhongMaterial=Oi,e.MeshToonMaterial=Li,e.MeshNormalMaterial=Ri,e.MeshLambertMaterial=ki,e.MeshDepthMaterial=J,e.MeshDistanceMaterial=ee,e.MeshBasicMaterial=De,e.LineDashedMaterial=Di,e.LineBasicMaterial=Rt,e.Material=Q,e.Float64BufferAttribute=Se,e.Float32BufferAttribute=Me,e.Uint32BufferAttribute=Ee,e.Int32BufferAttribute=Te,e.Uint16BufferAttribute=we,e.Int16BufferAttribute=xe,e.Uint8ClampedBufferAttribute=be,e.Uint8BufferAttribute=_e,e.Int8BufferAttribute=ye,e.BufferAttribute=ge,e.REVISION=ha,e.MOUSE=da,e.CullFaceNone=pa,e.CullFaceBack=fa,e.CullFaceFront=ma,e.CullFaceFrontBack=va,e.FrontFaceDirectionCW=ga,e.FrontFaceDirectionCCW=ya,e.BasicShadowMap=_a,e.PCFShadowMap=ba,e.PCFSoftShadowMap=xa,e.FrontSide=wa,e.BackSide=Ta,e.DoubleSide=Ea,e.FlatShading=Ma,e.SmoothShading=Sa,e.NoColors=Ca,e.FaceColors=Aa,e.VertexColors=Pa,e.NoBlending=Oa,e.NormalBlending=La,e.AdditiveBlending=Ra,e.SubtractiveBlending=ka,e.MultiplyBlending=Da,e.CustomBlending=Ia,e.AddEquation=za,e.SubtractEquation=Na,e.ReverseSubtractEquation=Ba,e.MinEquation=Fa,e.MaxEquation=Ua,e.ZeroFactor=ja,e.OneFactor=Ha,e.SrcColorFactor=Ga,e.OneMinusSrcColorFactor=Va,e.SrcAlphaFactor=Wa,e.OneMinusSrcAlphaFactor=$a,e.DstAlphaFactor=Xa,e.OneMinusDstAlphaFactor=qa,e.DstColorFactor=Ya,e.OneMinusDstColorFactor=Za,e.SrcAlphaSaturateFactor=Qa,e.NeverDepth=Ka,e.AlwaysDepth=Ja,e.LessDepth=eo,e.LessEqualDepth=to,e.EqualDepth=io,e.GreaterEqualDepth=no,e.GreaterDepth=ro,e.NotEqualDepth=ao,e.MultiplyOperation=oo,e.MixOperation=so,e.AddOperation=lo,e.NoToneMapping=uo,e.LinearToneMapping=co,e.ReinhardToneMapping=ho,e.Uncharted2ToneMapping=po,e.CineonToneMapping=fo,e.UVMapping=mo,e.CubeReflectionMapping=vo,e.CubeRefractionMapping=go,e.EquirectangularReflectionMapping=yo,e.EquirectangularRefractionMapping=_o,e.SphericalReflectionMapping=bo,e.CubeUVReflectionMapping=xo,e.CubeUVRefractionMapping=wo,e.RepeatWrapping=To,e.ClampToEdgeWrapping=Eo,e.MirroredRepeatWrapping=Mo,e.NearestFilter=So,e.NearestMipMapNearestFilter=Co,e.NearestMipMapLinearFilter=Ao,e.LinearFilter=Po,e.LinearMipMapNearestFilter=Oo,e.LinearMipMapLinearFilter=Lo,e.UnsignedByteType=Ro,e.ByteType=ko,e.ShortType=Do,e.UnsignedShortType=Io,e.IntType=zo,e.UnsignedIntType=No,e.FloatType=Bo,e.HalfFloatType=Fo,e.UnsignedShort4444Type=Uo,e.UnsignedShort5551Type=jo,e.UnsignedShort565Type=Ho,e.UnsignedInt248Type=Go,e.AlphaFormat=Vo,e.RGBFormat=Wo,e.RGBAFormat=$o,e.LuminanceFormat=Xo,e.LuminanceAlphaFormat=qo,e.RGBEFormat=Yo,e.DepthFormat=Zo,e.DepthStencilFormat=Qo,e.RGB_S3TC_DXT1_Format=Ko,e.RGBA_S3TC_DXT1_Format=Jo,e.RGBA_S3TC_DXT3_Format=es,e.RGBA_S3TC_DXT5_Format=ts,e.RGB_PVRTC_4BPPV1_Format=is,e.RGB_PVRTC_2BPPV1_Format=ns,e.RGBA_PVRTC_4BPPV1_Format=rs,e.RGBA_PVRTC_2BPPV1_Format=as,e.RGB_ETC1_Format=os,e.LoopOnce=ss,e.LoopRepeat=ls,e.LoopPingPong=us,e.InterpolateDiscrete=cs,e.InterpolateLinear=hs,e.InterpolateSmooth=ds,e.ZeroCurvatureEnding=ps,e.ZeroSlopeEnding=fs,e.WrapAroundEnding=ms,e.TrianglesDrawMode=vs,e.TriangleStripDrawMode=gs,e.TriangleFanDrawMode=ys,e.LinearEncoding=_s,e.sRGBEncoding=bs,e.GammaEncoding=xs,e.RGBEEncoding=ws,e.LogLuvEncoding=Ts,e.RGBM7Encoding=Es,e.RGBM16Encoding=Ms,e.RGBDEncoding=Ss,e.BasicDepthPacking=Cs,e.RGBADepthPacking=As,e.CubeGeometry=Oe,e.Face4=Ir,e.LineStrip=mc,e.LinePieces=vc,e.MeshFaceMaterial=zr,e.MultiMaterial=Nr,e.PointCloud=Br,e.Particle=Fr,e.ParticleSystem=Ur,e.PointCloudMaterial=jr,e.ParticleBasicMaterial=Hr,e.ParticleSystemMaterial=Gr,e.Vertex=Vr,e.DynamicBufferAttribute=Wr,e.Int8Attribute=$r,e.Uint8Attribute=Xr,e.Uint8ClampedAttribute=qr,e.Int16Attribute=Yr,e.Uint16Attribute=Zr,e.Int32Attribute=Qr,e.Uint32Attribute=Kr,e.Float32Attribute=Jr,e.Float64Attribute=ea,e.ClosedSplineCurve3=ta,e.SplineCurve3=ia,e.Spline=na,e.BoundingBoxHelper=ra,e.EdgesHelper=aa,e.WireframeHelper=oa,e.XHRLoader=sa,e.BinaryTextureLoader=la,e.GeometryUtils=gc,e.ImageUtils=yc,e.Projector=ua,e.CanvasRenderer=ca,Object.defineProperty(e,"__esModule",{value:!0})}),THREE.EffectComposer=function(e,t){if(this.renderer=e,void 0===t){var i={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},n=e.getSize();t=new THREE.WebGLRenderTarget(n.width,n.height,i),t.texture.name="EffectComposer.rt1"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader,void 0===THREE.ShaderPass,this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getSize();e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){var t,i,n=!1,r=this.passes.length;for(i=0;i<r;i++)if(t=this.passes[i],t.enabled!==!1){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){var a=this.renderer.context;a.stencilFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),a.stencilFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(t instanceof THREE.MaskPass?n=!0:t instanceof THREE.ClearMaskPass&&(n=!1))}},reset:function(e){if(void 0===e){var t=this.renderer.getSize();e=this.renderTarget1.clone(),e.setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(e,t)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(e,t){},render:function(e,t,i,n,r){}}),THREE.RenderPass=function(e,t,i,n,r){THREE.Pass.call(this),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=n,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(e,t,i,n,r){var a=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial;var o,s;this.clearColor&&(o=e.getClearColor().getHex(),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:i,this.clear),this.clearColor&&e.setClearColor(o,s),this.scene.overrideMaterial=null,e.autoClear=a}}),THREE.ShaderPass=function(e,t){THREE.Pass.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof THREE.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({defines:e.defines||{},uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new THREE.OrthographicCamera((-1),1,1,(-1),0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.ShaderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.ShaderPass,render:function(e,t,i,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}),THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")},function(){"use strict";function e(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new a.BufferGeometry,this.widthCallback=null,this.matrixWorld=new a.Matrix4}function t(e,t,i,n,r){var a;if(e=e.subarray||e.slice?e:e.buffer,i=i.subarray||i.slice?i:i.buffer,e=t?e.subarray?e.subarray(t,r&&t+r):e.slice(t,r&&t+r):e,i.set)i.set(e,n);else for(a=0;a<e.length;a++)i[a+n]=e[a];return i}function i(e){a.ShaderMaterial.call(this,{uniforms:Object.assign({},a.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new a.Color(16777215)},opacity:{value:1},resolution:{value:new a.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new a.Vector2(1,1)}}),vertexShader:a.ShaderChunk.meshline_vert,fragmentShader:a.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(e){this.uniforms.color.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(e){this.uniforms.sizeAttenuation.value=e}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(e){this.uniforms.near.value=e}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(e){this.uniforms.far.value=e}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(e){this.uniforms.useDash.value=e}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}var n=this,r="undefined"!=typeof require,a=n.THREE||r&&require("three");if(!a)throw new Error("MeshLine requires three.js");e.prototype.setMatrixWorld=function(e){this.matrixWorld=e},e.prototype.setGeometry=function(e,t){if(this.widthCallback=t,this.positions=[],this.counters=[],e instanceof a.Geometry)for(var i=0;i<e.vertices.length;i++){var n=e.vertices[i],t=i/e.vertices.length;this.positions.push(n.x,n.y,n.z),this.positions.push(n.x,n.y,n.z),this.counters.push(t),this.counters.push(t)}if(e instanceof a.BufferGeometry,e instanceof Float32Array||e instanceof Array)for(var i=0;i<e.length;i+=3){var t=i/e.length;this.positions.push(e[i],e[i+1],e[i+2]),this.positions.push(e[i],e[i+1],e[i+2]),this.counters.push(t),this.counters.push(t)}this.process()},e.prototype.raycast=function(){var e=new a.Matrix4,t=new a.Ray,i=new a.Sphere;return function(n,r){var o=n.linePrecision,s=o*o,l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),i.copy(l.boundingSphere),i.applyMatrix4(this.matrixWorld),n.ray.intersectSphere(i)!==!1){e.getInverse(this.matrixWorld),t.copy(n.ray).applyMatrix4(e);var u=new a.Vector3,c=new a.Vector3,h=new a.Vector3,d=new a.Vector3,p=this instanceof a.LineSegments?2:1;if(l instanceof a.BufferGeometry){var f=l.index,m=l.attributes;if(null!==f)for(var v=f.array,g=m.position.array,y=0,_=v.length-1;y<_;y+=p){var b=v[y],x=v[y+1];u.fromArray(g,3*b),c.fromArray(g,3*x);var w=t.distanceSqToSegment(u,c,d,h);if(!(w>s)){d.applyMatrix4(this.matrixWorld);var T=n.ray.origin.distanceTo(d);T<n.near||T>n.far||r.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(var g=m.position.array,y=0,_=g.length/3-1;y<_;y+=p){u.fromArray(g,3*y),c.fromArray(g,3*y+3);var w=t.distanceSqToSegment(u,c,d,h);if(!(w>s)){d.applyMatrix4(this.matrixWorld);var T=n.ray.origin.distanceTo(d);T<n.near||T>n.far||r.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(l instanceof a.Geometry)for(var E=l.vertices,M=E.length,y=0;y<M-1;y+=p){var w=t.distanceSqToSegment(E[y],E[y+1],d,h);if(!(w>s)){d.applyMatrix4(this.matrixWorld);var T=n.ray.origin.distanceTo(d);T<n.near||T>n.far||r.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),e.prototype.compareV3=function(e,t){var i=6*e,n=6*t;return this.positions[i]===this.positions[n]&&this.positions[i+1]===this.positions[n+1]&&this.positions[i+2]===this.positions[n+2]},e.prototype.copyV3=function(e){var t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]},e.prototype.process=function(){var e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var t=0;t<e;t++)this.side.push(1),this.side.push(-1);for(var i,t=0;t<e;t++)i=this.widthCallback?this.widthCallback(t/(e-1)):1,this.width.push(i),this.width.push(i);for(var t=0;t<e;t++)this.uvs.push(t/(e-1),0),this.uvs.push(t/(e-1),1);var n;n=this.compareV3(0,e-1)?this.copyV3(e-2):this.copyV3(0),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(var t=0;t<e-1;t++)n=this.copyV3(t),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(var t=1;t<e;t++)n=this.copyV3(t),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]);n=this.compareV3(e-1,0)?this.copyV3(1):this.copyV3(e-1),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]);for(var t=0;t<e-1;t++){var r=2*t;this.indices_array.push(r,r+1,r+2),this.indices_array.push(r+2,r+1,r+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new a.BufferAttribute(new Float32Array(this.positions),3),previous:new a.BufferAttribute(new Float32Array(this.previous),3),next:new a.BufferAttribute(new Float32Array(this.next),3),side:new a.BufferAttribute(new Float32Array(this.side),1),width:new a.BufferAttribute(new Float32Array(this.width),1),uv:new a.BufferAttribute(new Float32Array(this.uvs),2),index:new a.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new a.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},e.prototype.advance=function(e){var i=this.attributes.position.array,n=this.attributes.previous.array,r=this.attributes.next.array,a=i.length;t(i,0,n,0,a),t(i,6,i,0,a-6),i[a-6]=e.x,i[a-5]=e.y,i[a-4]=e.z,i[a-3]=e.x,i[a-2]=e.y,i[a-1]=e.z,t(i,6,r,0,a-6),r[a-6]=e.x,r[a-5]=e.y,r[a-4]=e.z,r[a-3]=e.x,r[a-2]=e.y,r[a-1]=e.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},a.ShaderChunk.meshline_vert=["",a.ShaderChunk.logdepthbuf_pars_vertex,a.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","    float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","",a.ShaderChunk.logdepthbuf_vertex,a.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",a.ShaderChunk.fog_vertex,"}"].join("\r\n"),a.ShaderChunk.meshline_frag=["",a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",a.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",a.ShaderChunk.fog_fragment,"}"].join("\r\n"),i.prototype=Object.create(a.ShaderMaterial.prototype),i.prototype.constructor=i,i.prototype.isMeshLineMaterial=!0,i.prototype.copy=function(e){return a.ShaderMaterial.prototype.copy.call(this,e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.near=e.near,this.far=e.far,this.dashArray.copy(e.dashArray),this.dashOffset.copy(e.dashOffset),this.dashRatio.copy(e.dashRatio),this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports={MeshLine:e,MeshLineMaterial:i}),exports.MeshLine=e,exports.MeshLineMaterial=i):(n.MeshLine=e,n.MeshLineMaterial=i)}.call(this),THREE.EffectComposer=function(e,t){if(this.renderer=e,void 0===t){var i={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},n=e.getSize(new THREE.Vector2);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,t=new THREE.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,i),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===THREE.CopyShader,void 0===THREE.ShaderPass,this.copyPass=new THREE.ShaderPass(THREE.CopyShader),this.clock=new THREE.Clock},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,i,n=this.renderer.getRenderTarget(),r=!1,a=this.passes.length;for(i=0;i<a;i++)if(t=this.passes[i],t.enabled!==!1){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),
t.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),t.needsSwap){if(r){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(t instanceof THREE.MaskPass?r=!0:t instanceof THREE.ClearMaskPass&&(r=!1))}this.renderer.setRenderTarget(n)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new THREE.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var i=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(i,n),this.renderTarget2.setSize(i,n);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(i,n)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(){},render:function(){}}),THREE.Pass.FullScreenQuad=function(){var e=new THREE.OrthographicCamera((-1),1,1,(-1),0,1),t=new THREE.PlaneBufferGeometry(2,2),i=function(e){this._mesh=new THREE.Mesh(t,e)};return Object.defineProperty(i.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(i.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),i}(),THREE.MaskPass=function(e,t){THREE.Pass.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1},THREE.MaskPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.MaskPass,render:function(e,t,i,n,r){var a=e.context,o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);var s,l;this.inverse?(s=0,l=1):(s=1,l=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.buffers.stencil.setFunc(a.ALWAYS,s,4294967295),o.buffers.stencil.setClear(l),e.render(this.scene,this.camera,i,this.clear),e.render(this.scene,this.camera,t,this.clear),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setFunc(a.EQUAL,1,4294967295),o.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP)}}),THREE.ClearMaskPass=function(){THREE.Pass.call(this),this.needsSwap=!1},THREE.ClearMaskPass.prototype=Object.create(THREE.Pass.prototype),Object.assign(THREE.ClearMaskPass.prototype,{render:function(e,t,i,n,r){e.state.buffers.stencil.setTest(!1)}}),THREE.ConvolutionShader={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new THREE.Vector2(.001953125,0)},cKernel:{value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vec2 imageCoord = vUv;","vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","imageCoord += uImageIncrement;","}","gl_FragColor = sum;","}"].join("\n"),buildKernel:function(e){function t(e,t){return Math.exp(-(e*e)/(2*t*t))}var i,n,r,a,o=25,s=2*Math.ceil(3*e)+1;for(s>o&&(s=o),a=.5*(s-1),n=new Array(s),r=0,i=0;i<s;++i)n[i]=t(i-a,e),r+=n[i];for(i=0;i<s;++i)n[i]/=r;return n}},THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")},THREE.LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new THREE.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","gl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},THREE.RenderPass=function(e,t,i,n,r){THREE.Pass.call(this),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=n,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(e,t,i,n,r){var a=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial;var o,s;this.clearColor&&(o=e.getClearColor().getHex(),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:i,this.clear),this.clearColor&&e.setClearColor(o,s),this.scene.overrideMaterial=null,e.autoClear=a}}),THREE.SavePass=function(e){THREE.Pass.call(this),void 0===THREE.CopyShader;var t=THREE.CopyShader;this.textureID="tDiffuse",this.uniforms=THREE.UniformsUtils.clone(t.uniforms),this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.renderTarget=e,void 0===this.renderTarget&&(this.renderTarget=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1}),this.renderTarget.texture.name="SavePass.rt"),this.needsSwap=!1,this.camera=new THREE.OrthographicCamera((-1),1,1,(-1),0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.SavePass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.SavePass,render:function(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.quad.material=this.material,e.render(this.scene,this.camera,this.renderTarget,this.clear)}}),THREE.ShaderPass=function(e,t){THREE.Pass.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof THREE.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({defines:e.defines||{},uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new THREE.OrthographicCamera((-1),1,1,(-1),0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.ShaderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.ShaderPass,render:function(e,t,i,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}),THREE.UnrealBloomPass=function(e,t,i,n){THREE.Pass.call(this),this.strength=void 0!==t?t:1,this.radius=i,this.threshold=n,this.resolution=void 0!==e?new THREE.Vector2(e.x,e.y):new THREE.Vector2(256,256);var r={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var a=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new THREE.WebGLRenderTarget(a,o,r),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var s=0;s<this.nMips;s++){var l=new THREE.WebGLRenderTarget(a,o,r);l.texture.name="UnrealBloomPass.h"+s,l.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(l);var l=new THREE.WebGLRenderTarget(a,o,r);l.texture.name="UnrealBloomPass.v"+s,l.texture.generateMipmaps=!1,this.renderTargetsVertical.push(l),a=Math.round(a/2),o=Math.round(o/2)}void 0===THREE.LuminosityHighPassShader;var u=THREE.LuminosityHighPassShader;this.highPassUniforms=THREE.UniformsUtils.clone(u.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new THREE.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var c=[3,5,7,9,11],a=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2),s=0;s<this.nMips;s++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(c[s])),this.separableBlurMaterials[s].uniforms.texSize.value=new THREE.Vector2(a,o),a=Math.round(a/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;var h=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=h,this.bloomTintColors=[new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===THREE.CopyShader;var d=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(d.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:THREE.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.camera=new THREE.OrthographicCamera((-1),1,1,(-1),0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.UnrealBloomPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.UnrealBloomPass,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length();e++)this.renderTargetsHorizontal[e].dispose();for(var e=0;e<this.renderTargetsVertical.length();e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var i=Math.round(e/2),n=Math.round(t/2);this.renderTargetBright.setSize(i,n);for(var r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(i,n),this.renderTargetsVertical[r].setSize(i,n),this.separableBlurMaterials[r].uniforms.texSize.value=new THREE.Vector2(i,n),i=Math.round(i/2),n=Math.round(n/2)},render:function(e,t,i,n,r){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var a=e.autoClear;e.autoClear=!1,e.setClearColor(new THREE.Color(0,0,0),0),r&&e.context.disable(e.context.STENCIL_TEST),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,e.render(this.scene,this.camera,this.renderTargetBright,!0);for(var o=this.renderTargetBright,s=0;s<this.nMips;s++)this.quad.material=this.separableBlurMaterials[s],this.separableBlurMaterials[s].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[s].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionX,e.render(this.scene,this.camera,this.renderTargetsHorizontal[s],!0),this.separableBlurMaterials[s].uniforms.colorTexture.value=this.renderTargetsHorizontal[s].texture,this.separableBlurMaterials[s].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionY,e.render(this.scene,this.camera,this.renderTargetsVertical[s],!0),o=this.renderTargetsVertical[s];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&e.context.enable(e.context.STENCIL_TEST),e.render(this.scene,this.camera,i,!1),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=a},getSeperableBlurMaterial:function(e){return new THREE.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new THREE.Vector2(.5,.5)},direction:{value:new THREE.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new THREE.ShaderMaterial({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t \t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),THREE.UnrealBloomPass.BlurDirectionX=new THREE.Vector2(1,0),THREE.UnrealBloomPass.BlurDirectionY=new THREE.Vector2(0,1);/*!
 * VERSION: 1.17.0
 * DATE: 2015-05-27
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},r=function(e,t,n){i.call(this,e,t,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},a=1e-10,o=i._internals,s=o.isSelector,l=o.isArray,u=r.prototype=i.to({},.1,{}),c=[];r.version="1.17.0",u.constructor=r,u.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i.killTweensOf,r.getTweensOf=i.getTweensOf,r.lagSmoothing=i.lagSmoothing,r.ticker=i.ticker,r.render=i.render,u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(e,t){var n,r=this.ratio,a=this.vars.immediateRender||e.immediateRender;t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in e)this.vars[n]=e[n];if(this._initted||a)if(t)this._initted=!1,a&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._time;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._time>0||a){this._initted=!1,this._init();for(var s,l=1/(1-r),u=this._firstPT;u;)s=u.s+u.c,u.c*=l,u.s=s-u.c,u=u._next}return this},u.render=function(e,t,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,r,s,l,u,c,h,d,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._totalTime,v=this._cycle,g=this._duration,y=this._rawPrevTime;if(e>=p?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>y||y===a)&&y!==e&&(i=!0,y>a&&(r="onReverseComplete")),this._rawPrevTime=d=!t||e||y===e?e:a)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&y>0)&&(r="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=d=!t||e||y===e?e:a)),this._initted||(i=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(l=g+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:0>this._time&&(this._time=0)),this._easeType?(u=this._time/g,c=this._easeType,h=this._easePower,(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===h?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:.5>this._time/g?u/2:1-u/2):this.ratio=this._ease.getRatio(this._time/g)),f===this._time&&!i&&v===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=f,this._totalTime=m,this._rawPrevTime=y,this._cycle=v,o.lazyTweens.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/g):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==f&&e>=0&&(this._active=!0),0===m&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._totalTime!==m||n)&&this._callback("onUpdate")),this._cycle!==v&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===g&&this._rawPrevTime===a&&d!==a&&(this._rawPrevTime=0))},r.to=function(e,t,i){return new r(e,t,i)},r.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new r(e,t,i)},r.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new r(e,t,n)},r.staggerTo=r.allTo=function(e,t,a,o,u,h,d){o=o||0;var p,f,m,v,g=a.delay||0,y=[],_=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),u.apply(d||a.callbackScope||this,h||c)};for(l(e)||("string"==typeof e&&(e=i.selector(e)||e),s(e)&&(e=n(e))),e=e||[],0>o&&(e=n(e),e.reverse(),o*=-1),p=e.length-1,m=0;p>=m;m++){f={};for(v in a)f[v]=a[v];f.delay=g,m===p&&u&&(f.onComplete=_),y[m]=new r(e[m],t,f),g+=o}return y},r.staggerFrom=r.allFrom=function(e,t,i,n,a,o,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,r.staggerTo(e,t,i,n,a,o,s)},r.staggerFromTo=r.allFromTo=function(e,t,i,n,a,o,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,r.staggerTo(e,t,n,a,o,s,l)},r.delayedCall=function(e,t,i,n,a){return new r(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:a,overwrite:0})},r.set=function(e,t){return new r(e,0,t)},r.isTweening=function(e){return i.getTweensOf(e,!0).length>0};var h=function(e,t){for(var n=[],r=0,a=e._first;a;)a instanceof i?n[r++]=a:(t&&(n[r++]=a),n=n.concat(h(a,t)),r=n.length),a=a._next;return n},d=r.getAllTweens=function(t){return h(e._rootTimeline,t).concat(h(e._rootFramesTimeline,t))};r.killAll=function(e,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var a,o,s,l=d(0!=r),u=l.length,c=i&&n&&r;for(s=0;u>s;s++)o=l[s],(c||o instanceof t||(a=o.target===o.vars.onComplete)&&n||i&&!a)&&(e?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},r.killChildTweensOf=function(e,t){if(null!=e){var a,u,c,h,d,p=o.tweenLookup;if("string"==typeof e&&(e=i.selector(e)||e),s(e)&&(e=n(e)),l(e))for(h=e.length;--h>-1;)r.killChildTweensOf(e[h],t);else{a=[];for(c in p)for(u=p[c].target.parentNode;u;)u===e&&(a=a.concat(p[c].tweens)),u=u.parentNode;for(d=a.length,h=0;d>h;h++)t&&a[h].totalTime(a[h].totalDuration()),a[h]._enabled(!1,!1)}}};var p=function(e,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var a,o,s=d(r),l=i&&n&&r,u=s.length;--u>-1;)o=s[u],(l||o instanceof t||(a=o.target===o.vars.onComplete)&&n||i&&!a)&&o.paused(e)};return r.pauseAll=function(e,t,i){p(!0,e,t,i)},r.resumeAll=function(e,t,i){p(!1,e,t,i)},r.globalTimeScale=function(t){var n=e._rootTimeline,r=i.ticker.time;return arguments.length?(t=t||a,n._startTime=r-(r-n._startTime)*n._timeScale/t,n=e._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/t,n._timeScale=e._rootTimeline._timeScale=t,t):n._timeScale},u.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},u.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},r},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var n=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,a=i._internals,o=n._internals={},s=a.isSelector,l=a.isArray,u=a.lazyTweens,c=a.lazyRender,h=[],d=_gsScope._gsDefine.globals,p=function(e){var t,i={};for(t in e)i[t]=e[t];return i},f=o.pauseCallback=function(e,t,i,n){var a,o=e._timeline,s=o._totalTime,l=e._startTime,u=0>e._rawPrevTime||0===e._rawPrevTime&&o._reversed,c=u?0:r,d=u?r:0;if(t||!this._forcingPlayhead){for(o.pause(l),a=e._prev;a&&a._startTime===l;)a._rawPrevTime=d,a=a._prev;for(a=e._next;a&&a._startTime===l;)a._rawPrevTime=c,a=a._next;t&&t.apply(n||o.vars.callbackScope||o,i||h),(this._forcingPlayhead||!o._paused)&&o.seek(s)}},m=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},v=n.prototype=new t;return n.version="1.17.0",v.constructor=n,v.kill()._gc=v._forcingPlayhead=!1,v.to=function(e,t,n,r){var a=n.repeat&&d.TweenMax||i;return t?this.add(new a(e,t,n),r):this.set(e,n,r)},v.from=function(e,t,n,r){return this.add((n.repeat&&d.TweenMax||i).from(e,t,n),r)},v.fromTo=function(e,t,n,r,a){var o=r.repeat&&d.TweenMax||i;return t?this.add(o.fromTo(e,t,n,r),a):this.set(e,r,a)},v.staggerTo=function(e,t,r,a,o,l,u,c){var h,d=new n({onComplete:l,onCompleteParams:u,callbackScope:c,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),e=e||[],s(e)&&(e=m(e)),a=a||0,0>a&&(e=m(e),e.reverse(),a*=-1),h=0;e.length>h;h++)r.startAt&&(r.startAt=p(r.startAt)),d.to(e[h],t,p(r),h*a);return this.add(d,o)},v.staggerFrom=function(e,t,i,n,r,a,o,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,n,r,a,o,s)},v.staggerFromTo=function(e,t,i,n,r,a,o,s,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,n,r,a,o,s,l)},v.call=function(e,t,n,r){return this.add(i.delayedCall(0,e,t,n),r)},v.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new i(e,0,t),n)},n.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var r,a,o=new n(e),s=o._timeline;for(null==t&&(t=!0),s._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=s._time,r=s._first;r;)a=r._next,t&&r instanceof i&&r.target===r.vars.onComplete||o.add(r,r._startTime-r._delay),r=a;return s.add(o,0),o},v.add=function(r,a,o,s){var u,c,h,d,p,f;if("number"!=typeof a&&(a=this._parseTimeOrLabel(a,0,!0,r)),!(r instanceof e)){if(r instanceof Array||r&&r.push&&l(r)){for(o=o||"normal",s=s||0,u=a,c=r.length,h=0;c>h;h++)l(d=r[h])&&(d=new n({tweens:d})),this.add(d,u),"string"!=typeof d&&"function"!=typeof d&&("sequence"===o?u=d._startTime+d.totalDuration()/d._timeScale:"start"===o&&(d._startTime-=d.delay())),u+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,a);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(t.prototype.add.call(this,r,a),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,f=p.rawTime()>r._startTime;p._timeline;)f&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},v.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&l(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},v._remove=function(e,i){t.prototype._remove.call(this,e,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},v.insert=v.insertMultiple=function(e,t,i,n){return this.add(e,t||0,i,n)},v.appendMultiple=function(e,t,i,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,n)},v.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},v.addPause=function(e,t,n,r){var a=i.delayedCall(0,f,["{self}",t,n,r],this);return a.data="isPause",this.add(a,e)},v.removeLabel=function(e){return delete this._labels[e],this},v.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},v._parseTimeOrLabel=function(t,i,n,r){var a;if(r instanceof e&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(a=r.length;--a>-1;)r[a]instanceof e&&r[a].timeline===this&&this.remove(r[a]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,n);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(a=t.indexOf("="),-1===a)return null==this._labels[t]?n?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(a-1)+"1",10)*Number(t.substr(a+1)),t=a>1?this._parseTimeOrLabel(t.substr(0,a-1),0,n):this.duration()}return Number(t)+i},v.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),t!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(e,t){return this.play(e,t)},v.gotoAndStop=function(e,t){return this.pause(e,t)},v.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,a,o,s,l,h=this._dirty?this.totalDuration():this._totalDuration,d=this._time,p=this._startTime,f=this._timeScale,m=this._paused;if(e>=h)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(a=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,e=h+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(s="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=a=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,0===e&&a)for(n=this._first;n&&0===n._startTime;)n._duration||(a=!1),n=n._next;e=0,this._initted||(l=!0)}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time!==d&&this._first||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&e>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(t||this._callback("onStart")),this._time>=d)for(n=this._first;n&&(o=n._next,!this._paused||m);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||m);)(n._active||d>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=o;this._onUpdate&&(t||(u.length&&c(),this._callback("onUpdate"))),s&&(this._gc||(p===this._startTime||f!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(a&&(u.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},v._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof n&&e._hasPausedChild())return!0;e=e._next}return!1},v.getChildren=function(e,t,n,r){r=r||-9999999999;for(var a=[],o=this._first,s=0;o;)r>o._startTime||(o instanceof i?t!==!1&&(a[s++]=o):(n!==!1&&(a[s++]=o),e!==!1&&(a=a.concat(o.getChildren(!0,t,n)),s=a.length))),o=o._next;return a},v.getTweensOf=function(e,t){var n,r,a=this._gc,o=[],s=0;for(a&&this._enabled(!0,!0),n=i.getTweensOf(e),r=n.length;--r>-1;)(n[r].timeline===this||t&&this._contains(n[r]))&&(o[s++]=n[r]);return a&&this._enabled(!1,!0),o},v.recent=function(){return this._recent},v._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},v.shiftChildren=function(e,t,i){i=i||0;for(var n,r=this._first,a=this._labels;r;)r._startTime>=i&&(r._startTime+=e),r=r._next;if(t)for(n in a)a[n]>=i&&(a[n]+=e);return this._uncache(!0)},v._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(e,t)&&(r=!0);return r},v.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},v._enabled=function(e,i){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return t.prototype._enabled.call(this,e,i)},v.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},v.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,n=0,r=this._last,a=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>a&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):a=r._startTime,0>r._startTime&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),a=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},v.paused=function(t){if(!t)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,i){var n=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,a=t._internals,o=a.lazyTweens,s=a.lazyRender,l=new i(null,null,1,0),u=n.prototype=new e;return u.constructor=n,u.kill()._gc=!1,n.version="1.17.0",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},u.addCallback=function(e,i,n,r){return this.add(t.delayedCall(0,e,n,r),i)},u.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var i=this.getTweensOf(e,!1),n=i.length,r=this._parseTimeOrLabel(t);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},u.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},u.tweenTo=function(e,i){i=i||{};var n,r,a,o={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(e),n=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,a=new t(this,n,o),o.onStart=function(){a.target.paused(!0),a.vars.time!==a.target.time()&&n===a.duration()&&a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale),i.onStart&&a._callback("onStart")},a},u.tweenFromTo=function(e,t,i){i=i||{},e=this._parseTimeOrLabel(e),i.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(t,i);return n.duration(Math.abs(n.vars.time-e)/this._timeScale||.001)},u.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var n,a,l,u,c,h,d=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,f=this._time,m=this._totalTime,v=this._startTime,g=this._timeScale,y=this._rawPrevTime,_=this._paused,b=this._cycle;if(e>=d)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,u="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>y||y===r)&&y!==e&&this._first&&(c=!0,y>r&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:r,this._yoyo&&0!==(1&this._cycle)?this._time=e=0:(this._time=p,e=p+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===p&&y!==r&&(y>0||0>e&&y>=0)&&!this._locked)&&(u="onReverseComplete",a=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=a=!0,u="onReverseComplete"):y>=0&&this._first&&(c=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=p||!t||e||this._rawPrevTime===e?e:r,0===e&&a)for(n=this._first;n&&0===n._startTime;)n._duration||(a=!1),n=n._next;e=0,this._initted||(c=!0)}else 0===p&&0>y&&(c=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(h=p+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,e=p+1e-4):0>this._time?this._time=e=0:e=this._time));if(this._cycle!==b&&!this._locked){var x=this._yoyo&&0!==(1&b),w=x===(this._yoyo&&0!==(1&this._cycle)),T=this._totalTime,E=this._cycle,M=this._rawPrevTime,S=this._time;if(this._totalTime=b*p,b>this._cycle?x=!x:this._totalTime+=p,this._time=f,this._rawPrevTime=0===p?y-1e-4:y,this._cycle=b,this._locked=!0,f=x?0:p,this.render(f,t,0===p),t||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),w&&(f=x?p+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=S,this._totalTime=T,this._cycle=E,this._rawPrevTime=M}if(!(this._time!==f&&this._first||i||c))return void(m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&e>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(t||this._callback("onStart")),this._time>=f)for(n=this._first;n&&(l=n._next,!this._paused||_);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=l;else for(n=this._last;n&&(l=n._prev,!this._paused||_);)(n._active||f>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=l;this._onUpdate&&(t||(o.length&&s(),this._callback("onUpdate"))),u&&(this._locked||this._gc||(v===this._startTime||g!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(a&&(o.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[u]&&this._callback(u)))},u.getActive=function(e,t,i){null==e&&(e=!0),null==t&&(t=!0),null==i&&(i=!1);var n,r,a=[],o=this.getChildren(e,t,i),s=0,l=o.length;for(n=0;l>n;n++)r=o[n],r.isActive()&&(a[s++]=r);return a},u.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,i=this.getLabelsArray(),n=i.length;for(t=0;n>t;t++)if(i[t].time>e)return i[t].name;return null},u.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),i=t.length;--i>-1;)if(e>t[i].time)return t[i].name;return null},u.getLabelsArray=function(){var e,t=[],i=0;for(e in this._labels)t[i++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},u.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},u.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!==(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},u.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var e=180/Math.PI,t=[],i=[],n=[],r={},a=_gsScope._gsDefine.globals,o=function(e,t,i,n){this.a=e,this.b=t,this.c=i,this.d=n,this.da=n-e,this.ca=i-e,this.ba=t-e},s=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(e,t,i,n){var r={a:e},a={},o={},s={c:n},l=(e+t)/2,u=(t+i)/2,c=(i+n)/2,h=(l+u)/2,d=(u+c)/2,p=(d-h)/8;return r.b=l+(e-l)/4,a.b=h+p,r.c=a.a=(r.b+a.b)/2,a.c=o.a=(h+d)/2,o.b=d-p,s.b=c+(n-c)/4,o.c=s.a=(o.b+s.b)/2,[r,a,o,s]},u=function(e,r,a,o,s){var u,c,h,d,p,f,m,v,g,y,_,b,x,w=e.length-1,T=0,E=e[0].a;for(u=0;w>u;u++)p=e[T],c=p.a,h=p.d,d=e[T+1].d,s?(_=t[u],b=i[u],x=.25*(b+_)*r/(o?.5:n[u]||.5),f=h-(h-c)*(o?.5*r:0!==_?x/_:0),m=h+(d-h)*(o?.5*r:0!==b?x/b:0),v=h-(f+((m-f)*(3*_/(_+b)+.5)/4||0))):(f=h-.5*(h-c)*r,m=h+.5*(d-h)*r,v=h-(f+m)/2),f+=v,m+=v,p.c=g=f,p.b=0!==u?E:E=p.a+.6*(p.c-p.a),p.da=h-c,p.ca=g-c,p.ba=E-c,a?(y=l(c,E,g,h),e.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,E=m;p=e[T],p.b=E,p.c=E+.4*(p.d-E),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=E-p.a,a&&(y=l(p.a,E,p.c,p.d),e.splice(T,1,y[0],y[1],y[2],y[3]))},c=function(e,n,r,a){var s,l,u,c,h,d,p=[];if(a)for(e=[a].concat(e),l=e.length;--l>-1;)"string"==typeof(d=e[l][n])&&"="===d.charAt(1)&&(e[l][n]=a[n]+Number(d.charAt(0)+d.substr(2)));if(s=e.length-2,0>s)return p[0]=new o(e[0][n],0,0,e[-1>s?0:1][n]),p;for(l=0;s>l;l++)u=e[l][n],c=e[l+1][n],p[l]=new o(u,0,0,c),r&&(h=e[l+2][n],t[l]=(t[l]||0)+(c-u)*(c-u),i[l]=(i[l]||0)+(h-c)*(h-c));return p[l]=new o(e[l][n],0,0,e[l+1][n]),p},h=function(e,a,o,l,h,d){var p,f,m,v,g,y,_,b,x={},w=[],T=d||e[0];h="string"==typeof h?","+h+",":s,null==a&&(a=1);for(f in e[0])w.push(f);if(e.length>1){for(b=e[e.length-1],_=!0,p=w.length;--p>-1;)if(f=w[p],Math.abs(T[f]-b[f])>.05){_=!1;break}_&&(e=e.concat(),d&&e.unshift(d),e.push(e[1]),d=e[e.length-3])}for(t.length=i.length=n.length=0,p=w.length;--p>-1;)f=w[p],r[f]=-1!==h.indexOf(","+f+","),x[f]=c(e,f,r[f],d);for(p=t.length;--p>-1;)t[p]=Math.sqrt(t[p]),i[p]=Math.sqrt(i[p]);if(!l){for(p=w.length;--p>-1;)if(r[f])for(m=x[w[p]],y=m.length-1,v=0;y>v;v++)g=m[v+1].da/i[v]+m[v].da/t[v],n[v]=(n[v]||0)+g*g;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=w.length,v=o?4:1;--p>-1;)f=w[p],m=x[f],u(m,a,o,l,r[f]),_&&(m.splice(0,v),m.splice(m.length-v,v));return x},d=function(e,t,i){t=t||"soft";var n,r,a,s,l,u,c,h,d,p,f,m={},v="cubic"===t?3:2,g="soft"===t,y=[];if(g&&i&&(e=[i].concat(e)),null==e||v+1>e.length)throw"invalid Bezier data";for(d in e[0])y.push(d);for(u=y.length;--u>-1;){for(d=y[u],m[d]=l=[],p=0,h=e.length,c=0;h>c;c++)n=null==i?e[c][d]:"string"==typeof(f=e[c][d])&&"="===f.charAt(1)?i[d]+Number(f.charAt(0)+f.substr(2)):Number(f),g&&c>1&&h-1>c&&(l[p++]=(n+l[p-2])/2),l[p++]=n;for(h=p-v+1,p=0,c=0;h>c;c+=v)n=l[c],r=l[c+1],a=l[c+2],s=2===v?0:l[c+3],l[p++]=f=3===v?new o(n,r,a,s):new o(n,(2*r+n)/3,(2*r+a)/3,a);l.length=p}return m},p=function(e,t,i){for(var n,r,a,o,s,l,u,c,h,d,p,f=1/i,m=e.length;--m>-1;)for(d=e[m],a=d.a,o=d.d-a,s=d.c-a,l=d.b-a,n=r=0,c=1;i>=c;c++)u=f*c,h=1-u,n=r-(r=(u*u*o+3*h*(u*s+h*l))*u),p=m*i+c-1,t[p]=(t[p]||0)+n*n},f=function(e,t){t=t>>0||6;var i,n,r,a,o=[],s=[],l=0,u=0,c=t-1,h=[],d=[];for(i in e)p(e[i],o,t);for(r=o.length,n=0;r>n;n++)l+=Math.sqrt(o[n]),a=n%t,d[a]=l,a===c&&(u+=l,a=n/t>>0,h[a]=d,s[a]=u,l=0,d=[]);return{length:u,lengths:s,segments:h}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var n,r,a,o,s,l=t.values||[],u={},c=l[0],p=t.autoRotate||i.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(n in c)this._props.push(n);for(a=this._props.length;--a>-1;)n=this._props[a],this._overwriteProps.push(n),r=this._func[n]="function"==typeof e[n],u[n]=r?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),s||u[n]!==l[0][n]&&(s=u);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?h(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):d(l,t.type,u),this._segCount=this._beziers[n].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),a=p.length;--a>-1;){for(o=0;3>o;o++)n=p[a][o],this._func[n]="function"==typeof e[n]&&e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)];n=p[a][2],this._initialRotations[a]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,n,r,a,o,s,l,u,c,h,d=this._segCount,p=this._func,f=this._target,m=t!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,t*=this._length,r=this._li,t>this._l2&&d-1>r){for(u=d-1;u>r&&t>=(this._l2=c[++r]););this._l1=c[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(this._l1>t&&r>0){for(;r>0&&(this._l1=c[--r])>=t;);
0===r&&this._l1>t?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=r,t-=this._l1,r=this._si,t>this._s2&&h.length-1>r){for(u=h.length-1;u>r&&t>=(this._s2=h[++r]););this._s1=h[r-1],this._si=r}else if(this._s1>t&&r>0){for(;r>0&&(this._s1=h[--r])>=t;);0===r&&this._s1>t?this._s1=0:r++,this._s2=h[r],this._si=r}s=(r+(t-this._s1)/(this._s2-this._s1))*this._prec}else i=0>t?0:t>=1?d-1:d*t>>0,s=(t-i*(1/d))*d;for(n=1-s,r=this._props.length;--r>-1;)a=this._props[r],o=this._beziers[a][i],l=(s*s*o.da+3*n*(s*o.ca+n*o.ba))*s+o.a,this._round[a]&&(l=Math.round(l)),p[a]?f[a](l):f[a]=l;if(this._autoRotate){var v,g,y,_,b,x,w,T=this._autoRotate;for(r=T.length;--r>-1;)a=T[r][2],x=T[r][3]||0,w=T[r][4]===!0?1:e,o=this._beziers[T[r][0]],v=this._beziers[T[r][1]],o&&v&&(o=o[i],v=v[i],g=o.a+(o.b-o.a)*s,_=o.b+(o.c-o.b)*s,g+=(_-g)*s,_+=(o.c+(o.d-o.c)*s-_)*s,y=v.a+(v.b-v.a)*s,b=v.b+(v.c-v.b)*s,y+=(b-y)*s,b+=(v.c+(v.d-v.c)*s-b)*s,l=m?Math.atan2(b-y,_-g)*w+x:this._initialRotations[r],p[a]?f[a](l):f[a]=l)}}}),v=m.prototype;m.bezierThrough=h,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(e,t,i){return new o(e,(2*t+e)/3,(2*t+i)/3,i)},m._cssRegister=function(){var e=a.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,n=t._setPluginRatio,r=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,a,o,s,l){t instanceof Array&&(t={values:t}),l=new m;var u,c,h,d=t.values,p=d.length-1,f=[],v={};if(0>p)return s;for(u=0;p>=u;u++)h=i(e,d[u],o,s,l,p!==u),f[u]=h.end;for(c in t)v[c]=t[c];return v.values=f,s=new r(e,"bezier",0,0,h.pt,2),s.data=h,s.plugin=l,s.setRatio=n,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(u=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=h.end.left?[["left","top","rotation",u,!1]]:null!=h.end.x&&[["x","y","rotation",u,!1]]),v.autoRotate&&(o._transform||o._enableTransforms(!1),h.autoRotate=o._target._gsTransform),l._onInitTween(h.proxy,v,o._tween),s}})}},v._roundProps=function(e,t){for(var i=this._overwriteProps,n=i.length;--n>-1;)(e[i[n]]||e.bezier||e.bezierThrough)&&(this._round[i[n]]=t)},v._kill=function(e){var t,i,n=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=n.length;--i>-1;)n[i]===t&&n.splice(i,1);return this._super._kill.call(this,e)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,n,r,a,o=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},s=_gsScope._gsDefine.globals,l={},u=o.prototype=new e("css");u.constructor=o,o.version="1.17.0",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,u="px",o.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var c,h,d,p,f,m,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,M=/([A-Z])/g,S=/-([a-z])/gi,C=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(e,t){return t.toUpperCase()},P=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,k=Math.PI/180,D=180/Math.PI,I={},z=document,N=function(e){return z.createElementNS?z.createElementNS("http://www.w3.org/1999/xhtml",e):z.createElement(e)},B=N("div"),F=N("img"),U=o._internals={_specialProps:l},j=navigator.userAgent,H=function(){var e=j.indexOf("Android"),t=N("a");return d=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===e||Number(j.substr(e+8,1))>3),f=d&&6>Number(j.substr(j.indexOf("Version/")+8,1)),p=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(m=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),G=function(e){return x.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(e){window.console&&void 0},W="",$="",X=function(e,t){t=t||B;var i,n,r=t.style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+e];);return n>=0?($=3===n?"ms":i[n],W="-"+$.toLowerCase()+"-",$+e):null},q=z.defaultView?z.defaultView.getComputedStyle:function(){},Y=o.getStyle=function(e,t,i,n,r){var a;return H||"opacity"!==t?(!n&&e.style[t]?a=e.style[t]:(i=i||q(e))?a=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(M,"-$1").toLowerCase()):e.currentStyle&&(a=e.currentStyle[t]),null==r||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:r):G(e)},Z=U.convertToPixels=function(e,i,n,r,a){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var s,l,u,c=P.test(i),h=e,d=B.style,p=0>n;if(p&&(n=-n),"%"===r&&-1!==i.indexOf("border"))s=n/100*(c?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+Y(e,"position")+";line-height:0;","%"!==r&&h.appendChild)d[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=e.parentNode||z.body,l=h._gsCache,u=t.ticker.frame,l&&c&&l.time===u)return l.width*n/100;d[c?"width":"height"]=n+r}h.appendChild(B),s=parseFloat(B[c?"offsetWidth":"offsetHeight"]),h.removeChild(B),c&&"%"===r&&o.cacheWidths!==!1&&(l=h._gsCache=h._gsCache||{},l.time=u,l.width=100*(s/n)),0!==s||a||(s=Z(e,i,n,r,!0))}return p?-s:s},Q=U.calculateOffset=function(e,t,i){if("absolute"!==Y(e,"position",i))return 0;var n="left"===t?"Left":"Top",r=Y(e,"margin"+n,i);return e["offset"+n]-(Z(e,t,parseFloat(r),r.replace(b,""))||0)},K=function(e,t){var i,n,r,a={};if(t=t||q(e,null))if(i=t.length)for(;--i>-1;)r=t[i],(-1===r.indexOf("-transform")||Ee===r)&&(a[r.replace(S,A)]=t.getPropertyValue(r));else for(i in t)(-1===i.indexOf("Transform")||Te===i)&&(a[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===a[i]&&(a[i.replace(S,A)]=t[i]);return H||(a.opacity=G(e)),n=ze(e,t,!1),a.rotation=n.rotation,a.skewX=n.skewX,a.scaleX=n.scaleX,a.scaleY=n.scaleY,a.x=n.x,a.y=n.y,Se&&(a.z=n.z,a.rotationX=n.rotationX,a.rotationY=n.rotationY,a.scaleZ=n.scaleZ),a.filters&&delete a.filters,a},J=function(e,t,i,n,r){var a,o,s,l={},u=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(a=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"==typeof a||"string"==typeof a)&&(l[o]="auto"!==a||"left"!==o&&"top"!==o?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[o]||""===t[o].replace(_,"")?a:0:Q(e,o),void 0!==u[o]&&(s=new pe(u,o,u[o],s)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:s}},ee={width:["Left","Right"],height:["Top","Bottom"]},te=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=ee[t],a=r.length;for(i=i||q(e,null);--a>-1;)n-=parseFloat(Y(e,"padding"+r[a],i,!0))||0,n-=parseFloat(Y(e,"border"+r[a]+"Width",i,!0))||0;return n},ne=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],r=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==r?r="center"===n?"50%":"0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),e=n+" "+r+(i.length>2?" "+i[2]:""),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==r.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===r.charAt(1),t.ox=parseFloat(n.replace(_,"")),t.oy=parseFloat(r.replace(_,"")),t.v=e),t||e},re=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},ae=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},oe=function(e,t,i,n){var r,a,o,s,l,u=1e-6;return null==e?s=t:"number"==typeof e?s=e:(r=360,a=e.split("_"),l="="===e.charAt(1),o=(l?parseInt(e.charAt(0)+"1",10)*parseFloat(a[0].substr(2)):parseFloat(a[0]))*(-1===e.indexOf("rad")?1:D)-(l?0:t),a.length&&(n&&(n[i]=t+o),-1!==e.indexOf("short")&&(o%=r,o!==o%(r/2)&&(o=0>o?o+r:o-r)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*r)%r-(0|o/r)*r:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*r)%r-(0|o/r)*r)),s=t+o),u>s&&s>-u&&(s=0),s},se={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(i-t)*e:.5>e?i:2>3*e?t+6*(i-t)*(2/3-e):t)+.5},ue=o.parseColor=function(e){var t,i,n,r,a,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),se[e]?se[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),i=e.charAt(2),n=e.charAt(3),e="#"+t+t+i+i+n+n),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(v),r=Number(e[0])%360/360,a=Number(e[1])/100,o=Number(e[2])/100,i=.5>=o?o*(a+1):o+a-o*a,t=2*o-i,e.length>3&&(e[3]=Number(e[3])),e[0]=le(r+1/3,t,i),e[1]=le(r,t,i),e[2]=le(r-1/3,t,i),e):(e=e.match(v)||se.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):se.black},ce="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(u in se)ce+="|"+u+"\\b";ce=RegExp(ce+")","gi");var he=function(e,t,i,n){if(null==e)return function(e){return e};var r,a=t?(e.match(ce)||[""])[0]:"",o=e.split(a).join("").match(y)||[],s=e.substr(0,e.indexOf(o[0])),l=")"===e.charAt(e.length-1)?")":"",u=-1!==e.indexOf(" ")?" ":",",c=o.length,h=c>0?o[0].replace(v,""):"";return c?r=t?function(e){var t,d,p,f;if("number"==typeof e)e+=h;else if(n&&R.test(e)){for(f=e.replace(R,"|").split("|"),p=0;f.length>p;p++)f[p]=r(f[p]);return f.join(",")}if(t=(e.match(ce)||[a])[0],d=e.split(t).join("").match(y)||[],p=d.length,c>p--)for(;c>++p;)d[p]=i?d[0|(p-1)/2]:o[p];return s+d.join(u)+u+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,a,d;if("number"==typeof e)e+=h;else if(n&&R.test(e)){for(a=e.replace(R,"|").split("|"),d=0;a.length>d;d++)a[d]=r(a[d]);return a.join(",")}if(t=e.match(y)||[],d=t.length,c>d--)for(;c>++d;)t[d]=i?t[0|(d-1)/2]:o[d];return s+t.join(u)+l}:function(e){return e}},de=function(e){return e=e.split(","),function(t,i,n,r,a,o,s){var l,u=(i+"").split(" ");for(s={},l=0;4>l;l++)s[e[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(t,s,a,o)}},pe=(U._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,r,a=this.data,o=a.proxy,s=a.firstMPT,l=1e-6;s;)t=o[s.v],s.r?t=Math.round(t):l>t&&t>-l&&(t=0),s.t[s.p]=t,s=s._next;if(a.autoRotate&&(a.autoRotate.rotation=o.rotation),1===e)for(s=a.firstMPT;s;){if(i=s.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;s=s._next}},function(e,t,i,n,r){this.t=e,this.p=t,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),fe=(U._parseToProxy=function(e,t,i,n,r,a){var o,s,l,u,c,h=n,d={},p={},f=i._transform,m=I;for(i._transform=null,I=t,n=c=i.parse(e,t,n,r),I=m,a&&(i._transform=f,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(1>=n.type&&(s=n.p,p[s]=n.s+n.c,d[s]=n.s,a||(u=new pe(n,"s",s,u,n.r),n.c=0),1===n.type))for(o=n.l;--o>0;)l="xn"+o,s=n.p+"_"+l,p[s]=n.data[l],d[s]=n[l],a||(u=new pe(n,l,s,u,n.rxp[l]));n=n._next}return{proxy:d,end:p,firstMPT:u,pt:c}},U.CSSPropTween=function(e,t,n,r,o,s,l,u,c,h,d){this.t=e,this.p=t,this.s=n,this.c=r,this.n=l||t,e instanceof fe||a.push(this.n),this.r=u,this.type=s||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===d?n+r:d,o&&(this._next=o,o._prev=this)}),me=function(e,t,i,n,r,a){var o=new fe(e,t,i,n-i,r,(-1),a);return o.b=i,o.e=o.xs0=n,o},ve=o.parseComplex=function(e,t,i,n,r,a,o,s,l,u){i=i||a||"",o=new fe(e,t,0,0,o,u?2:1,null,(!1),s,i,n),n+="";var h,d,p,f,m,y,_,b,x,w,T,M,S=i.split(", ").join(",").split(" "),C=n.split(", ").join(",").split(" "),A=S.length,P=c!==!1;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(S=S.join(" ").replace(R,", ").split(" "),C=C.join(" ").replace(R,", ").split(" "),A=S.length),A!==C.length&&(S=(a||"").split(" "),A=S.length),o.plugin=l,o.setRatio=u,h=0;A>h;h++)if(f=S[h],m=C[h],b=parseFloat(f),b||0===b)o.appendXtra("",b,re(m,b),m.replace(g,""),P&&-1!==m.indexOf("px"),!0);else if(r&&("#"===f.charAt(0)||se[f]||E.test(f)))M=","===m.charAt(m.length-1)?"),":")",f=ue(f),m=ue(m),x=f.length+m.length>6,x&&!H&&0===m[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(C[h]).join("transparent")):(H||(x=!1),o.appendXtra(x?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],x?",":M,!0),x&&(f=4>f.length?1:f[3],o.appendXtra("",f,(4>m.length?1:m[3])-f,M,!1)));else if(y=f.match(v)){if(_=m.match(g),!_||_.length!==y.length)return o;for(p=0,d=0;y.length>d;d++)T=y[d],w=f.indexOf(T,p),o.appendXtra(f.substr(p,w-p),Number(T),re(_[d],T),"",P&&"px"===f.substr(w+T.length,2),0===d),p=w+T.length;o["xs"+o.l]+=f.substr(p)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==n.indexOf("=")&&o.data){for(M=o.xs0+o.data.s,h=1;o.l>h;h++)M+=o["xs"+h]+o.data["xn"+h];o.e=M+o["xs"+h]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},ge=9;for(u=fe.prototype,u.l=u.pr=0;--ge>0;)u["xn"+ge]=0,u["xs"+ge]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(e,t,i,n,r,a){var o=this,s=o.l;return o["xs"+s]+=a&&s?" "+e:e||"",i||0===s||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",s>0?(o.data["xn"+s]=t+i,o.rxp["xn"+s]=r,o["xn"+s]=t,o.plugin||(o.xfirst=new fe(o,"xn"+s,t,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=r,o)):(o["xs"+s]+=t+(n||""),o)};var ye=function(e,t){t=t||{},this.p=t.prefix?X(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||he(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},_e=U._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,r,a=e.split(","),o=t.defaultValue;for(i=i||[o],n=0;a.length>n;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||o,r=new ye(a[n],t)},be=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";_e(e,{parser:function(e,i,n,r,a,o,u){var c=s.com.greensock.plugins[t];return c?(c._cssRegister(),l[n].parse(e,i,n,r,a,o,u)):(V("Error: "+t+" js file not loaded."),a)}})}};u=ye.prototype,u.parseComplex=function(e,t,i,n,r,a){var o,s,l,u,c,h,d=this.keyword;if(this.multi&&(R.test(i)||R.test(t)?(s=t.replace(R,"|").split("|"),l=i.replace(R,"|").split("|")):d&&(s=[t],l=[i])),l){for(u=l.length>s.length?l.length:s.length,o=0;u>o;o++)t=s[o]=s[o]||this.dflt,i=l[o]=l[o]||this.dflt,d&&(c=t.indexOf(d),h=i.indexOf(d),c!==h&&(-1===h?s[o]=s[o].split(d).join(""):-1===c&&(s[o]+=" "+d)));t=s.join(", "),i=l.join(", ")}return ve(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,r,a)},u.parse=function(e,t,i,n,a,o){return this.parseComplex(e.style,this.format(Y(e,this.p,r,!1,this.dflt)),this.format(t),a,o)},o.registerSpecialProp=function(e,t,i){_e(e,{parser:function(e,n,r,a,o,s){var l=new fe(e,r,0,0,o,2,r,(!1),i);return l.plugin=s,l.setRatio=t(e,n,a._tween,r),l},priority:i})},o.useSVGTransformAttr=d||p;var xe,we="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Te=X("transform"),Ee=W+"transform",Me=X("transformOrigin"),Se=null!==X("perspective"),Ce=U.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(o.defaultForce3D===!1||!Se)&&(o.defaultForce3D||"auto")},Ae=window.SVGElement,Pe=function(e,t,i){var n,r=z.createElementNS("http://www.w3.org/2000/svg",e),a=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(a,"$1-$2").toLowerCase(),i[n]);return t.appendChild(r),r},Oe=z.documentElement,Le=function(){var e,t,i,n=m||/Android/i.test(j)&&!window.chrome;return z.createElementNS&&!n&&(e=Pe("svg",Oe),t=Pe("rect",e,{width:100,height:50,x:100}),i=t.getBoundingClientRect().width,t.style[Me]="50% 50%",t.style[Te]="scaleX(0.5)",n=i===t.getBoundingClientRect().width&&!(p&&Se),Oe.removeChild(e)),n}(),Re=function(e,t,i,n,r){var a,s,l,u,c,h,d,p,f,m,v,g,y,_,b=e._gsTransform,x=Ie(e,!0);b&&(y=b.xOrigin,_=b.yOrigin),(!n||2>(a=n.split(" ")).length)&&(d=e.getBBox(),t=ne(t).split(" "),a=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*d.width:parseFloat(t[0]))+d.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*d.height:parseFloat(t[1]))+d.y]),i.xOrigin=u=parseFloat(a[0]),i.yOrigin=c=parseFloat(a[1]),n&&x!==De&&(h=x[0],d=x[1],p=x[2],f=x[3],m=x[4],v=x[5],g=h*f-d*p,s=u*(f/g)+c*(-p/g)+(p*v-f*m)/g,l=u*(-d/g)+c*(h/g)-(h*v-d*m)/g,u=i.xOrigin=a[0]=s,c=i.yOrigin=a[1]=l),b&&(r||r!==!1&&o.defaultSmoothOrigin!==!1?(s=u-y,l=c-_,b.xOffset+=s*x[0]+l*x[2]-s,b.yOffset+=s*x[1]+l*x[3]-l):b.xOffset=b.yOffset=0),e.setAttribute("data-svg-origin",a.join(" "))},ke=function(e){return!!(Ae&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},De=[1,0,0,1,0,0],Ie=function(e,t){var i,n,r,a,o,s=e._gsTransform||new Ce,l=1e5;if(Te?n=Y(e,Ee,null,!0):e.currentStyle&&(n=e.currentStyle.filter.match(O),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),s.x||0,s.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(s.svg||e.getBBox&&ke(e))&&(i&&-1!==(e.style[Te]+"").indexOf("matrix")&&(n=e.style[Te],i=0),r=e.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return De;for(r=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ge=r.length;--ge>-1;)a=Number(r[ge]),r[ge]=(o=a-(a|=0))?(0|o*l+(0>o?-.5:.5))/l+a:a;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},ze=U.getTransform=function(e,i,n,a){if(e._gsTransform&&n&&!a)return e._gsTransform;var s,l,u,c,h,d,p=n?e._gsTransform||new Ce:new Ce,f=0>p.scaleX,m=2e-5,v=1e5,g=Se?parseFloat(Y(e,Me,i,!1,"0 0 0").split(" ")[2])||p.zOrigin||0:0,y=parseFloat(o.defaultTransformPerspective)||0;if(p.svg=!(!e.getBBox||!ke(e)),p.svg&&(Re(e,Y(e,Me,r,!1,"50% 50%")+"",p,e.getAttribute("data-svg-origin")),xe=o.useSVGTransformAttr||Le),s=Ie(e),s!==De){if(16===s.length){var _,b,x,w,T,E=s[0],M=s[1],S=s[2],C=s[3],A=s[4],P=s[5],O=s[6],L=s[7],R=s[8],k=s[9],I=s[10],z=s[12],N=s[13],B=s[14],F=s[11],U=Math.atan2(O,I);p.zOrigin&&(B=-p.zOrigin,z=R*B-s[12],N=k*B-s[13],B=I*B+p.zOrigin-s[14]),p.rotationX=U*D,U&&(w=Math.cos(-U),T=Math.sin(-U),_=A*w+R*T,b=P*w+k*T,x=O*w+I*T,R=A*-T+R*w,k=P*-T+k*w,I=O*-T+I*w,F=L*-T+F*w,A=_,P=b,O=x),U=Math.atan2(R,I),p.rotationY=U*D,U&&(w=Math.cos(-U),T=Math.sin(-U),_=E*w-R*T,b=M*w-k*T,x=S*w-I*T,k=M*T+k*w,I=S*T+I*w,F=C*T+F*w,E=_,M=b,S=x),U=Math.atan2(M,E),p.rotation=U*D,U&&(w=Math.cos(-U),T=Math.sin(-U),E=E*w+A*T,b=M*w+P*T,P=M*-T+P*w,O=S*-T+O*w,M=b),p.rotationX&&Math.abs(p.rotationX)+Math.abs(p.rotation)>359.9&&(p.rotationX=p.rotation=0,p.rotationY+=180),p.scaleX=(0|Math.sqrt(E*E+M*M)*v+.5)/v,p.scaleY=(0|Math.sqrt(P*P+k*k)*v+.5)/v,p.scaleZ=(0|Math.sqrt(O*O+I*I)*v+.5)/v,p.skewX=0,p.perspective=F?1/(0>F?-F:F):0,p.x=z,p.y=N,p.z=B,p.svg&&(p.x-=p.xOrigin-(p.xOrigin*E-p.yOrigin*A),p.y-=p.yOrigin-(p.yOrigin*M-p.xOrigin*P))}else if(!(Se&&!a&&s.length&&p.x===s[4]&&p.y===s[5]&&(p.rotationX||p.rotationY)||void 0!==p.x&&"none"===Y(e,"display",i))){var j=s.length>=6,H=j?s[0]:1,G=s[1]||0,V=s[2]||0,W=j?s[3]:1;p.x=s[4]||0,p.y=s[5]||0,u=Math.sqrt(H*H+G*G),c=Math.sqrt(W*W+V*V),h=H||G?Math.atan2(G,H)*D:p.rotation||0,d=V||W?Math.atan2(V,W)*D+h:p.skewX||0,Math.abs(d)>90&&270>Math.abs(d)&&(f?(u*=-1,d+=0>=h?180:-180,h+=0>=h?180:-180):(c*=-1,d+=0>=d?180:-180)),p.scaleX=u,p.scaleY=c,p.rotation=h,p.skewX=d,Se&&(p.rotationX=p.rotationY=p.z=0,p.perspective=y,p.scaleZ=1),p.svg&&(p.x-=p.xOrigin-(p.xOrigin*H+p.yOrigin*V),p.y-=p.yOrigin-(p.xOrigin*G+p.yOrigin*W))}p.zOrigin=g;for(l in p)m>p[l]&&p[l]>-m&&(p[l]=0)}return n&&(e._gsTransform=p,p.svg&&(xe&&e.style[Te]?t.delayedCall(.001,function(){Ue(e.style,Te)}):!xe&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),p},Ne=function(e){var t,i,n=this.data,r=-n.rotation*k,a=r+n.skewX*k,o=1e5,s=(0|Math.cos(r)*n.scaleX*o)/o,l=(0|Math.sin(r)*n.scaleX*o)/o,u=(0|Math.sin(a)*-n.scaleY*o)/o,c=(0|Math.cos(a)*n.scaleY*o)/o,h=this.t.style,d=this.t.currentStyle;if(d){i=l,l=-u,u=-i,t=d.filter,h.filter="";var p,f,v=this.t.offsetWidth,g=this.t.offsetHeight,y="absolute"!==d.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+u+", M22="+c,w=n.x+v*n.xPercent/100,T=n.y+g*n.yPercent/100;if(null!=n.ox&&(p=(n.oxp?.01*v*n.ox:n.ox)-v/2,f=(n.oyp?.01*g*n.oy:n.oy)-g/2,w+=p-(p*s+f*l),T+=f-(p*u+f*c)),y?(p=v/2,f=g/2,_+=", Dx="+(p-(p*s+f*l)+w)+", Dy="+(f-(p*u+f*c)+T)+")"):_+=", sizingMethod='auto expand')",h.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(L,_):_+" "+t,(0===e||1===e)&&1===s&&0===l&&0===u&&1===c&&(y&&-1===_.indexOf("Dx=0, Dy=0")||x.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&h.removeAttribute("filter")),!y){var E,M,S,C=8>m?1:-1;for(p=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((v-((0>s?-s:s)*v+(0>l?-l:l)*g))/2+w),n.ieOffsetY=Math.round((g-((0>c?-c:c)*g+(0>u?-u:u)*v))/2+T),ge=0;4>ge;ge++)M=te[ge],E=d[M],i=-1!==E.indexOf("px")?parseFloat(E):Z(this.t,M,parseFloat(E),E.replace(b,""))||0,S=i!==n[M]?2>ge?-n.ieOffsetX:-n.ieOffsetY:2>ge?p-n.ieOffsetX:f-n.ieOffsetY,h[M]=(n[M]=Math.round(i-S*(0===ge||2===ge?1:C)))+"px"}}},Be=U.set3DTransformRatio=U.setTransformRatio=function(e){var t,i,n,r,a,o,s,l,u,c,h,d,f,m,v,g,y,_,b,x,w,T,E,M=this.data,S=this.t.style,C=M.rotation,A=M.rotationX,P=M.rotationY,O=M.scaleX,L=M.scaleY,R=M.scaleZ,D=M.x,I=M.y,z=M.z,N=M.svg,B=M.perspective,F=M.force3D;if(!((1!==e&&0!==e||"auto"!==F||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&F||z||B||P||A)||xe&&N||!Se)return void(C||M.skewX||N?(C*=k,T=M.skewX*k,E=1e5,t=Math.cos(C)*O,r=Math.sin(C)*O,i=Math.sin(C-T)*-L,a=Math.cos(C-T)*L,T&&"simple"===M.skewType&&(y=Math.tan(T),y=Math.sqrt(1+y*y),i*=y,a*=y,M.skewY&&(t*=y,r*=y)),N&&(D+=M.xOrigin-(M.xOrigin*t+M.yOrigin*i)+M.xOffset,I+=M.yOrigin-(M.xOrigin*r+M.yOrigin*a)+M.yOffset,xe&&(M.xPercent||M.yPercent)&&(m=this.t.getBBox(),D+=.01*M.xPercent*m.width,I+=.01*M.yPercent*m.height),m=1e-6,m>D&&D>-m&&(D=0),m>I&&I>-m&&(I=0)),b=(0|t*E)/E+","+(0|r*E)/E+","+(0|i*E)/E+","+(0|a*E)/E+","+D+","+I+")",N&&xe?this.t.setAttribute("transform","matrix("+b):S[Te]=(M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) matrix(":"matrix(")+b):S[Te]=(M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+L+","+D+","+I+")");if(p&&(m=1e-4,m>O&&O>-m&&(O=R=2e-5),m>L&&L>-m&&(L=R=2e-5),!B||M.z||M.rotationX||M.rotationY||(B=0)),C||M.skewX)C*=k,v=t=Math.cos(C),g=r=Math.sin(C),M.skewX&&(C-=M.skewX*k,v=Math.cos(C),g=Math.sin(C),"simple"===M.skewType&&(y=Math.tan(M.skewX*k),y=Math.sqrt(1+y*y),v*=y,g*=y,M.skewY&&(t*=y,r*=y))),i=-g,a=v;else{if(!(P||A||1!==R||B||N))return void(S[Te]=(M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+I+"px,"+z+"px)"+(1!==O||1!==L?" scale("+O+","+L+")":""));t=a=1,i=r=0}u=1,n=o=s=l=c=h=0,d=B?-1/B:0,f=M.zOrigin,m=1e-6,x=",",w="0",C=P*k,C&&(v=Math.cos(C),g=Math.sin(C),s=-g,c=d*-g,n=t*g,o=r*g,u=v,d*=v,t*=v,r*=v),C=A*k,C&&(v=Math.cos(C),g=Math.sin(C),y=i*v+n*g,_=a*v+o*g,l=u*g,h=d*g,n=i*-g+n*v,o=a*-g+o*v,u*=v,d*=v,i=y,a=_),1!==R&&(n*=R,o*=R,u*=R,d*=R),1!==L&&(i*=L,a*=L,l*=L,h*=L),1!==O&&(t*=O,r*=O,s*=O,c*=O),(f||N)&&(f&&(D+=n*-f,I+=o*-f,z+=u*-f+f),N&&(D+=M.xOrigin-(M.xOrigin*t+M.yOrigin*i)+M.xOffset,I+=M.yOrigin-(M.xOrigin*r+M.yOrigin*a)+M.yOffset),m>D&&D>-m&&(D=w),m>I&&I>-m&&(I=w),m>z&&z>-m&&(z=0)),b=M.xPercent||M.yPercent?"translate("+M.xPercent+"%,"+M.yPercent+"%) matrix3d(":"matrix3d(",b+=(m>t&&t>-m?w:t)+x+(m>r&&r>-m?w:r)+x+(m>s&&s>-m?w:s),b+=x+(m>c&&c>-m?w:c)+x+(m>i&&i>-m?w:i)+x+(m>a&&a>-m?w:a),A||P?(b+=x+(m>l&&l>-m?w:l)+x+(m>h&&h>-m?w:h)+x+(m>n&&n>-m?w:n),b+=x+(m>o&&o>-m?w:o)+x+(m>u&&u>-m?w:u)+x+(m>d&&d>-m?w:d)+x):b+=",0,0,0,0,1,0,",b+=D+x+I+x+z+x+(B?1+-z/B:1)+")",S[Te]=b};u=Ce.prototype,u.x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,_e("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,n,a,s,l){if(n._lastParsedTransform===l)return a;n._lastParsedTransform=l;var u,c,h,d,p,f,m,v,g,y=e._gsTransform,_=n._transform=ze(e,r,!0,l.parseTransform),b=e.style,x=1e-6,w=we.length,T=l,E={},M="transformOrigin";if("string"==typeof T.transform&&Te)h=B.style,h[Te]=T.transform,h.display="block",h.position="absolute",z.body.appendChild(B),u=ze(B,null,!1),z.body.removeChild(B),null!=T.xPercent&&(u.xPercent=ae(T.xPercent,_.xPercent)),null!=T.yPercent&&(u.yPercent=ae(T.yPercent,_.yPercent));else if("object"==typeof T){if(u={scaleX:ae(null!=T.scaleX?T.scaleX:T.scale,_.scaleX),scaleY:ae(null!=T.scaleY?T.scaleY:T.scale,_.scaleY),scaleZ:ae(T.scaleZ,_.scaleZ),x:ae(T.x,_.x),y:ae(T.y,_.y),z:ae(T.z,_.z),xPercent:ae(T.xPercent,_.xPercent),yPercent:ae(T.yPercent,_.yPercent),perspective:ae(T.transformPerspective,_.perspective)},m=T.directionalRotation,null!=m)if("object"==typeof m)for(h in m)T[h]=m[h];else T.rotation=m;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(u.x=0,u.xPercent=ae(T.x,_.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(u.y=0,u.yPercent=ae(T.y,_.yPercent)),u.rotation=oe("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:_.rotation,_.rotation,"rotation",E),Se&&(u.rotationX=oe("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":_.rotationX||0,_.rotationX,"rotationX",E),u.rotationY=oe("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":_.rotationY||0,_.rotationY,"rotationY",E)),u.skewX=null==T.skewX?_.skewX:oe(T.skewX,_.skewX),u.skewY=null==T.skewY?_.skewY:oe(T.skewY,_.skewY),(c=u.skewY-_.skewY)&&(u.skewX+=c,u.rotation+=c)}for(Se&&null!=T.force3D&&(_.force3D=T.force3D,f=!0),_.skewType=T.skewType||_.skewType||o.defaultSkewType,p=_.force3D||_.z||_.rotationX||_.rotationY||u.z||u.rotationX||u.rotationY||u.perspective,p||null==T.scale||(u.scaleZ=1);--w>-1;)i=we[w],d=u[i]-_[i],(d>x||-x>d||null!=T[i]||null!=I[i])&&(f=!0,a=new fe(_,i,_[i],d,a),i in E&&(a.e=E[i]),a.xs0=0,a.plugin=s,n._overwriteProps.push(a.n));return d=T.transformOrigin,_.svg&&(d||T.svgOrigin)&&(v=_.xOffset,g=_.yOffset,Re(e,ne(d),u,T.svgOrigin,T.smoothOrigin),a=me(_,"xOrigin",(y?_:u).xOrigin,u.xOrigin,a,M),a=me(_,"yOrigin",(y?_:u).yOrigin,u.yOrigin,a,M),(v!==_.xOffset||g!==_.yOffset)&&(a=me(_,"xOffset",y?v:_.xOffset,_.xOffset,a,M),a=me(_,"yOffset",y?g:_.yOffset,_.yOffset,a,M)),d=xe?null:"0px 0px"),(d||Se&&p&&_.zOrigin)&&(Te?(f=!0,i=Me,d=(d||Y(e,i,r,!1,"50% 50%"))+"",a=new fe(b,i,0,0,a,(-1),M),a.b=b[i],a.plugin=s,Se?(h=_.zOrigin,d=d.split(" "),_.zOrigin=(d.length>2&&(0===h||"0px"!==d[2])?parseFloat(d[2]):h)||0,a.xs0=a.e=d[0]+" "+(d[1]||"50%")+" 0px",a=new fe(_,"zOrigin",0,0,a,(-1),a.n),a.b=h,a.xs0=a.e=_.zOrigin):a.xs0=a.e=d):ne(d+"",_)),f&&(n._transformType=_.svg&&xe||!p&&3!==this._transformType?2:3),a},prefix:!0}),_e("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_e("borderRadius",{defaultValue:"0px",parser:function(e,t,i,a,o){t=this.format(t);var s,l,u,c,h,d,p,f,m,v,g,y,_,b,x,w,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(m=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),s=t.split(" "),l=0;T.length>l;l++)this.p.indexOf("border")&&(T[l]=X(T[l])),h=c=Y(e,T[l],r,!1,"0px"),-1!==h.indexOf(" ")&&(c=h.split(" "),h=c[0],c=c[1]),d=u=s[l],p=parseFloat(h),y=h.substr((p+"").length),_="="===d.charAt(1),_?(f=parseInt(d.charAt(0)+"1",10),d=d.substr(2),f*=parseFloat(d),g=d.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(d),g=d.substr((f+"").length)),""===g&&(g=n[i]||y),g!==y&&(b=Z(e,"borderLeft",p,y),x=Z(e,"borderTop",p,y),"%"===g?(h=100*(b/m)+"%",c=100*(x/v)+"%"):"em"===g?(w=Z(e,"borderLeft",1,"em"),h=b/w+"em",c=x/w+"em"):(h=b+"px",c=x+"px"),_&&(d=parseFloat(h)+f+g,u=parseFloat(c)+f+g)),o=ve(E,T[l],h+" "+c,d+" "+u,!1,"0px",o);return o},prefix:!0,formatter:he("0px 0px 0px 0px",!1,!0)}),_e("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,a,o){var s,l,u,c,h,d,p="background-position",f=r||q(e,null),v=this.format((f?m?f.getPropertyValue(p+"-x")+" "+f.getPropertyValue(p+"-y"):f.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),g=this.format(t);if(-1!==v.indexOf("%")!=(-1!==g.indexOf("%"))&&(d=Y(e,"backgroundImage").replace(C,""),d&&"none"!==d)){for(s=v.split(" "),l=g.split(" "),F.setAttribute("src",d),u=2;--u>-1;)v=s[u],c=-1!==v.indexOf("%"),c!==(-1!==l[u].indexOf("%"))&&(h=0===u?e.offsetWidth-F.width:e.offsetHeight-F.height,s[u]=c?parseFloat(v)/100*h+"px":100*(parseFloat(v)/h)+"%");v=s.join(" ")}return this.parseComplex(e.style,v,g,a,o)},formatter:ne}),_e("backgroundSize",{defaultValue:"0 0",formatter:ne}),_e("perspective",{defaultValue:"0px",prefix:!0}),_e("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_e("transformStyle",{prefix:!0}),_e("backfaceVisibility",{prefix:!0}),_e("userSelect",{prefix:!0}),_e("margin",{parser:de("marginTop,marginRight,marginBottom,marginLeft")}),_e("padding",{parser:de("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_e("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,a,o){var s,l,u;return 9>m?(l=e.currentStyle,u=8>m?" ":",",s="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",t=this.format(t).split(",").join(u)):(s=this.format(Y(e,this.p,r,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,a,o)}}),_e("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_e("autoRound,strictUnits",{parser:function(e,t,i,n,r){return r}}),_e("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,a,o){return this.parseComplex(e.style,this.format(Y(e,"borderTopWidth",r,!1,"0px")+" "+Y(e,"borderTopStyle",r,!1,"solid")+" "+Y(e,"borderTopColor",r,!1,"#000")),this.format(t),a,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ce)||["#000"])[0]}}),_e("borderWidth",{parser:de("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_e("float,cssFloat,styleFloat",{parser:function(e,t,i,n,r){var a=e.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new fe(a,o,0,0,r,(-1),i,(!1),0,a[o],t)}});var Fe=function(e){var t,i=this.t,n=i.filter||Y(this.data,"filter")||"",r=0|this.s+this.c*e;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),t=!Y(this.data,"filter")):(i.filter=n.replace(T,""),t=!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(x,"opacity="+r))};_e("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,a,o){var s=parseFloat(Y(e,"opacity",r,!1,"1")),l=e.style,u="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),u&&1===s&&"hidden"===Y(e,"visibility",r)&&0!==t&&(s=0),H?a=new fe(l,"opacity",s,t-s,a):(a=new fe(l,"opacity",100*s,100*(t-s),a),
a.xn1=u?1:0,l.zoom=1,a.type=2,a.b="alpha(opacity="+a.s+")",a.e="alpha(opacity="+(a.s+a.c)+")",a.data=e,a.plugin=o,a.setRatio=Fe),u&&(a=new fe(l,"visibility",0,0,a,(-1),null,(!1),0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit"),a.xs0="inherit",n._overwriteProps.push(a.n),n._overwriteProps.push(i)),a}});var Ue=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(M,"-$1").toLowerCase())):e.removeAttribute(t))},je=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:Ue(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};_e("className",{parser:function(e,t,n,a,o,s,l){var u,c,h,d,p,f=e.getAttribute("class")||"",m=e.style.cssText;if(o=a._classNamePT=new fe(e,n,0,0,o,2),o.setRatio=je,o.pr=-11,i=!0,o.b=f,c=K(e,r),h=e._gsClassPT){for(d={},p=h.data;p;)d[p.p]=1,p=p._next;h.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:f.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",o.e),u=J(e,c,K(e),l,d),e.setAttribute("class",f),o.data=u.firstMPT,e.style.cssText=m,o=o.xfirst=a.parse(e,u.difs,o,s)}});var He=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,n,r,a,o=this.t.style,s=l.transform.parse;if("all"===this.e)o.cssText="",r=!0;else for(t=this.e.split(" ").join("").split(","),n=t.length;--n>-1;)i=t[n],l[i]&&(l[i].parse===s?r=!0:i="transformOrigin"===i?Me:l[i].p),Ue(o,i);r&&(Ue(o,Te),a=this.t._gsTransform,a&&(a.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(_e("clearProps",{parser:function(e,t,n,r,a){return a=new fe(e,n,0,0,a,2),a.setRatio=He,a.e=t,a.pr=-10,a.data=r._tween,i=!0,a}}),u="bezier,throwProps,physicsProps,physics2D".split(","),ge=u.length;ge--;)be(u[ge]);u=o.prototype,u._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(e,t,s){if(!e.nodeType)return!1;this._target=e,this._tween=s,this._vars=t,c=t.autoRound,i=!1,n=t.suffixMap||o.suffixMap,r=q(e,""),a=this._overwriteProps;var u,p,m,v,g,y,_,b,x,T=e.style;if(h&&""===T.zIndex&&(u=Y(e,"zIndex",r),("auto"===u||""===u)&&this._addLazySet(T,"zIndex",0)),"string"==typeof t&&(v=T.cssText,u=K(e,r),T.cssText=v+";"+t,u=J(e,u,K(e)).difs,!H&&w.test(t)&&(u.opacity=parseFloat(RegExp.$1)),t=u,T.cssText=v),this._firstPT=p=t.className?l.className.parse(e,t.className,"className",this,null,null,t):this.parse(e,t,null),this._transformType){for(x=3===this._transformType,Te?d&&(h=!0,""===T.zIndex&&(_=Y(e,"zIndex",r),("auto"===_||""===_)&&this._addLazySet(T,"zIndex",0)),f&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):T.zoom=1,m=p;m&&m._next;)m=m._next;b=new fe(e,"transform",0,0,null,2),this._linkCSSP(b,null,m),b.setRatio=Te?Be:Ne,b.data=this._transform||ze(e,r,!0),b.tween=s,b.pr=-1,a.pop()}if(i){for(;p;){for(y=p._next,m=v;m&&m.pr>p.pr;)m=m._next;(p._prev=m?m._prev:g)?p._prev._next=p:v=p,(p._next=m)?m._prev=p:g=p,p=y}this._firstPT=v}return!0},u.parse=function(e,t,i,a){var o,s,u,h,d,p,f,m,v,g,y=e.style;for(o in t)p=t[o],s=l[o],s?i=s.parse(e,p,o,this,i,a,t):(d=Y(e,o,r)+"",v="string"==typeof p,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||v&&E.test(p)?(v||(p=ue(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),i=ve(y,o,d,p,!0,"transparent",i,0,a)):!v||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(u=parseFloat(d),f=u||0===u?d.substr((u+"").length):"",(""===d||"auto"===d)&&("width"===o||"height"===o?(u=ie(e,o,r),f="px"):"left"===o||"top"===o?(u=Q(e,o,r),f="px"):(u="opacity"!==o?0:1,f="")),g=v&&"="===p.charAt(1),g?(h=parseInt(p.charAt(0)+"1",10),p=p.substr(2),h*=parseFloat(p),m=p.replace(b,"")):(h=parseFloat(p),m=v?p.replace(b,""):""),""===m&&(m=o in n?n[o]:f),p=h||0===h?(g?h+u:h)+m:t[o],f!==m&&""!==m&&(h||0===h)&&u&&(u=Z(e,o,u,f),"%"===m?(u/=Z(e,o,100,"%")/100,t.strictUnits!==!0&&(d=u+"%")):"em"===m?u/=Z(e,o,1,"em"):"px"!==m&&(h=Z(e,o,h,m),m="px"),g&&(h||0===h)&&(p=h+u+m)),g&&(h+=u),!u&&0!==u||!h&&0!==h?void 0!==y[o]&&(p||"NaN"!=p+""&&null!=p)?(i=new fe(y,o,h||u||0,0,i,(-1),o,(!1),0,d,p),i.xs0="none"!==p||"display"!==o&&-1===o.indexOf("Style")?p:d):V("invalid "+o+" tween value: "+t[o]):(i=new fe(y,o,u,h-u,i,0,o,c!==!1&&("px"===m||"zIndex"===o),0,d,p),i.xs0=m)):i=ve(y,o,d,p,!0,null,i,0,a)),a&&i&&!i.plugin&&(i.plugin=a);return i},u.setRatio=function(e){var t,i,n,r=this._firstPT,a=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):a>t&&t>-a&&(t=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+t+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(t=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+t+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},u._enableTransforms=function(e){this._transform=this._transform||ze(this._target,r,!0),this._transformType=this._transform.svg&&xe||!e&&3!==this._transformType?2:3};var Ge=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(e,t,i){var n=this._firstPT=new fe(e,t,0,0,this._firstPT,2);n.e=i,n.setRatio=Ge,n.data=this},u._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},u._kill=function(t){var i,n,r,a=t;if(t.autoAlpha||t.alpha){a={};for(n in t)a[n]=t[n];a.opacity=1,a.autoAlpha&&(a.visibility=1)}return t.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),e.prototype._kill.call(this,a)};var Ve=function(e,t,i){var n,r,a,o;if(e.slice)for(r=e.length;--r>-1;)Ve(e[r],t,i);else for(n=e.childNodes,r=n.length;--r>-1;)a=n[r],o=a.type,a.style&&(t.push(K(a)),i&&i.push(a)),1!==o&&9!==o&&11!==o||!a.childNodes.length||Ve(a,t,i)};return o.cascadeTo=function(e,i,n){var r,a,o,s,l=t.to(e,i,n),u=[l],c=[],h=[],d=[],p=t._internals.reservedProps;for(e=l._targets||l.target,Ve(e,c,d),l.render(i,!0,!0),Ve(e,h),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if(a=J(d[r],c[r],h[r]),a.firstMPT){a=a.difs;for(o in n)p[o]&&(a[o]=n[o]);s={};for(o in a)s[o]=c[r][o];u.push(t.fromTo(d[r],i,s,a))}return u},e.activate([o]),o},!0),function(){var e=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,i){return this._tween=i,!0}}),t=e.prototype;t._onInitAllProps=function(){for(var e,t,i,n=this._tween,r=n.vars.roundProps instanceof Array?n.vars.roundProps:n.vars.roundProps.split(","),a=r.length,o={},s=n._propLookup.roundProps;--a>-1;)o[r[a]]=1;for(a=r.length;--a>-1;)for(e=r[a],t=n._firstPT;t;)i=t._next,t.pg?t.t._roundProps(o,!0):t.n===e&&(this._add(t.t,e,t.s,t.c),i&&(i._prev=t._prev),t._prev?t._prev._next=i:n._firstPT===t&&(n._firstPT=i),t._next=t._prev=null,n._propLookup[e]=s),t=i;return!1},t._add=function(e,t,i,n){this._addTween(e,t,i,i+n,t,!0),this._overwriteProps.push(t)}}(),function(){var e=/(?:\d|\-|\+|=|#|\.)*/g,t=/[A-Za-z%]/g;_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.4.0",init:function(i,n){var r,a,o,s,l;if("function"!=typeof i.setAttribute)return!1;this._target=i,this._proxy={},this._start={},this._end={},this._suffix={};for(r in n)this._start[r]=this._proxy[r]=a=i.getAttribute(r)+"",this._end[r]=o=n[r]+"",this._suffix[r]=s=t.test(o)?o.replace(e,""):t.test(a)?a.replace(e,""):"",s&&(l=o.indexOf(s),-1!==l&&(o=o.substr(0,l))),this._addTween(this._proxy,r,parseFloat(a),o,r)||(this._suffix[r]=""),"="===o.charAt(1)&&(this._end[r]=this._firstPT.s+this._firstPT.c+s),this._overwriteProps.push(r);return!0},set:function(e){this._super.setRatio.call(this,e);for(var t,i=this._overwriteProps,n=i.length,r=1===e?this._end:e?this._proxy:this._start,a=r===this._proxy;--n>-1;)t=i[n],this._target.setAttribute(t,r[t]+(a?this._suffix[t]:""))}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(e,t){"object"!=typeof t&&(t={rotation:t}),this.finals={};var i,n,r,a,o,s,l=t.useRadians===!0?2*Math.PI:360,u=1e-6;for(i in t)"useRadians"!==i&&(s=(t[i]+"").split("_"),n=s[0],r=parseFloat("function"!=typeof e[i]?e[i]:e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]()),a=this.finals[i]="string"==typeof n&&"="===n.charAt(1)?r+parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)):Number(n)||0,o=a-r,s.length&&(n=s.join("_"),-1!==n.indexOf("short")&&(o%=l,o!==o%(l/2)&&(o=0>o?o+l:o-l)),-1!==n.indexOf("_cw")&&0>o?o=(o+9999999999*l)%l-(0|o/l)*l:-1!==n.indexOf("ccw")&&o>0&&(o=(o-9999999999*l)%l-(0|o/l)*l)),(o>u||-u>o)&&(this._addTween(e,i,r,r+o,i),this._overwriteProps.push(i)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,n,r=_gsScope.GreenSockGlobals||_gsScope,a=r.com.greensock,o=2*Math.PI,s=Math.PI/2,l=a._class,u=function(t,i){var n=l("easing."+t,function(){},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,n},c=e.register||function(){},h=function(e,t,i,n){var r=l("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return c(r,e),r},d=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},p=function(t,i){var n=l("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new e;return r.constructor=n,r.getRatio=i,r.config=function(e){return new n(e)},n},f=h("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=l("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),v=m.prototype=new e;return v.constructor=m,v.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),v.config=m.config=function(e,t,i){return new m(e,t,i)},t=l("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),v=t.prototype=new e,v.constructor=t,v.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},v.config=t.config=function(e){return new t(e)},i=l("easing.RoughEase",function(t){t=t||{};for(var i,n,r,a,o,s,l=t.taper||"none",u=[],c=0,h=0|(t.points||20),p=h,f=t.randomize!==!1,m=t.clamp===!0,v=t.template instanceof e?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)i=f?Math.random():1/h*p,n=v?v.getRatio(i):i,"none"===l?r=g:"out"===l?(a=1-i,r=a*a*g):"in"===l?r=i*i*g:.5>i?(a=2*i,r=.5*a*a*g):(a=2*(1-i),r=.5*a*a*g),f?n+=Math.random()*r-.5*r:p%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:0>n&&(n=0)),u[c++]={x:i,y:n};for(u.sort(function(e,t){return e.x-t.x}),s=new d(1,1,null),p=h;--p>-1;)o=u[p],s=new d(o.x,o.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),v=i.prototype=new e,v.constructor=i,v.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},v.config=function(e){return new i(e)},i.ease=new i,h("Bounce",u("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),h("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),n=function(t,i,n){var r=l("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(1>e?e:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),a=r.prototype=new e;return a.constructor=r,a.getRatio=i,a.config=function(e,t){return new r(e,t)},r},h("Elastic",n("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),n("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),n("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)+1},.45)),h("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),h("Sine",u("SineOut",function(e){return Math.sin(e*s)}),u("SineIn",function(e){return-Math.cos(e*s)+1}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),l("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(t,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e,t){"use strict";var i=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!i.TweenLite){var n,r,a,o,s,l=function(e){var t,n=e.split("."),r=i;for(t=0;n.length>t;t++)r[n[t]]=r=r[n[t]]||{};return r},u=l("com.greensock"),c=1e-10,h=function(e){var t,i=[],n=e.length;for(t=0;t!==n;i.push(e[t++]));return i},d=function(){},p=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),f={},m=function(n,r,a,o){this.sc=f[n]?f[n].sc:[],f[n]=this,this.gsClass=null,this.func=a;var s=[];this.check=function(u){for(var c,h,d,p,v=r.length,g=v;--v>-1;)(c=f[r[v]]||new m(r[v],[])).gsClass?(s[v]=c.gsClass,g--):u&&c.sc.push(this);if(0===g&&a)for(h=("com.greensock."+n).split("."),d=h.pop(),p=l(h.join("."))[d]=this.gsClass=a.apply(a,s),o&&(i[d]=p,"function"==typeof define&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return p}):n===t&&"undefined"!=typeof module&&module.exports&&(module.exports=p)),v=0;this.sc.length>v;v++)this.sc[v].check()},this.check(!0)},v=e._gsDefine=function(e,t,i,n){return new m(e,t,i,n)},g=u._class=function(e,t,i){return t=t||function(){},v(e,[],function(){return t},i),t};v.globals=i;var y=[0,0,1,1],_=[],b=g("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?y.concat(t):y},!0),x=b.map={},w=b.register=function(e,t,i,n){for(var r,a,o,s,l=t.split(","),c=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(a=l[c],r=n?g("easing."+a,null,!0):u.easing[a]||{},o=h.length;--o>-1;)s=h[o],x[a+"."+s]=x[s+a]=r[s]=e.getRatio?e:e[s]||new e};for(a=b.prototype,a._calcEnd=!1,a.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:.5>e?n/2:1-n/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=n.length;--r>-1;)a=n[r]+",Power"+r,w(new b(null,null,1,r),a,"easeOut",!0),w(new b(null,null,2,r),a,"easeIn"+(0===r?",easeNone":"")),w(new b(null,null,3,r),a,"easeInOut");x.linear=u.easing.Linear.easeIn,x.swing=u.easing.Quad.easeInOut;var T=g("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});a=T.prototype,a.addEventListener=function(e,t,i,n,r){r=r||0;var a,l,u=this._listeners[e],c=0;for(null==u&&(this._listeners[e]=u=[]),l=u.length;--l>-1;)a=u[l],a.c===t&&a.s===i?u.splice(l,1):0===c&&r>a.pr&&(c=l+1);u.splice(c,0,{c:t,s:i,up:n,pr:r}),this!==o||s||o.wake()},a.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},a.dispatchEvent=function(e){var t,i,n,r=this._listeners[e];if(r)for(t=r.length,i=this._eventTarget;--t>-1;)n=r[t],n&&(n.up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i))};var E=e.requestAnimationFrame,M=e.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},C=S();for(n=["ms","moz","webkit","o"],r=n.length;--r>-1&&!E;)E=e[n[r]+"RequestAnimationFrame"],M=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];g("Ticker",function(e,t){var i,n,r,a,l,u=this,h=S(),p=t!==!1&&E,f=500,m=33,v="tick",g=function(e){var t,o,s=S()-C;s>f&&(h+=s-m),C+=s,u.time=(C-h)/1e3,t=u.time-l,(!i||t>0||e===!0)&&(u.frame++,l+=t+(t>=a?.004:a-t),o=!0),e!==!0&&(r=n(g)),o&&u.dispatchEvent(v)};T.call(u),u.time=u.frame=0,u.tick=function(){g(!0)},u.lagSmoothing=function(e,t){f=e||1/c,m=Math.min(t,f,0)},u.sleep=function(){null!=r&&(p&&M?M(r):clearTimeout(r),n=d,r=null,u===o&&(s=!1))},u.wake=function(){null!==r?u.sleep():u.frame>10&&(C=S()-f+5),n=0===i?d:p&&E?E:function(e){return setTimeout(e,0|1e3*(l-u.time)+1)},u===o&&(s=!0),g(2)},u.fps=function(e){return arguments.length?(i=e,a=1/(i||60),l=this.time+a,void u.wake()):i},u.useRAF=function(e){return arguments.length?(u.sleep(),p=e,void u.fps(i)):p},u.fps(e),setTimeout(function(){p&&5>u.frame&&u.useRAF(!1)},1500)}),a=u.Ticker.prototype=new u.events.EventDispatcher,a.constructor=u.Ticker;var A=g("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,G){s||o.wake();var i=this.vars.useFrames?H:G;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});o=A.ticker=new u.Ticker,a=A.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1;var P=function(){s&&S()-C>2e3&&o.wake(),setTimeout(P,2e3)};P(),a.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},a.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},a.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},a.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},a.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},a.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},a.render=function(){},a.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},a.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},a._enabled=function(e,t){return s||o.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(){return this._enabled(!1,!1)},a.kill=function(e,t){return this._kill(e,t),this},a._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},a._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},a._callback=function(e){var t=this.vars;t[e].apply(t[e+"Scope"]||t.callbackScope||this,t[e+"Params"]||_)},a.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},a.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},a.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},a.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},a.totalTime=function(e,t,i){if(s||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(e>n&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(this.render(e,t,!1),D.length&&W())}return this},a.progress=a.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},a.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},a.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},a.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||c,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},a.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},a.paused=function(e){if(!arguments.length)return this._paused;var t,i,n=this._timeline;return e!=this._paused&&n&&(s||e||o.wake(),t=n.rawTime(),i=t-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&this.render(n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,!0,!0)),this._gc&&!e&&this._enabled(!0,!1),this};var O=g("core.SimpleTimeline",function(e){A.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});a=O.prototype=new A,a.constructor=O,a.kill()._gc=!1,a._first=a._last=a._recent=null,a._sortChildren=!1,a.add=a.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},a._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},a.render=function(e,t,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)n=r._next,(r._active||e>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=n},a.rawTime=function(){return s||o.wake(),this._totalTime};var L=g("TweenLite",function(t,i,n){if(A.call(this,i,n),this.render=L.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:L.selector(t)||t;var r,a,o,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?j[L.defaultOverwrite]:"number"==typeof l?l>>0:j[l],(s||t instanceof Array||t.push&&p(t))&&"number"!=typeof t[0])for(this._targets=o=h(t),this._propLookup=[],this._siblings=[],r=0;o.length>r;r++)a=o[r],a?"string"!=typeof a?a.length&&a!==e&&a[0]&&(a[0]===e||a[0].nodeType&&a[0].style&&!a.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(h(a))):(this._siblings[r]=$(a,this,!1),1===l&&this._siblings[r].length>1&&q(a,this,null,1,this._siblings[r])):(a=o[r--]=L.selector(a),"string"==typeof a&&o.splice(r+1,1)):o.splice(r--,1);else this._propLookup={},this._siblings=$(t,this,!1),1===l&&this._siblings.length>1&&q(t,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-c,this.render(-this._delay))},!0),R=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},k=function(e,t){var i,n={};for(i in e)U[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!N[i]||N[i]&&N[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n};a=L.prototype=new A,a.constructor=L,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=a._lazy=!1,L.version="1.17.0",L.defaultEase=a._ease=new b(null,null,1,1),L.defaultOverwrite="auto",L.ticker=o,L.autoSleep=120,L.lagSmoothing=function(e,t){o.lagSmoothing(e,t)},L.selector=e.$||e.jQuery||function(t){var i=e.$||e.jQuery;return i?(L.selector=i,i(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var D=[],I={},z=L._internals={isArray:p,isSelector:R,lazyTweens:D},N=L._plugins={},B=z.tweenLookup={},F=0,U=z.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},j={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},H=A._rootFramesTimeline=new O,G=A._rootTimeline=new O,V=30,W=z.lazyRender=function(){var e,t=D.length;for(I={};--t>-1;)e=D[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);D.length=0};G._startTime=o.time,H._startTime=o.frame,G._active=H._active=!0,setTimeout(W,1),A._updateRoot=L.render=function(){var e,t,i;if(D.length&&W(),G.render((o.time-G._startTime)*G._timeScale,!1,!1),H.render((o.frame-H._startTime)*H._timeScale,!1,!1),D.length&&W(),o.frame>=V){V=o.frame+(parseInt(L.autoSleep,10)||120);for(i in B){for(t=B[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete B[i]}if(i=G._first,(!i||i._paused)&&L.autoSleep&&!H._first&&1===o._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||o.sleep()}}},o.addEventListener("tick",A._updateRoot);var $=function(e,t,i){var n,r,a=e._gsTweenID;if(B[a||(e._gsTweenID=a="t"+F++)]||(B[a]={target:e,tweens:[]}),t&&(n=B[a].tweens,n[r=n.length]=t,i))for(;--r>-1;)n[r]===t&&n.splice(r,1);return B[a].tweens},X=function(e,t,i,n){var r,a,o=e.vars.onOverwrite;return o&&(r=o(e,t,i,n)),o=L.onOverwrite,o&&(a=o(e,t,i,n)),r!==!1&&a!==!1},q=function(e,t,i,n,r){var a,o,s,l;if(1===n||n>=4){for(l=r.length,a=0;l>a;a++)if((s=r[a])!==t)s._gc||s._kill(null,e,t)&&(o=!0);else if(5===n)break;return o}var u,h=t._startTime+c,d=[],p=0,f=0===t._duration;for(a=r.length;--a>-1;)(s=r[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||Y(t,0,f),0===Y(s,u,f)&&(d[p++]=s)):h>=s._startTime&&s._startTime+s.totalDuration()/s._timeScale>h&&((f||!s._initted)&&2e-10>=h-s._startTime||(d[p++]=s)));for(a=p;--a>-1;)if(s=d[a],2===n&&s._kill(i,e,t)&&(o=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!X(s,t))continue;s._enabled(!1,!1)&&(o=!0)}return o},Y=function(e,t,i){for(var n=e._timeline,r=n._timeScale,a=e._startTime;n._timeline;){if(a+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return a/=r,a>t?a-t:i&&a===t||!e._initted&&2*c>a-t?c:(a+=e.totalDuration()/e._timeScale/r)>t+c?0:a-t-c};a._init=function(){var e,t,i,n,r,a=this.vars,o=this._overwrittenProps,s=this._duration,l=!!a.immediateRender,u=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in a.startAt)r[n]=a.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&a.lazy!==!1,r.startAt=r.delay=null,this._startAt=L.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==s)return}else if(a.runBackwards&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in a)U[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&a.lazy!==!1,i.immediateRender=l,this._startAt=L.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof b?u:"function"==typeof u?new b(u,a.easeParams):x[u]||L.defaultEase:L.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],o?o[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,o);if(t&&L._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},a._initProps=function(t,i,n,r){var a,o,s,l,u,c;if(null==t)return!1;I[t._gsTweenID]&&W(),this.vars.css||t.style&&t!==e&&t.nodeType&&N.css&&this.vars.autoCSS!==!1&&k(this.vars,t);for(a in this.vars){if(c=this.vars[a],U[a])c&&(c instanceof Array||c.push&&p(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[a]=c=this._swapSelfInParams(c,this));else if(N[a]&&(l=new N[a])._onInitTween(t,this.vars[a],this)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:a,pg:!0,pr:l._priority},o=l._overwriteProps.length;--o>-1;)i[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(s=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[a]=u={_next:this._firstPT,
t:t,p:a,f:"function"==typeof t[a],n:a,pg:!1,pr:0},u.s=u.f?t[a.indexOf("set")||"function"!=typeof t["get"+a.substr(3)]?a:"get"+a.substr(3)]():parseFloat(t[a]),u.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-u.s||0;u&&u._next&&(u._next._prev=u)}return r&&this._kill(r,t)?this._initProps(t,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&q(t,this,i,this._overwrite,n)?(this._kill(i,t),this._initProps(t,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(I[t._gsTweenID]=!0),s)},a.render=function(e,t,i){var n,r,a,o,s=this._time,l=this._duration,u=this._rawPrevTime;if(e>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>u||u===c&&"isPause"!==this.data)&&u!==e&&(i=!0,u>c&&(r="onReverseComplete")),this._rawPrevTime=o=!t||e||u===e?e:c);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&u>0)&&(r="onReverseComplete",n=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(u!==c||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=o=!t||e||u===e?e:c)),this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var h=e/l,d=this._easeType,p=this._easePower;(1===d||3===d&&h>=.5)&&(h=1-h),3===d&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),this.ratio=1===d?1-h:2===d?h:.5>e/l?h/2:1-h/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=u,D.push(this),void(this._lazy=[e,t]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>e&&this._startAt&&e!==-1e-4&&this._startAt.render(e,t,i),t||(this._time!==s||n)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===c&&o!==c&&(this._rawPrevTime=0))}},a._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:L.selector(t)||t;var n,r,a,o,s,l,u,c,h,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((p(t)||R(t))&&"number"!=typeof t[0])for(n=t.length;--n>-1;)this._kill(e,t[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(t===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(u=e||s,c=e!==r&&"all"!==r&&e!==s&&("object"!=typeof e||!e._tempKill),i&&(L.onOverwrite||this.vars.onOverwrite)){for(a in u)s[a]&&(h||(h=[]),h.push(a));if((h||!e)&&!X(this,i,t,h))return!1}for(a in u)(o=s[a])&&(d&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(u)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete s[a]),c&&(r[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},a.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],A.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-c,this.render(-this._delay)),this},a._enabled=function(e,t){if(s||o.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=$(n[i],this,!0);else this._siblings=$(this.target,this,!0)}return A.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(e?"_onEnable":"_onDisable",this)},L.to=function(e,t,i){return new L(e,t,i)},L.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new L(e,t,i)},L.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new L(e,t,n)},L.delayedCall=function(e,t,i,n,r){return new L(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},L.set=function(e,t){return new L(e,0,t)},L.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:L.selector(e)||e;var i,n,r,a;if((p(e)||R(e))&&"number"!=typeof e[0]){for(i=e.length,n=[];--i>-1;)n=n.concat(L.getTweensOf(e[i],t));for(i=n.length;--i>-1;)for(a=n[i],r=i;--r>-1;)a===n[r]&&n.splice(i,1)}else for(n=$(e).concat(),i=n.length;--i>-1;)(n[i]._gc||t&&!n[i].isActive())&&n.splice(i,1);return n},L.killTweensOf=L.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var n=L.getTweensOf(e,t),r=n.length;--r>-1;)n[r]._kill(i,e)};var Z=g("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=Z.prototype},!0);if(a=Z.prototype,Z.version="1.10.1",Z.API=2,a._firstPT=null,a._addTween=function(e,t,i,n,r,a){var o,s;return null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-Number(i):parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:e,p:t,s:i,c:o,f:"function"==typeof e[t],n:r||t,r:a},s._next&&(s._next._prev=s),s):void 0},a.setRatio=function(e){for(var t,i=this._firstPT,n=1e-6;i;)t=i.c*e+i.s,i.r?t=Math.round(t):n>t&&t>-n&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},a._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},L._onPluginEvent=function(e,t){var i,n,r,a,o,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(o=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:a=s,s=o}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(i=!0),s=s._next;return i},Z.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===Z.API&&(N[(new e[t])._propName]=e[t]);return!0},v.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,r=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=g("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Z.call(this,i,n),this._overwriteProps=r||[]},e.global===!0),s=o.prototype=new Z(i);s.constructor=o,o.API=e.API;for(t in a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return o.version=e.version,Z.activate([o]),o},n=e._gsQueue){for(r=0;n.length>r;r++)n[r]();for(a in f)f[a].func||e.console.log("GSAP encountered missing dependency: com.greensock."+a)}s=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");/*!
 * VERSION: 0.1.0
 * DATE: 2016-07-12
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * DrawSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function e(e,t,i,n){return i=parseFloat(i)-parseFloat(e),n=parseFloat(n)-parseFloat(t),Math.sqrt(i*i+n*n)}function t(e){return"string"!=typeof e&&e.nodeType||(e=_gsScope.TweenLite.selector(e),e.length&&(e=e[0])),e}function i(e,t,i){var n,r,a=e.indexOf(" ");return-1===a?(n=void 0!==i?i+"":e,r=e):(n=e.substr(0,a),r=e.substr(a+1)),n=-1!==n.indexOf("%")?parseFloat(n)/100*t:parseFloat(n),r=-1!==r.indexOf("%")?parseFloat(r)/100*t:parseFloat(r),n>r?[r,n]:[n,r]}function n(i){if(!i)return 0;i=t(i);var n,r,a,o,l,u,c,h=i.tagName.toLowerCase();if("path"===h){o=i.style.strokeDasharray,i.style.strokeDasharray="none",n=i.getTotalLength()||0;try{r=i.getBBox()}catch(d){}i.style.strokeDasharray=o}else if("rect"===h)n=2*i.getAttribute("width")+2*i.getAttribute("height");else if("circle"===h)n=2*Math.PI*parseFloat(i.getAttribute("r"));else if("line"===h)n=e(i.getAttribute("x1"),i.getAttribute("y1"),i.getAttribute("x2"),i.getAttribute("y2"));else if("polyline"===h||"polygon"===h)for(a=i.getAttribute("points").match(s)||[],"polygon"===h&&a.push(a[0],a[1]),n=0,l=2;l<a.length;l+=2)n+=e(a[l-2],a[l-1],a[l],a[l+1])||0;else"ellipse"===h&&(u=parseFloat(i.getAttribute("rx")),c=parseFloat(i.getAttribute("ry")),n=Math.PI*(3*(u+c)-Math.sqrt((3*u+c)*(u+3*c))));return n||0}function r(e,i){if(!e)return[0,0];e=t(e),i=i||n(e)+1;var r=o(e),a=r.strokeDasharray||"",s=parseFloat(r.strokeDashoffset),l=a.indexOf(",");return 0>l&&(l=a.indexOf(" ")),a=0>l?i:parseFloat(a.substr(0,l))||1e-5,a>i&&(a=i),[Math.max(0,-s),Math.max(0,a-s)]}var a,o=document.defaultView?document.defaultView.getComputedStyle:function(){},s=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi;a=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.1.0",global:!0,overwriteProps:["drawSVG"],init:function(e,t,a,o){if(!e.getBBox)return!1;var s,l,u,c=n(e)+1;return this._style=e.style,"function"==typeof t&&(t=t(o,e)),t===!0||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",s=r(e,c),l=i(t,c,s[0]),this._length=c+10,0===s[0]&&0===l[0]?(u=Math.max(1e-5,l[1]-c),this._dash=c+u,this._offset=c-s[1]+u,this._addTween(this,"_offset",this._offset,c-l[1]+u,"drawSVG")):(this._dash=s[1]-s[0]||1e-6,this._offset=-s[0],this._addTween(this,"_dash",this._dash,l[1]-l[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-l[0],"drawSVG")),!0},set:function(e){this._firstPT&&(this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,1===e||0===e?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),a.getLength=n,a.getPosition=r}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("DrawSVGPlugin");/*!
 * VERSION: 0.2.1
 * DATE: 2017-01-17
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 *
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.CustomEase",["easing.Ease"],function(e){var t=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,i=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,r=/[cLlsS]/g,a="CustomEase only accepts Cubic Bezier data.",o=function(e,t,i,n,r,a,s,l,u,c,h){var d,p=(e+i)/2,f=(t+n)/2,m=(i+r)/2,v=(n+a)/2,g=(r+s)/2,y=(a+l)/2,_=(p+m)/2,b=(f+v)/2,x=(m+g)/2,w=(v+y)/2,T=(_+x)/2,E=(b+w)/2,M=s-e,S=l-t,C=Math.abs((i-s)*S-(n-l)*M),A=Math.abs((r-s)*S-(a-l)*M);return c||(c=[{x:e,y:t},{x:s,y:l}],h=1),c.splice(h||c.length-1,0,{x:T,y:E}),(C+A)*(C+A)>u*(M*M+S*S)&&(d=c.length,o(e,t,p,f,_,b,T,E,u,c,h),o(T,E,x,w,g,y,s,l,u,c,h+1+(c.length-d))),c},s=function(e){var t,r,o,s,l,u,c,h,d,p,f,m=(e+"").replace(n,function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t}).match(i)||[],v=[],g=0,y=0,_=m.length,b=2;for(t=0;t<_;t++)if(d=s,isNaN(m[t])?(s=m[t].toUpperCase(),l=s!==m[t]):t--,r=+m[t+1],o=+m[t+2],l&&(r+=g,o+=y),t||(c=r,h=o),"M"===s)u&&u.length<8&&(v.length-=1,b=0),g=c=r,y=h=o,u=[r,o],b=2,v.push(u),t+=2,s="L";else if("C"===s)u||(u=[0,0]),u[b++]=r,u[b++]=o,l||(g=y=0),u[b++]=g+1*m[t+3],u[b++]=y+1*m[t+4],u[b++]=g+=1*m[t+5],u[b++]=y+=1*m[t+6],t+=6;else if("S"===s)"C"===d||"S"===d?(p=g-u[b-4],f=y-u[b-3],u[b++]=g+p,u[b++]=y+f):(u[b++]=g,u[b++]=y),u[b++]=r,u[b++]=o,l||(g=y=0),u[b++]=g+=1*m[t+3],u[b++]=y+=1*m[t+4],t+=4;else{if("L"!==s&&"Z"!==s)throw a;"Z"===s&&(r=c,o=h,u.closed=!0),("L"===s||Math.abs(g-r)>.5||Math.abs(y-o)>.5)&&(u[b++]=g+(r-g)/3,u[b++]=y+(o-y)/3,u[b++]=g+2*(r-g)/3,u[b++]=y+2*(o-y)/3,u[b++]=r,u[b++]=o,"L"===s&&(t+=2)),g=r,y=o}return v[0]},l=function(e){var t,i=e.length,n=999999999999;for(t=1;t<i;t+=6)+e[t]<n&&(n=+e[t]);return n},u=function(e,t,i){i||0===i||(i=Math.max(+e[e.length-1],+e[1]));var n,r=+e[0]*-1,a=-i,o=e.length,s=1/(+e[o-2]+r),u=-t||(Math.abs(+e[o-1]-+e[1])<.01*(+e[o-2]-+e[0])?l(e)+a:+e[o-1]+a);for(u=u?1/u:-s,n=0;n<o;n+=2)e[n]=(+e[n]+r)*s,e[n+1]=(+e[n+1]+a)*u},c=function(e){var t=this.lookup[e*this.l|0]||this.lookup[this.l-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},h=function(t,i,n){this._calcEnd=!0,this.id=t,t&&(e.map[t]=this),this.getRatio=c,this.setData(i,n)},d=h.prototype=new e;return d.constructor=h,d.setData=function(e,i){e=e||"0,0,1,1";var n,l,c,h,d,p,f,m,v,g,y=e.match(t),_=1,b=[];if(i=i||{},g=i.precision||1,this.data=e,this.lookup=[],this.points=b,this.fast=g<=1,(r.test(e)||e.indexOf("M")!==-1&&e.indexOf("C")===-1)&&(y=s(e)),n=y.length,4===n)y.unshift(0,0),y.push(1,1),n=8;else if((n-2)%6)throw a;for(0===+y[0]&&1===+y[n-2]||u(y,i.height,i.originY),this.rawBezier=y,h=2;h<n;h+=6)l={x:+y[h-2],y:+y[h-1]},c={x:+y[h+4],y:+y[h+5]},b.push(l,c),o(l.x,l.y,+y[h],+y[h+1],+y[h+2],+y[h+3],c.x,c.y,1/(2e5*g),b,b.length-1);for(n=b.length,h=0;h<n;h++)f=b[h],m=b[h-1]||f,f.x>m.x||m.y!==f.y&&m.x===f.x||f===m?(m.cx=f.x-m.x,m.cy=f.y-m.y,m.n=f,m.nx=f.x,this.fast&&h>1&&Math.abs(m.cy/m.cx-b[h-2].cy/b[h-2].cx)>2&&(this.fast=!1),m.cx<_&&(m.cx?_=m.cx:(m.cx=.001,h===n-1&&(m.x-=.001,_=Math.min(_,.001),this.fast=!1)))):(b.splice(h--,1),n--);if(n=1/_+1|0,this.l=n,d=1/n,p=0,f=b[0],this.fast){for(h=0;h<n;h++)v=h*d,f.nx<v&&(f=b[++p]),l=f.y+(v-f.x)/f.cx*f.cy,this.lookup[h]={x:v,cx:d,y:l,cy:0,nx:9},h&&(this.lookup[h-1].cy=l-this.lookup[h-1].y);this.lookup[n-1].cy=b[b.length-1].y-l}else{for(h=0;h<n;h++)f.nx<h*d&&(f=b[++p]),this.lookup[h]=f;p<b.length-1&&(this.lookup[h-1]=b[b.length-2])}return this._calcEnd=1!==b[b.length-1].y||0!==b[0].y,this},d.getRatio=c,d.getSVGData=function(e){return h.getSVGData(this,e)},h.create=function(e,t,i){return new h(e,t,i)},h.version="0.2.1",h.bezierToPoints=o,h.get=function(t){return e.map[t]},h.getSVGData=function(t,i){i=i||{};var n,r,a,o,s,l,u,c,h,d,p=1e3,f=i.width||100,m=i.height||100,v=i.x||0,g=(i.y||0)+m,y=i.path;if(i.invert&&(m=-m,g=0),t=t.getRatio?t:e.map[t]||void 0,t.rawBezier){for(n=[],u=t.rawBezier.length,a=0;a<u;a+=2)n.push(((v+t.rawBezier[a]*f)*p|0)/p+","+((g+t.rawBezier[a+1]*-m)*p|0)/p);n[0]="M"+n[0],n[1]="C"+n[1]}else for(n=["M"+v+","+g],u=Math.max(5,200*(i.precision||1)),o=1/u,u+=2,c=5/u,h=((v+o*f)*p|0)/p,d=((g+t.getRatio(o)*-m)*p|0)/p,r=(d-g)/(h-v),a=2;a<u;a++)s=((v+a*o*f)*p|0)/p,l=((g+t.getRatio(a*o)*-m)*p|0)/p,(Math.abs((l-d)/(s-h)-r)>c||a===u-1)&&(n.push(h+","+d),r=(l-d)/(s-h)),h=s,d=l;return y&&("string"==typeof y?document.querySelector(y):y).setAttribute("d",n.join(" ")),n.join(" ")},h},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["./TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=t())}("CustomEase"),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function i(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function n(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach(function(r){void 0===e[r]?e[r]=t[r]:i(t[r])&&i(e[r])&&Object.keys(t[r]).length>0&&n(e[r],t[r])})}function r(){var e="undefined"!=typeof document?document:{};return n(e,L),e}function a(){var e="undefined"!=typeof window?window:{};return n(e,R),e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function u(e,t,i){return(u=l()?Reflect.construct:function(e,t,i){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return i&&s(r,i.prototype),r}).apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){function i(){return u(e,arguments,o(this).constructor)}if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,e)})(e)}function h(e){void 0===e&&(e=[]);var t=[];return e.forEach(function(e){Array.isArray(e)?t.push.apply(t,h(e)):t.push(e)}),t}function d(e,t){return Array.prototype.filter.call(e,t)}function p(e,t){var i=a(),n=r(),o=[];if(!t&&e instanceof k)return e;if(!e)return new k(o);if("string"==typeof e){var s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select");var u=n.createElement(l);u.innerHTML=s;for(var c=0;c<u.childNodes.length;c+=1)o.push(u.childNodes[c])}else o=function(e,t){if("string"!=typeof e)return[e];for(var i=[],n=t.querySelectorAll(e),r=0;r<n.length;r+=1)i.push(n[r]);return i}(e.trim(),t||n)}else if(e.nodeType||e===i||e===n)o.push(e);else if(Array.isArray(e)){if(e instanceof k)return e;o=e}return new k(function(e){for(var t=[],i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(o))}function f(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function m(){return Date.now()}function v(e,t){void 0===t&&(t="x");var i,n,r,o=a(),s=function(e){var t,i=a();return i.getComputedStyle&&(t=i.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return o.WebKitCSSMatrix?((n=s.transform||s.webkitTransform).split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new o.WebKitCSSMatrix("none"===n?"":n)):i=(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=o.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(n=o.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),n||0}function g(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function y(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],i=1;i<arguments.length;i+=1){var n=i<0||arguments.length<=i?void 0:arguments[i];if(null!=n)for(var r=Object.keys(Object(n)).filter(function(e){return t.indexOf(e)<0}),a=0,o=r.length;a<o;a+=1){var s=r[a],l=Object.getOwnPropertyDescriptor(n,s);void 0!==l&&l.enumerable&&(g(e[s])&&g(n[s])?n[s].__swiper__?e[s]=n[s]:y(e[s],n[s]):!g(e[s])&&g(n[s])?(e[s]={},n[s].__swiper__?e[s]=n[s]:y(e[s],n[s])):e[s]=n[s])}}return e}function _(e,t){Object.keys(t).forEach(function(i){g(t[i])&&Object.keys(t[i]).forEach(function(n){"function"==typeof t[i][n]&&(t[i][n]=t[i][n].bind(e))}),e[i]=t[i]})}function b(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:\/])/g,"\\$1").replace(/ /g,".")}function x(){return D||(D=function(){var e=a(),t=r();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});i.addEventListener("testPassiveListener",null,t)}catch(i){}return e}(),gestures:"ongesturestart"in e}}()),D}function w(e){return void 0===e&&(e={}),I||(I=function(e){var t=(void 0===e?{}:e).userAgent,i=x(),n=a(),r=n.navigator.platform,o=t||n.navigator.userAgent,s={ios:!1,android:!1},l=n.screen.width,u=n.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/),h=o.match(/(iPad).*OS\s([\d_]+)/),d=o.match(/(iPod)(.*OS\s([\d_]+))?/),p=!h&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===r,m="MacIntel"===r;return!h&&m&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(l+"x"+u)>=0&&((h=o.match(/(Version)\/([\d.]+)/))||(h=[0,1,"13_0_0"]),m=!1),c&&!f&&(s.os="android",s.android=!0),(h||p||d)&&(s.os="ios",s.ios=!0),s}(e)),I}function T(){return z||(z=function(){var e,t=a();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),z}function E(e){var t=this,i=r(),n=a(),o=t.touchEventsData,s=t.params,l=t.touches;if(!t.animating||!s.preventInteractionOnTransition){var u=e;u.originalEvent&&(u=u.originalEvent);var c=p(u.target);if(("wrapper"!==s.touchEventsTarget||c.closest(t.wrapperEl).length)&&(o.isTouchEvent="touchstart"===u.type,(o.isTouchEvent||!("which"in u)||3!==u.which)&&!(!o.isTouchEvent&&"button"in u&&u.button>0||o.isTouched&&o.isMoved)))if(!!s.noSwipingClass&&""!==s.noSwipingClass&&u.target&&u.target.shadowRoot&&e.path&&e.path[0]&&(c=p(e.path[0])),s.noSwiping&&c.closest(s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass)[0])t.allowClick=!0;else if(!s.swipeHandler||c.closest(s.swipeHandler)[0]){l.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,l.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;var h=l.currentX,d=l.currentY,f=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,v=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(f&&(h<=v||h>=n.innerWidth-v)){if("prevent"!==f)return;e.preventDefault()}if(y(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=h,l.startY=d,o.touchStartTime=m(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==u.type){var g=!0;c.is(o.formElements)&&(g=!1),i.activeElement&&p(i.activeElement).is(o.formElements)&&i.activeElement!==c[0]&&i.activeElement.blur();var _=g&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!_||c[0].isContentEditable||u.preventDefault()}t.emit("touchStart",u)}}}function M(e){var t=r(),i=this,n=i.touchEventsData,a=i.params,o=i.touches,s=i.rtlTranslate,l=e;if(l.originalEvent&&(l=l.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===l.type){var u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c="touchmove"===l.type?u.pageX:l.pageX,h="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return o.startX=c,void(o.startY=h);if(!i.allowTouchMove)return i.allowClick=!1,void(n.isTouched&&(y(o,{startX:c,startY:h,currentX:c,currentY:h}),n.touchStartTime=m()));if(n.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(i.isVertical()){if(h<o.startY&&i.translate<=i.maxTranslate()||h>o.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(c<o.startX&&i.translate<=i.maxTranslate()||c>o.startX&&i.translate>=i.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&p(l.target).is(n.formElements))return n.isMoved=!0,void(i.allowClick=!1);if(n.allowTouchCallbacks&&i.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){o.currentX=c,o.currentY=h;var d=o.currentX-o.startX,f=o.currentY-o.startY;if(!(i.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(f,2))<i.params.threshold)){var v;if(void 0===n.isScrolling&&(i.isHorizontal()&&o.currentY===o.startY||i.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:d*d+f*f>=25&&(v=180*Math.atan2(Math.abs(f),Math.abs(d))/Math.PI,n.isScrolling=i.isHorizontal()?v>a.touchAngle:90-v>a.touchAngle)),n.isScrolling&&i.emit("touchMoveOpposite",l),void 0===n.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){i.allowClick=!1,!a.cssMode&&l.cancelable&&l.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&l.stopPropagation(),n.isMoved||(a.loop&&i.loopFix(),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!a.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",l)),i.emit("sliderMove",l),n.isMoved=!0;var g=i.isHorizontal()?d:f;o.diff=g,g*=a.touchRatio,s&&(g=-g),i.swipeDirection=g>0?"prev":"next",n.currentTranslate=g+n.startTranslate;var _=!0,b=a.resistanceRatio;if(a.touchReleaseOnEdges&&(b=0),g>0&&n.currentTranslate>i.minTranslate()?(_=!1,a.resistance&&(n.currentTranslate=i.minTranslate()-1+Math.pow(-i.minTranslate()+n.startTranslate+g,b))):g<0&&n.currentTranslate<i.maxTranslate()&&(_=!1,a.resistance&&(n.currentTranslate=i.maxTranslate()+1-Math.pow(i.maxTranslate()-n.startTranslate-g,b))),_&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.allowSlidePrev||i.allowSlideNext||(n.currentTranslate=n.startTranslate),a.threshold>0){if(!(Math.abs(g)>a.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,void(o.diff=i.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}a.followFinger&&!a.cssMode&&((a.freeMode||a.watchSlidesProgress||a.watchSlidesVisibility)&&(i.updateActiveIndex(),i.updateSlidesClasses()),a.freeMode&&(0===n.velocities.length&&n.velocities.push({position:o[i.isHorizontal()?"startX":"startY"],time:n.touchStartTime}),n.velocities.push({position:o[i.isHorizontal()?"currentX":"currentY"],time:m()})),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}}}}}else n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",l)}function S(e){var t=this,i=t.touchEventsData,n=t.params,r=t.touches,a=t.rtlTranslate,o=t.$wrapperEl,s=t.slidesGrid,l=t.snapGrid,u=e;if(u.originalEvent&&(u=u.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",u),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&n.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);n.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var c,h=m(),d=h-i.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(u),t.emit("tap click",u),d<300&&h-i.lastClickTime<300&&t.emit("doubleTap doubleClick",u)),i.lastClickTime=m(),f(function(){t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||0===r.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,c=n.followFinger?a?t.translate:-t.translate:-i.currentTranslate,!n.cssMode)if(n.freeMode){if(c<-t.minTranslate())return void t.slideTo(t.activeIndex);if(c>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(n.freeModeMomentum){if(i.velocities.length>1){var p=i.velocities.pop(),v=i.velocities.pop(),g=p.position-v.position,y=p.time-v.time;t.velocity=g/y,t.velocity/=2,Math.abs(t.velocity)<n.freeModeMinimumVelocity&&(t.velocity=0),(y>150||m()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=n.freeModeMomentumVelocityRatio,i.velocities.length=0;var _=1e3*n.freeModeMomentumRatio,b=t.velocity*_,x=t.translate+b;a&&(x=-x);var w,T,E=!1,M=20*Math.abs(t.velocity)*n.freeModeMomentumBounceRatio;if(x<t.maxTranslate())n.freeModeMomentumBounce?(x+t.maxTranslate()<-M&&(x=t.maxTranslate()-M),w=t.maxTranslate(),E=!0,i.allowMomentumBounce=!0):x=t.maxTranslate(),n.loop&&n.centeredSlides&&(T=!0);else if(x>t.minTranslate())n.freeModeMomentumBounce?(x-t.minTranslate()>M&&(x=t.minTranslate()+M),w=t.minTranslate(),E=!0,i.allowMomentumBounce=!0):x=t.minTranslate(),n.loop&&n.centeredSlides&&(T=!0);else if(n.freeModeSticky){for(var S,C=0;C<l.length;C+=1)if(l[C]>-x){S=C;break}x=-(x=Math.abs(l[S]-x)<Math.abs(l[S-1]-x)||"next"===t.swipeDirection?l[S]:l[S-1])}if(T&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity){if(_=a?Math.abs((-x-t.translate)/t.velocity):Math.abs((x-t.translate)/t.velocity),n.freeModeSticky){var A=Math.abs((a?-x:x)-t.translate),P=t.slidesSizesGrid[t.activeIndex];_=A<P?n.speed:A<2*P?1.5*n.speed:2.5*n.speed}}else if(n.freeModeSticky)return void t.slideToClosest();n.freeModeMomentumBounce&&E?(t.updateProgress(w),t.setTransition(_),t.setTranslate(x),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&i.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(n.speed),setTimeout(function(){t.setTranslate(w),o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(t.updateProgress(x),t.setTransition(_),t.setTranslate(x),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(x)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(n.freeModeSticky)return void t.slideToClosest();n.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!n.freeModeMomentum||d>=n.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var O=0,L=t.slidesSizesGrid[0],R=0;R<s.length;R+=R<n.slidesPerGroupSkip?1:n.slidesPerGroup){var k=R<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==s[R+k]?c>=s[R]&&c<s[R+k]&&(O=R,L=s[R+k]-s[R]):c>=s[R]&&(O=R,L=s[s.length-1]-s[s.length-2])}var D=(c-s[O])/L,I=O<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(d>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(D>=n.longSwipesRatio?t.slideTo(O+I):t.slideTo(O)),"prev"===t.swipeDirection&&(D>1-n.longSwipesRatio?t.slideTo(O+I):t.slideTo(O))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||u.target!==t.navigation.nextEl&&u.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(O+I),"prev"===t.swipeDirection&&t.slideTo(O)):u.target===t.navigation.nextEl?t.slideTo(O+I):t.slideTo(O)}}}function C(){var e=this,t=e.params,i=e.el;if(!i||0!==i.offsetWidth){t.breakpoints&&e.setBreakpoint();var n=e.allowSlideNext,r=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=r,e.allowSlideNext=n,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function A(e){var t=this;t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function P(){var e=this,t=e.wrapperEl,i=e.rtlTranslate;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=i?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var n=e.maxTranslate()-e.minTranslate();(0===n?0:(e.translate-e.minTranslate())/n)!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function O(){}var L={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}},R={document:L,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}},k=function(e){function t(t){var i,n,r;return i=e.call.apply(e,[this].concat(t))||this,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),r=n.__proto__,Object.defineProperty(n,"__proto__",{get:function(){return r},set:function(e){r.__proto__=e}}),i}var i,n;return n=e,(i=t).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n,t}(c(Array));p.fn=k.prototype;var D,I,z,N={addClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=h(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).add.apply(t,n)}),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=h(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).remove.apply(t,n)}),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=h(t.map(function(e){return e.split(" ")}));return d(this,function(e){return n.filter(function(t){return e.classList.contains(t)}).length>0}).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=h(t.map(function(e){return e.split(" ")}));this.forEach(function(e){n.forEach(function(t){e.classList.toggle(t)})})},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(var n in e)this[i][n]=e[n],this[i].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){function e(e){var t=e.target;if(t){var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),p(t).is(o))s.apply(t,i);else for(var n=p(t).parents(),r=0;r<n.length;r+=1)p(n[r]).is(o)&&s.apply(n[r],i)}}function t(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=n[0],o=n[1],s=n[2],l=n[3];"function"==typeof n[1]&&(a=n[0],s=n[1],l=n[2],o=void 0),l||(l=!1);for(var u,c=a.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(o)for(u=0;u<c.length;u+=1){var f=c[u];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[f]||(d.dom7LiveListeners[f]=[]),d.dom7LiveListeners[f].push({listener:s,proxyListener:e}),d.addEventListener(f,e,l)}else for(u=0;u<c.length;u+=1){var m=c[u];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[m]||(d.dom7Listeners[m]=[]),d.dom7Listeners[m].push({listener:s,proxyListener:t}),d.addEventListener(m,t,l)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0],r=t[1],a=t[2],o=t[3];"function"==typeof t[1]&&(n=t[0],a=t[1],o=t[2],r=void 0),o||(o=!1);for(var s=n.split(" "),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var h=this[c],d=void 0;if(!r&&h.dom7Listeners?d=h.dom7Listeners[u]:r&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[u]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var f=d[p];a&&f.listener===a||a&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===a?(h.removeEventListener(u,f.proxyListener,o),d.splice(p,1)):a||(h.removeEventListener(u,f.proxyListener,o),d.splice(p,1))}}return this},trigger:function(){for(var e=a(),t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(var r=i[0].split(" "),o=i[1],s=0;s<r.length;s+=1)for(var l=r[s],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var h=new e.CustomEvent(l,{detail:o,bubbles:!0,cancelable:!0});c.dom7EventData=i.filter(function(e,t){return t>0}),c.dispatchEvent(h),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",function i(n){n.target===this&&(e.call(this,n),t.off("transitionend",i))}),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=a();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=a(),t=r(),i=this[0],n=i.getBoundingClientRect(),o=t.body,s=i.clientTop||o.clientTop||0,l=i.clientLeft||o.clientLeft||0,u=i===e?e.scrollY:i.scrollTop,c=i===e?e.scrollX:i.scrollLeft;return{top:n.top+u-s,left:n.left+c-l}}return null},css:function(e,t){var i,n=a();if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(var r in e)this[i].style[r]=e[r];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(function(t,i){e.apply(t,[t,i])}),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,i,n=a(),o=r(),s=this[0];if(!s||void 0===e)return!1;if("string"==typeof e){if(s.matches)return s.matches(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);for(t=p(e),i=0;i<t.length;i+=1)if(t[i]===s)return!0;return!1}if(e===o)return s===o;if(e===n)return s===n;if(e.nodeType||e instanceof k){for(t=e.nodeType?[e]:e,i=0;i<t.length;i+=1)if(t[i]===s)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return p([]);if(e<0){var i=t+e;return p(i<0?[]:[this[i]])}return p([this[e]])},append:function(){for(var e,t=r(),i=0;i<arguments.length;i+=1){e=i<0||arguments.length<=i?void 0:arguments[i];for(var n=0;n<this.length;n+=1)if("string"==typeof e){var a=t.createElement("div");for(a.innerHTML=e;a.firstChild;)this[n].appendChild(a.firstChild)}else if(e instanceof k)for(var o=0;o<e.length;o+=1)this[n].appendChild(e[o]);else this[n].appendChild(e)}return this},prepend:function(e){var t,i,n=r();for(t=0;t<this.length;t+=1)if("string"==typeof e){var a=n.createElement("div");for(a.innerHTML=e,i=a.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(a.childNodes[i],this[t].childNodes[0])}else if(e instanceof k)for(i=0;i<e.length;i+=1)this[t].insertBefore(e[i],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return p(this.length>0?e?this[0].nextElementSibling&&p(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],i=this[0];if(!i)return p([]);for(;i.nextElementSibling;){var n=i.nextElementSibling;e?p(n).is(e)&&t.push(n):t.push(n),i=n}return p(t)},prev:function(e){if(this.length>0){var t=this[0];return p(e?t.previousElementSibling&&p(t.previousElementSibling).is(e)?[t.previousElementSibling]:[]:t.previousElementSibling?[t.previousElementSibling]:[])}return p([])},prevAll:function(e){var t=[],i=this[0];if(!i)return p([]);for(;i.previousElementSibling;){var n=i.previousElementSibling;e?p(n).is(e)&&t.push(n):t.push(n),i=n}return p(t)},parent:function(e){for(var t=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?p(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return p(t)},parents:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].parentNode;n;)e?p(n).is(e)&&t.push(n):t.push(n),n=n.parentNode;return p(t)},closest:function(e){var t=this;return void 0===e?p([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],i=0;i<this.length;i+=1){try{var n=this[i].querySelectorAll(e)}catch(t){}for(var r=0;r<n.length;r+=1)t.push(n[r])}return p(t)},children:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var n=this[i].children,r=0;r<n.length;r+=1)e&&!p(n[r]).is(e)||t.push(n[r]);
return p(t)},filter:function(e){return p(d(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(N).forEach(function(e){Object.defineProperty(p.fn,e,{value:N[e],writable:!0})});var B={name:"resize",create:function(){var e=this;y(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver(function(t){var i=e.width,n=e.height,r=i,a=n;t.forEach(function(t){var i=t.contentBoxSize,n=t.contentRect,o=t.target;o&&o!==e.el||(r=n?n.width:(i[0]||i).inlineSize,a=n?n.height:(i[0]||i).blockSize)}),r===i&&a===n||e.resize.resizeHandler()}),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=a();e.params.resizeObserver&&void 0!==a().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=a();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}},F={attach:function(e,t){void 0===t&&(t={});var i=a(),n=this,r=new(i.MutationObserver||i.WebkitMutationObserver)(function(e){if(1!==e.length){var t=function(){n.emit("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}else n.emit("observerUpdate",e[0])});r.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),n.observer.observers.push(r)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),i=0;i<t.length;i+=1)e.observer.attach(t[i]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},U={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){_(this,{observer:t({},F,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}},j=!1,H={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},G={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var n=t.modules[i];n.params&&y(e,n.params)})},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var n=t.modules[i],r=e[i]||{};n.on&&t.on&&Object.keys(n.on).forEach(function(e){t.on(e,n.on[e])}),n.create&&n.create.bind(t)(r)})}},eventsEmitter:{on:function(e,t,i){var n=this;if("function"!=typeof t)return n;var r=i?"unshift":"push";return e.split(" ").forEach(function(e){n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][r](t)}),n},once:function(e,t,i){function n(){r.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];t.apply(r,a)}var r=this;return"function"!=typeof t?r:(n.__emitterProxy=t,r.on(e,n,i))},onAny:function(e,t){var i=this;if("function"!=typeof e)return i;var n=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off:function(e,t){var i=this;return i.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(function(n,r){(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(r,1)})}),i):i},emit:function(){var e,t,i,n=this;if(!n.eventsListeners)return n;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),i=n):(e=a[0].events,t=a[0].data,i=a[0].context||n),t.unshift(i);var s=Array.isArray(e)?e:e.split(" ");return s.forEach(function(e){n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(function(n){n.apply(i,[e].concat(t))}),n.eventsListeners&&n.eventsListeners[e]&&n.eventsListeners[e].forEach(function(e){e.apply(i,t)})}),n}},update:{updateSize:function(){var e,t,i=this,n=i.$el;e=void 0!==i.params.width&&null!==i.params.width?i.params.width:n[0].clientWidth,t=void 0!==i.params.height&&null!==i.params.height?i.params.height:n[0].clientHeight,0===e&&i.isHorizontal()||0===t&&i.isVertical()||(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),t=t-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),y(i,{width:e,height:t,size:i.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=function(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]},i=function(e,i){return parseFloat(e.getPropertyValue(t(i))||0)},n=e.params,r=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=r.children("."+e.params.slideClass),h=l?e.virtual.slides.length:c.length,d=[],p=[],f=[],m=n.slidesOffsetBefore;"function"==typeof m&&(m=n.slidesOffsetBefore.call(e));var v=n.slidesOffsetAfter;"function"==typeof v&&(v=n.slidesOffsetAfter.call(e));var g=e.snapGrid.length,_=e.slidesGrid.length,b=n.spaceBetween,x=-m,w=0,T=0;if(void 0!==a){var E,M;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*a),e.virtualSize=-b,o?c.css({marginLeft:"",marginTop:""}):c.css({marginRight:"",marginBottom:""}),n.slidesPerColumn>1&&(E=Math.floor(h/n.slidesPerColumn)===h/e.params.slidesPerColumn?h:Math.ceil(h/n.slidesPerColumn)*n.slidesPerColumn,"auto"!==n.slidesPerView&&"row"===n.slidesPerColumnFill&&(E=Math.max(E,n.slidesPerView*n.slidesPerColumn)));for(var S,C,A,P=n.slidesPerColumn,O=E/P,L=Math.floor(h/n.slidesPerColumn),R=0;R<h;R+=1){M=0;var k=c.eq(R);if(n.slidesPerColumn>1){var D=void 0,I=void 0,z=void 0;if("row"===n.slidesPerColumnFill&&n.slidesPerGroup>1){var N=Math.floor(R/(n.slidesPerGroup*n.slidesPerColumn)),B=R-n.slidesPerColumn*n.slidesPerGroup*N,F=0===N?n.slidesPerGroup:Math.min(Math.ceil((h-N*P*n.slidesPerGroup)/P),n.slidesPerGroup);D=(I=B-(z=Math.floor(B/F))*F+N*n.slidesPerGroup)+z*E/P,k.css({"-webkit-box-ordinal-group":D,"-moz-box-ordinal-group":D,"-ms-flex-order":D,"-webkit-order":D,order:D})}else"column"===n.slidesPerColumnFill?(z=R-(I=Math.floor(R/P))*P,(I>L||I===L&&z===P-1)&&(z+=1)>=P&&(z=0,I+=1)):I=R-(z=Math.floor(R/O))*O;k.css(t("margin-top"),0!==z&&n.spaceBetween&&n.spaceBetween+"px")}if("none"!==k.css("display")){if("auto"===n.slidesPerView){var U=getComputedStyle(k[0]),j=k[0].style.transform,H=k[0].style.webkitTransform;if(j&&(k[0].style.transform="none"),H&&(k[0].style.webkitTransform="none"),n.roundLengths)M=e.isHorizontal()?k.outerWidth(!0):k.outerHeight(!0);else{var G=i(U,"width"),V=i(U,"padding-left"),W=i(U,"padding-right"),$=i(U,"margin-left"),X=i(U,"margin-right"),q=U.getPropertyValue("box-sizing");if(q&&"border-box"===q)M=G+$+X;else{var Y=k[0],Z=Y.clientWidth;M=G+V+W+$+X+(Y.offsetWidth-Z)}}j&&(k[0].style.transform=j),H&&(k[0].style.webkitTransform=H),n.roundLengths&&(M=Math.floor(M))}else M=(a-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(M=Math.floor(M)),c[R]&&(c[R].style[t("width")]=M+"px");c[R]&&(c[R].swiperSlideSize=M),f.push(M),n.centeredSlides?(x=x+M/2+w/2+b,0===w&&0!==R&&(x=x-a/2-b),0===R&&(x=x-a/2-b),Math.abs(x)<.001&&(x=0),n.roundLengths&&(x=Math.floor(x)),T%n.slidesPerGroup==0&&d.push(x),p.push(x)):(n.roundLengths&&(x=Math.floor(x)),(T-Math.min(e.params.slidesPerGroupSkip,T))%e.params.slidesPerGroup==0&&d.push(x),p.push(x),x=x+M+b),e.virtualSize+=M+b,w=M,T+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+v,o&&s&&("slide"===n.effect||"coverflow"===n.effect)&&r.css({width:e.virtualSize+n.spaceBetween+"px"}),n.setWrapperSize&&r.css(((C={})[t("width")]=e.virtualSize+n.spaceBetween+"px",C)),n.slidesPerColumn>1&&(e.virtualSize=(M+n.spaceBetween)*E,e.virtualSize=Math.ceil(e.virtualSize/n.slidesPerColumn)-n.spaceBetween,r.css(((A={})[t("width")]=e.virtualSize+n.spaceBetween+"px",A)),n.centeredSlides)){S=[];for(var Q=0;Q<d.length;Q+=1){var K=d[Q];n.roundLengths&&(K=Math.floor(K)),d[Q]<e.virtualSize+d[0]&&S.push(K)}d=S}if(!n.centeredSlides){S=[];for(var J=0;J<d.length;J+=1){var ee=d[J];n.roundLengths&&(ee=Math.floor(ee)),d[J]<=e.virtualSize-a&&S.push(ee)}d=S,Math.floor(e.virtualSize-a)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-a)}if(0===d.length&&(d=[0]),0!==n.spaceBetween){var te,ie=e.isHorizontal()&&o?"marginLeft":t("marginRight");c.filter(function(e,t){return!n.cssMode||t!==c.length-1}).css(((te={})[ie]=b+"px",te))}if(n.centeredSlides&&n.centeredSlidesBounds){var ne=0;f.forEach(function(e){ne+=e+(n.spaceBetween?n.spaceBetween:0)});var re=(ne-=n.spaceBetween)-a;d=d.map(function(e){return e<0?-m:e>re?re+v:e})}if(n.centerInsufficientSlides){var ae=0;if(f.forEach(function(e){ae+=e+(n.spaceBetween?n.spaceBetween:0)}),(ae-=n.spaceBetween)<a){var oe=(a-ae)/2;d.forEach(function(e,t){d[t]=e-oe}),p.forEach(function(e,t){p[t]=e+oe})}}y(e,{slides:c,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),h!==u&&e.emit("slidesLengthChange"),d.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==_&&e.emit("slidesGridLengthChange"),(n.watchSlidesProgress||n.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,i=this,n=[],r=0;if("number"==typeof e?i.setTransition(e):!0===e&&i.setTransition(i.params.speed),"auto"!==i.params.slidesPerView&&i.params.slidesPerView>1)if(i.params.centeredSlides)i.visibleSlides.each(function(e){n.push(e)});else for(t=0;t<Math.ceil(i.params.slidesPerView);t+=1){var a=i.activeIndex+t;if(a>i.slides.length)break;n.push(i.slides.eq(a)[0])}else n.push(i.slides.eq(i.activeIndex)[0]);for(t=0;t<n.length;t+=1)if(void 0!==n[t]){var o=n[t].offsetHeight;r=o>r?o:r}r&&i.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,i=t.params,n=t.slides,r=t.rtlTranslate;if(0!==n.length){void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();var a=-e;r&&(a=e),n.removeClass(i.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var o=0;o<n.length;o+=1){var s=n[o],l=(a+(i.centeredSlides?t.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+i.spaceBetween);if(i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight){var u=-(a-s.swiperSlideOffset),c=u+t.slidesSizesGrid[o];(u>=0&&u<t.size-1||c>1&&c<=t.size||u<=0&&c>=t.size)&&(t.visibleSlides.push(s),t.visibleSlidesIndexes.push(o),n.eq(o).addClass(i.slideVisibleClass))}s.progress=r?-l:l}t.visibleSlides=p(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}var n=t.params,r=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,l=o,u=s;0===r?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/r)<=0,s=a>=1),y(t,{progress:a,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),s&&!u&&t.emit("reachEnd toEdge"),(l&&!o||u&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,i=t.slides,n=t.params,r=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&n.virtual.enabled;i.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),(e=s?t.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+a+'"]'):i.eq(a)).addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass));var l=e.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=i.eq(0)).addClass(n.slideNextClass);var u=e.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=i.eq(-1)).addClass(n.slidePrevClass),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,i=this,n=i.rtlTranslate?i.translate:-i.translate,r=i.slidesGrid,a=i.snapGrid,o=i.params,s=i.activeIndex,l=i.realIndex,u=i.snapIndex,c=e;if(void 0===c){for(var h=0;h<r.length;h+=1)void 0!==r[h+1]?n>=r[h]&&n<r[h+1]-(r[h+1]-r[h])/2?c=h:n>=r[h]&&n<r[h+1]&&(c=h+1):n>=r[h]&&(c=h);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(a.indexOf(n)>=0)t=a.indexOf(n);else{var d=Math.min(o.slidesPerGroupSkip,c);t=d+Math.floor((c-d)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),c!==s){var p=parseInt(i.slides.eq(c).attr("data-swiper-slide-index")||c,10);y(i,{snapIndex:t,realIndex:p,previousIndex:s,activeIndex:c}),i.emit("activeIndexChange"),i.emit("snapIndexChange"),l!==p&&i.emit("realIndexChange"),(i.initialized||i.params.runCallbacksOnInit)&&i.emit("slideChange")}else t!==u&&(i.snapIndex=t,i.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,i=this,n=i.params,r=p(e.target).closest("."+n.slideClass)[0],a=!1;if(r)for(var o=0;o<i.slides.length;o+=1)if(i.slides[o]===r){a=!0,t=o;break}return r&&a?(i.clickedSlide=r,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(p(r).attr("data-swiper-slide-index"),10):i.clickedIndex=t,n.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide(),void 0):(i.clickedSlide=void 0,void(i.clickedIndex=void 0))}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,i=t.params,n=t.rtlTranslate,r=t.translate,a=t.$wrapperEl;if(i.virtualTranslate)return n?-r:r;if(i.cssMode)return r;var o=v(a[0],e);return n&&(o=-o),o||0},setTranslate:function(e,t){var i=this,n=i.rtlTranslate,r=i.params,a=i.$wrapperEl,o=i.wrapperEl,s=i.progress,l=0,u=0;i.isHorizontal()?l=n?-e:e:u=e,r.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),r.cssMode?o[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-u:r.virtualTranslate||a.transform("translate3d("+l+"px, "+u+"px, 0px)"),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:u;var c=i.maxTranslate()-i.minTranslate();(0===c?0:(e-i.minTranslate())/c)!==s&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===n&&(n=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var l,u=a.minTranslate(),c=a.maxTranslate();if(l=n&&e>u?u:n&&e<c?c:e,a.updateProgress(l),o.cssMode){var h,d=a.isHorizontal();return 0===t?s[d?"scrollLeft":"scrollTop"]=-l:s.scrollTo?s.scrollTo(((h={})[d?"left":"top"]=-l,h.behavior="smooth",h)):s[d?"scrollLeft":"scrollTop"]=-l,!0}return 0===t?(a.setTransition(0),a.setTranslate(l),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(l),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,i&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){var i=this;i.params.cssMode||i.$wrapperEl.transition(e),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var i=this,n=i.activeIndex,r=i.params,a=i.previousIndex;if(!r.cssMode){r.autoHeight&&i.updateAutoHeight();var o=t;if(o||(o=n>a?"next":n<a?"prev":"reset"),i.emit("transitionStart"),e&&n!==a){if("reset"===o)return void i.emit("slideResetTransitionStart");i.emit("slideChangeTransitionStart"),"next"===o?i.emit("slideNextTransitionStart"):i.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var i=this,n=i.activeIndex,r=i.previousIndex,a=i.params;if(i.animating=!1,!a.cssMode){i.setTransition(0);var o=t;if(o||(o=n>r?"next":n<r?"prev":"reset"),i.emit("transitionEnd"),e&&n!==r){if("reset"===o)return void i.emit("slideResetTransitionEnd");i.emit("slideChangeTransitionEnd"),"next"===o?i.emit("slideNextTransitionEnd"):i.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,i,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var r=parseInt(e,10);if(!isFinite(r))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=r}var a=this,o=e;o<0&&(o=0);var s=a.params,l=a.snapGrid,u=a.slidesGrid,c=a.previousIndex,h=a.activeIndex,d=a.rtlTranslate,p=a.wrapperEl;if(a.animating&&s.preventInteractionOnTransition)return!1;var f=Math.min(a.params.slidesPerGroupSkip,o),m=f+Math.floor((o-f)/a.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(h||s.initialSlide||0)===(c||0)&&i&&a.emit("beforeSlideChangeStart");var v,g=-l[m];if(a.updateProgress(g),s.normalizeSlideIndex)for(var y=0;y<u.length;y+=1){var _=-Math.floor(100*g),b=Math.floor(100*u[y]),x=Math.floor(100*u[y+1]);void 0!==u[y+1]?_>=b&&_<x-(x-b)/2?o=y:_>=b&&_<x&&(o=y+1):_>=b&&(o=y)}if(a.initialized&&o!==h){if(!a.allowSlideNext&&g<a.translate&&g<a.minTranslate())return!1;if(!a.allowSlidePrev&&g>a.translate&&g>a.maxTranslate()&&(h||0)!==o)return!1}if(v=o>h?"next":o<h?"prev":"reset",d&&-g===a.translate||!d&&g===a.translate)return a.updateActiveIndex(o),s.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==s.effect&&a.setTranslate(g),"reset"!==v&&(a.transitionStart(i,v),a.transitionEnd(i,v)),!1;if(s.cssMode){var w,T=a.isHorizontal(),E=-g;return d&&(E=p.scrollWidth-p.offsetWidth-E),0===t?p[T?"scrollLeft":"scrollTop"]=E:p.scrollTo?p.scrollTo(((w={})[T?"left":"top"]=E,w.behavior="smooth",w)):p[T?"scrollLeft":"scrollTop"]=E,!0}return 0===t?(a.setTransition(0),a.setTranslate(g),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(i,v),a.transitionEnd(i,v)):(a.setTransition(t),a.setTranslate(g),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(i,v),a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,v))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0);var r=this,a=e;return r.params.loop&&(a+=r.loopedSlides),r.slideTo(a,t,i,n)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this,r=n.params,a=n.animating,o=n.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(a&&r.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return n.slideTo(n.activeIndex+o,e,t,i)},slidePrev:function(e,t,i){function n(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,a=r.params,o=r.animating,s=r.snapGrid,l=r.slidesGrid,u=r.rtlTranslate;if(a.loop){if(o&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}var c=n(u?r.translate:-r.translate),h=s.map(function(e){return n(e)});s[h.indexOf(c)];var d,p=s[h.indexOf(c)-1];return void 0===p&&a.cssMode&&s.forEach(function(e){!p&&c>=e&&(p=e)}),void 0!==p&&(d=l.indexOf(p))<0&&(d=r.activeIndex-1),r.slideTo(d,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===n&&(n=.5);var r=this,a=r.activeIndex,o=Math.min(r.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[s]){var u=r.snapGrid[s];l-u>(r.snapGrid[s+1]-u)*n&&(a+=r.params.slidesPerGroup)}else{var c=r.snapGrid[s-1];l-c<=(r.snapGrid[s]-c)*n&&(a-=r.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,r.slidesGrid.length-1),r.slideTo(a,e,t,i)},slideToClickedSlide:function(){var e,t=this,i=t.params,n=t.$wrapperEl,r="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,a=t.clickedIndex;if(i.loop){if(t.animating)return;e=parseInt(p(t.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?a<t.loopedSlides-r/2||a>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),a=n.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),f(function(){t.slideTo(a)})):t.slideTo(a):a>t.slides.length-r?(t.loopFix(),a=n.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),f(function(){t.slideTo(a)})):t.slideTo(a)}else t.slideTo(a)}},loop:{loopCreate:function(){var e=this,t=r(),i=e.params,n=e.$wrapperEl;n.children("."+i.slideClass+"."+i.slideDuplicateClass).remove();var a=n.children("."+i.slideClass);if(i.loopFillGroupWithBlank){var o=i.slidesPerGroup-a.length%i.slidesPerGroup;if(o!==i.slidesPerGroup){for(var s=0;s<o;s+=1){var l=p(t.createElement("div")).addClass(i.slideClass+" "+i.slideBlankClass);n.append(l)}a=n.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var u=[],c=[];a.each(function(t,i){var n=p(t);i<e.loopedSlides&&c.push(t),i<a.length&&i>=a.length-e.loopedSlides&&u.push(t),n.attr("data-swiper-slide-index",i)});for(var h=0;h<c.length;h+=1)n.append(p(c[h].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var d=u.length-1;d>=0;d-=1)n.prepend(p(u[d].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,i=e.activeIndex,n=e.slides,r=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var u=-s[i]-e.getTranslate();i<r?(t=n.length-3*r+i,t+=r,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)):i>=n.length-r&&(t=-n.length+i+r,t+=r,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)),e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,i=e.params,n=e.slides;t.children("."+i.slideClass+"."+i.slideDuplicateClass+",."+i.slideClass+"."+i.slideBlankClass).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var i=t.el;i.style.cursor="move",i.style.cursor=e?"-webkit-grabbing":"-webkit-grab",i.style.cursor=e?"-moz-grabbin":"-moz-grab",i.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this,i=t.$wrapperEl,n=t.params;if(n.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&i.append(e[r]);else i.append(e);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,i=t.params,n=t.$wrapperEl,r=t.activeIndex;i.loop&&t.loopDestroy();var a=r+1;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)e[o]&&n.prepend(e[o]);a=r+e.length}else n.prepend(e);i.loop&&t.loopCreate(),i.observer&&t.support.observer||t.update(),t.slideTo(a,0,!1)},addSlide:function(e,t){var i=this,n=i.$wrapperEl,r=i.params,a=i.activeIndex;r.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.slides=n.children("."+r.slideClass));var o=i.slides.length;if(e<=0)i.prependSlide(t);else if(e>=o)i.appendSlide(t);else{for(var s=a>e?a+1:a,l=[],u=o-1;u>=e;u-=1){var c=i.slides.eq(u);c.remove(),l.unshift(c)}if("object"==typeof t&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&n.append(t[h]);s=a>e?a+t.length:a}else n.append(t);for(var d=0;d<l.length;d+=1)n.append(l[d]);r.loop&&i.loopCreate(),r.observer&&i.support.observer||i.update(),r.loop?i.slideTo(s+i.loopedSlides,0,!1):i.slideTo(s,0,!1)}},removeSlide:function(e){var t=this,i=t.params,n=t.$wrapperEl,r=t.activeIndex;i.loop&&(r-=t.loopedSlides,t.loopDestroy(),t.slides=n.children("."+i.slideClass));var a,o=r;if("object"==typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)a=e[s],t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=e,t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);i.loop&&t.loopCreate(),i.observer&&t.support.observer||t.update(),i.loop?t.slideTo(o+t.loopedSlides,0,!1):t.slideTo(o,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,t=r(),i=e.params,n=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,l=e.support;e.onTouchStart=E.bind(e),e.onTouchMove=M.bind(e),e.onTouchEnd=S.bind(e),i.cssMode&&(e.onScroll=P.bind(e)),e.onClick=A.bind(e);var u=!!i.nested;if(!l.touch&&l.pointerEvents)a.addEventListener(n.start,e.onTouchStart,!1),t.addEventListener(n.move,e.onTouchMove,u),t.addEventListener(n.end,e.onTouchEnd,!1);else{if(l.touch){var c=!("touchstart"!==n.start||!l.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};a.addEventListener(n.start,e.onTouchStart,c),a.addEventListener(n.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),a.addEventListener(n.end,e.onTouchEnd,c),n.cancel&&a.addEventListener(n.cancel,e.onTouchEnd,c),j||(t.addEventListener("touchstart",O),j=!0)}(i.simulateTouch&&!s.ios&&!s.android||i.simulateTouch&&!l.touch&&s.ios)&&(a.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,u),t.addEventListener("mouseup",e.onTouchEnd,!1))}(i.preventClicks||i.preventClicksPropagation)&&a.addEventListener("click",e.onClick,!0),i.cssMode&&o.addEventListener("scroll",e.onScroll),i.updateOnWindowResize?e.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",C,!0):e.on("observerUpdate",C,!0)},detachEvents:function(){var e=this,t=r(),i=e.params,n=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,l=e.support,u=!!i.nested;if(!l.touch&&l.pointerEvents)a.removeEventListener(n.start,e.onTouchStart,!1),t.removeEventListener(n.move,e.onTouchMove,u),t.removeEventListener(n.end,e.onTouchEnd,!1);else{if(l.touch){var c=!("onTouchStart"!==n.start||!l.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};a.removeEventListener(n.start,e.onTouchStart,c),a.removeEventListener(n.move,e.onTouchMove,u),a.removeEventListener(n.end,e.onTouchEnd,c),n.cancel&&a.removeEventListener(n.cancel,e.onTouchEnd,c)}(i.simulateTouch&&!s.ios&&!s.android||i.simulateTouch&&!l.touch&&s.ios)&&(a.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,u),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(i.preventClicks||i.preventClicksPropagation)&&a.removeEventListener("click",e.onClick,!0),i.cssMode&&o.removeEventListener("scroll",e.onScroll),e.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",C)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,i=e.initialized,n=e.loopedSlides,r=void 0===n?0:n,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){
var l=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var u=l in s?s[l]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(e){var t=u[e];void 0!==t&&(u[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});var c=u||e.originalParams,h=a.slidesPerColumn>1,d=c.slidesPerColumn>1;h&&!d?(o.removeClass(a.containerModifierClass+"multirow "+a.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!h&&d&&(o.addClass(a.containerModifierClass+"multirow"),"column"===c.slidesPerColumnFill&&o.addClass(a.containerModifierClass+"multirow-column"),e.emitContainerClasses());var p=c.direction&&c.direction!==a.direction,f=a.loop&&(c.slidesPerView!==a.slidesPerView||p);p&&i&&e.changeDirection(),y(e.params,c),y(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",c),f&&i&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),e&&("container"!==t||i)){var n=!1,r=a(),o="window"===t?r.innerWidth:i.clientWidth,s="window"===t?r.innerHeight:i.clientHeight,l=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}});l.sort(function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)});for(var u=0;u<l.length;u+=1){var c=l[u],h=c.point;c.value<=o&&(n=h)}return n||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.params,i=e.isLocked,n=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&n?e.isLocked=n<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,i!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),i&&i!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},classes:{addClasses:function(){var e,t,i,n=this,r=n.classNames,a=n.params,o=n.rtl,s=n.$el,l=n.device,u=n.support,c=(e=["initialized",a.direction,{"pointer-events":u.pointerEvents&&!u.touch},{"free-mode":a.freeMode},{autoheight:a.autoHeight},{rtl:o},{multirow:a.slidesPerColumn>1},{"multirow-column":a.slidesPerColumn>1&&"column"===a.slidesPerColumnFill},{android:l.android},{ios:l.ios},{"css-mode":a.cssMode}],t=a.containerModifierClass,i=[],e.forEach(function(e){"object"==typeof e?Object.keys(e).forEach(function(n){e[n]&&i.push(t+n)}):"string"==typeof e&&i.push(t+e)}),i);r.push.apply(r,c),s.addClass([].concat(r).join(" ")),n.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,i=e.classNames;t.removeClass(i.join(" ")),e.emitContainerClasses()}},images:{loadImage:function(e,t,i,n,r,o){function s(){o&&o()}var l,u=a();p(e).parent("picture")[0]||e.complete&&r?s():t?((l=new u.Image).onload=s,l.onerror=s,n&&(l.sizes=n),i&&(l.srcset=i),t&&(l.src=t)):s()},preloadImages:function(){function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}var t=this;t.imagesToLoad=t.$el.find("img");for(var i=0;i<t.imagesToLoad.length;i+=1){var n=t.imagesToLoad[i];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}}},V={},W=function(){function t(){for(var e,i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?i=r[0]:(e=r[0],i=r[1]),i||(i={}),i=y({},i),e&&!i.el&&(i.el=e),i.el&&p(i.el).length>1){var o=[];return p(i.el).each(function(e){var n=y({},i,{el:e});o.push(new t(n))}),o}var s=this;s.__swiper__=!0,s.support=x(),s.device=w({userAgent:i.userAgent}),s.browser=T(),s.eventsListeners={},s.eventsAnyListeners=[],void 0===s.modules&&(s.modules={}),Object.keys(s.modules).forEach(function(e){var t=s.modules[e];if(t.params){var n=Object.keys(t.params)[0],r=t.params[n];if("object"!=typeof r||null===r)return;if(!(n in i&&"enabled"in r))return;!0===i[n]&&(i[n]={enabled:!0}),"object"!=typeof i[n]||"enabled"in i[n]||(i[n].enabled=!0),i[n]||(i[n]={enabled:!1})}});var l,u,c=y({},H);return s.useParams(c),s.params=y({},c,V,i),s.originalParams=y({},s.params),s.passedParams=y({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(function(e){s.on(e,s.params.on[e])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=p,y(s,{el:e,classNames:[],slides:p(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],u=["mousedown","mousemove","mouseup"],s.support.pointerEvents&&(u=["pointerdown","pointermove","pointerup"]),s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:u[0],move:u[1],end:u[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:m(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.emit("_swiper"),s.params.init&&s.init(),s}var i,n,r,a=t.prototype;return a.setProgress=function(e,t){var i=this;e=Math.min(Math.max(e,0),1);var n=i.minTranslate(),r=(i.maxTranslate()-n)*e+n;i.translateTo(r,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()},a.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter(function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)});e.emit("_containerClasses",t.join(" "))}},a.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)}).join(" ")},a.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each(function(i){var n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}},a.slidesPerViewDynamic=function(){var e=this,t=e.params,i=e.slides,n=e.slidesGrid,r=e.size,a=e.activeIndex,o=1;if(t.centeredSlides){for(var s,l=i[a].swiperSlideSize,u=a+1;u<i.length;u+=1)i[u]&&!s&&(o+=1,(l+=i[u].swiperSlideSize)>r&&(s=!0));for(var c=a-1;c>=0;c-=1)i[c]&&!s&&(o+=1,(l+=i[c].swiperSlideSize)>r&&(s=!0))}else for(var h=a+1;h<i.length;h+=1)n[h]-n[a]<r&&(o+=1);return o},a.update=function(){function e(){var e=t.rtlTranslate?-1*t.translate:t.translate,i=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(i),t.updateActiveIndex(),t.updateSlidesClasses()}var t=this;if(t&&!t.destroyed){var i=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(e(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||e(),n.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}},a.changeDirection=function(e,t){void 0===t&&(t=!0);var i=this,n=i.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(""+i.params.containerModifierClass+n).addClass(""+i.params.containerModifierClass+e),i.emitContainerClasses(),i.params.direction=e,i.slides.each(function(t){"vertical"===e?t.style.width="":t.style.height=""}),i.emit("changeDirection"),t&&i.update()),i},a.mount=function(e){var t=this;if(t.mounted)return!0;var i,n=p(e||t.params.el);return!!(e=n[0])&&(e.swiper=t,e&&e.shadowRoot&&e.shadowRoot.querySelector?(i=p(e.shadowRoot.querySelector("."+t.params.wrapperClass))).children=function(e){return n.children(e)}:i=n.children("."+t.params.wrapperClass),y(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0)},a.init=function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t},a.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i,n=this,r=n.params,a=n.$el,o=n.$wrapperEl,s=n.slides;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),a.removeAttr("style"),o.removeAttr("style"),s&&s.length&&s.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(function(e){n.off(e)}),!1!==e&&(n.$el[0].swiper=null,i=n,Object.keys(i).forEach(function(e){try{i[e]=null}catch(e){}try{delete i[e]}catch(e){}})),n.destroyed=!0),null},t.extendDefaults=function(e){y(V,e)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var i=e.name||Object.keys(t.prototype.modules).length+"_"+m();t.prototype.modules[i]=e},t.use=function(e){return Array.isArray(e)?(e.forEach(function(e){return t.installModule(e)}),t):(t.installModule(e),t)},i=t,r=[{key:"extendedDefaults",get:function(){return V}},{key:"defaults",get:function(){return H}}],(n=null)&&e(i.prototype,n),r&&e(i,r),t}();Object.keys(G).forEach(function(e){Object.keys(G[e]).forEach(function(t){W.prototype[t]=G[e][t]})}),W.use([B,U]);var $={update:function(e){function t(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.lazy&&i.params.lazy.enabled&&i.lazy.load()}var i=this,n=i.params,r=n.slidesPerView,a=n.slidesPerGroup,o=n.centeredSlides,s=i.params.virtual,l=s.addSlidesBefore,u=s.addSlidesAfter,c=i.virtual,h=c.from,d=c.to,p=c.slides,f=c.slidesGrid,m=c.renderSlide,v=c.offset;i.updateActiveIndex();var g,_,b,x=i.activeIndex||0;g=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",o?(_=Math.floor(r/2)+a+u,b=Math.floor(r/2)+a+l):(_=r+(a-1)+u,b=a+l);var w=Math.max((x||0)-b,0),T=Math.min((x||0)+_,p.length-1),E=(i.slidesGrid[w]||0)-(i.slidesGrid[0]||0);if(y(i.virtual,{from:w,to:T,offset:E,slidesGrid:i.slidesGrid}),h===w&&d===T&&!e)return i.slidesGrid!==f&&E!==v&&i.slides.css(g,E+"px"),void i.updateProgress();if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:E,from:w,to:T,slides:function(){for(var e=[],t=w;t<=T;t+=1)e.push(p[t]);return e}()}),void(i.params.virtual.renderExternalUpdate&&t());var M=[],S=[];if(e)i.$wrapperEl.find("."+i.params.slideClass).remove();else for(var C=h;C<=d;C+=1)(C<w||C>T)&&i.$wrapperEl.find("."+i.params.slideClass+'[data-swiper-slide-index="'+C+'"]').remove();for(var A=0;A<p.length;A+=1)A>=w&&A<=T&&(void 0===d||e?S.push(A):(A>d&&S.push(A),A<h&&M.push(A)));S.forEach(function(e){i.$wrapperEl.append(m(p[e],e))}),M.sort(function(e,t){return t-e}).forEach(function(e){i.$wrapperEl.prepend(m(p[e],e))}),i.$wrapperEl.children(".swiper-slide").css(g,E+"px"),t()},renderSlide:function(e,t){var i=this,n=i.params.virtual;if(n.cache&&i.virtual.cache[t])return i.virtual.cache[t];var r=p(n.renderSlide?n.renderSlide.call(i,e,t):'<div class="'+i.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),n.cache&&(i.virtual.cache[t]=r),r},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&t.virtual.slides.push(e[i]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,i=t.activeIndex,n=i+1,r=1;if(Array.isArray(e)){for(var a=0;a<e.length;a+=1)e[a]&&t.virtual.slides.unshift(e[a]);n=i+e.length,r=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var o=t.virtual.cache,s={};Object.keys(o).forEach(function(e){var t=o[e],i=t.attr("data-swiper-slide-index");i&&t.attr("data-swiper-slide-index",parseInt(i,10)+1),s[parseInt(e,10)+r]=t}),t.virtual.cache=s}t.virtual.update(!0),t.slideTo(n,0)},removeSlide:function(e){var t=this;if(null!=e){var i=t.activeIndex;if(Array.isArray(e))for(var n=e.length-1;n>=0;n-=1)t.virtual.slides.splice(e[n],1),t.params.virtual.cache&&delete t.virtual.cache[e[n]],e[n]<i&&(i-=1),i=Math.max(i,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<i&&(i-=1),i=Math.max(i,0);t.virtual.update(!0),t.slideTo(i,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},X={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){_(this,{virtual:t({},$,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};y(e.params,t),y(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}},q={handle:function(e){var t=this,i=a(),n=r(),o=t.rtlTranslate,s=e;s.originalEvent&&(s=s.originalEvent);var l=s.keyCode||s.charCode,u=t.params.keyboard.pageUpDown,c=u&&33===l,h=u&&34===l,d=37===l,p=39===l,f=38===l,m=40===l;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&m||h))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&d||t.isVertical()&&f||c))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||h||d||p||f||m)){var v=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var g=t.$el,y=g[0].clientWidth,_=g[0].clientHeight,b=i.innerWidth,x=i.innerHeight,w=t.$el.offset();o&&(w.left-=t.$el[0].scrollLeft);for(var T=[[w.left,w.top],[w.left+y,w.top],[w.left,w.top+_],[w.left+y,w.top+_]],E=0;E<T.length;E+=1){var M=T[E];if(M[0]>=0&&M[0]<=b&&M[1]>=0&&M[1]<=x){if(0===M[0]&&0===M[1])continue;v=!0}}if(!v)return}t.isHorizontal()?((c||h||d||p)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),((h||p)&&!o||(c||d)&&o)&&t.slideNext(),((c||d)&&!o||(h||p)&&o)&&t.slidePrev()):((c||h||f||m)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),(h||m)&&t.slideNext(),(c||f)&&t.slidePrev()),t.emit("keyPress",l)}},enable:function(){var e=this,t=r();e.keyboard.enabled||(p(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=r();e.keyboard.enabled&&(p(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},Y={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){_(this,{keyboard:t({enabled:!1},q)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}},Z={lastScrollTime:m(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return a().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=r(),t="onwheel",i=t in e;if(!i){var n=e.createElement("div");n.setAttribute(t,"return;"),i="function"==typeof n.onwheel}return!i&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(i=e.implementation.hasFeature("Events.wheel","3.0")),i}()?"wheel":"mousewheel"},normalize:function(e){var t=0,i=0,n=0,r=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),n=10*t,r=10*i,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(n=e.deltaX),e.shiftKey&&!n&&(n=r,r=0),(n||r)&&e.deltaMode&&(1===e.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!t&&(t=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:t,spinY:i,pixelX:n,pixelY:r}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,i=this,n=i.params.mousewheel;i.params.cssMode&&t.preventDefault();var r=i.$el;if("container"!==i.params.mousewheel.eventsTarget&&(r=p(i.params.mousewheel.eventsTarget)),!i.mouseEntered&&!r[0].contains(t.target)&&!n.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var a=0,o=i.rtlTranslate?-1:1,s=Z.normalize(t);if(n.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return!0;a=-s.pixelX*o}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return!0;a=-s.pixelY}else a=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*o:-s.pixelY;if(0===a)return!0;n.invert&&(a=-a);var l=i.getTranslate()+a*n.sensitivity;if(l>=i.minTranslate()&&(l=i.minTranslate()),l<=i.maxTranslate()&&(l=i.maxTranslate()),(!!i.params.loop||!(l===i.minTranslate()||l===i.maxTranslate()))&&i.params.nested&&t.stopPropagation(),i.params.freeMode){var u={time:m(),delta:Math.abs(a),direction:Math.sign(a)},c=i.mousewheel.lastEventBeforeSnap,h=c&&u.time<c.time+500&&u.delta<=c.delta&&u.direction===c.direction;if(!h){i.mousewheel.lastEventBeforeSnap=void 0,i.params.loop&&i.loopFix();var d=i.getTranslate()+a*n.sensitivity,v=i.isBeginning,g=i.isEnd;if(d>=i.minTranslate()&&(d=i.minTranslate()),d<=i.maxTranslate()&&(d=i.maxTranslate()),i.setTransition(0),i.setTranslate(d),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!v&&i.isBeginning||!g&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky){clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=void 0;var y=i.mousewheel.recentWheelEvents;y.length>=15&&y.shift();var _=y.length?y[y.length-1]:void 0,b=y[0];if(y.push(u),_&&(u.delta>_.delta||u.direction!==_.direction))y.splice(0);else if(y.length>=15&&u.time-b.time<500&&b.delta-u.delta>=1&&u.delta<=6){var x=a>0?.8:.2;i.mousewheel.lastEventBeforeSnap=u,y.splice(0),i.mousewheel.timeout=f(function(){i.slideToClosest(i.params.speed,!0,void 0,x)},0)}i.mousewheel.timeout||(i.mousewheel.timeout=f(function(){i.mousewheel.lastEventBeforeSnap=u,y.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)},500))}if(h||i.emit("scroll",t),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),d===i.minTranslate()||d===i.maxTranslate())return!0}}else{var w={time:m(),delta:Math.abs(a),direction:Math.sign(a),raw:e},T=i.mousewheel.recentWheelEvents;T.length>=2&&T.shift();var E=T.length?T[T.length-1]:void 0;if(T.push(w),E?(w.direction!==E.direction||w.delta>E.delta||w.time>E.time+150)&&i.mousewheel.animateSlider(w):i.mousewheel.animateSlider(w),i.mousewheel.releaseScroll(w))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},animateSlider:function(e){var t=this,i=a();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta||this.params.mousewheel.thresholdTime&&m()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime||!(e.delta>=6&&m()-t.mousewheel.lastScrollTime<60)&&(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new i.Date).getTime(),1))},releaseScroll:function(e){var t=this,i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=Z.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var i=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(i=p(e.params.mousewheel.eventsTarget)),i.on("mouseenter",e.mousewheel.handleMouseEnter),i.on("mouseleave",e.mousewheel.handleMouseLeave),i.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=Z.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var i=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(i=p(e.params.mousewheel.eventsTarget)),i.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},Q={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,i=e.navigation.toggleEl;if(!e.params.loop){var n=e.navigation,r=n.$nextEl,a=n.$prevEl;a&&a.length>0&&(e.isBeginning?i(a,!0):i(a,!1),a[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass)),r&&r.length>0&&(e.isEnd?i(r,!0):i(r,!1),r[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,i=this,n=i.params.navigation;(n.nextEl||n.prevEl)&&(n.nextEl&&(e=p(n.nextEl),i.params.uniqueNavElements&&"string"==typeof n.nextEl&&e.length>1&&1===i.$el.find(n.nextEl).length&&(e=i.$el.find(n.nextEl))),n.prevEl&&(t=p(n.prevEl),i.params.uniqueNavElements&&"string"==typeof n.prevEl&&t.length>1&&1===i.$el.find(n.prevEl).length&&(t=i.$el.find(n.prevEl))),e&&e.length>0&&e.on("click",i.navigation.onNextClick),t&&t.length>0&&t.on("click",i.navigation.onPrevClick),y(i.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this,t=e.navigation,i=t.$nextEl,n=t.$prevEl;i&&i.length&&(i.off("click",e.navigation.onNextClick),i.removeClass(e.params.navigation.disabledClass)),n&&n.length&&(n.off("click",e.navigation.onPrevClick),n.removeClass(e.params.navigation.disabledClass))}},K={update:function(){var e=this,t=e.rtl,i=e.params.pagination;if(i.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n,r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,a=e.pagination.$el,o=e.params.loop?Math.ceil((r-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((n=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>r-1-2*e.loopedSlides&&(n-=r-2*e.loopedSlides),n>o-1&&(n-=o),n<0&&"bullets"!==e.params.paginationType&&(n=o+n)):n=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===i.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var s,l,u,c=e.pagination.bullets;if(i.dynamicBullets&&(e.pagination.bulletSize=c.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),a.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=n-e.previousIndex,e.pagination.dynamicBulletIndex>i.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=i.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),s=n-e.pagination.dynamicBulletIndex,u=((l=s+(Math.min(c.length,i.dynamicMainBullets)-1))+s)/2),c.removeClass(i.bulletActiveClass+" "+i.bulletActiveClass+"-next "+i.bulletActiveClass+"-next-next "+i.bulletActiveClass+"-prev "+i.bulletActiveClass+"-prev-prev "+i.bulletActiveClass+"-main"),a.length>1)c.each(function(e){var t=p(e),r=t.index();r===n&&t.addClass(i.bulletActiveClass),i.dynamicBullets&&(r>=s&&r<=l&&t.addClass(i.bulletActiveClass+"-main"),r===s&&t.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),r===l&&t.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next"))});else{var h=c.eq(n),d=h.index();if(h.addClass(i.bulletActiveClass),i.dynamicBullets){for(var f=c.eq(s),m=c.eq(l),v=s;v<=l;v+=1)c.eq(v).addClass(i.bulletActiveClass+"-main");if(e.params.loop)if(d>=c.length-i.dynamicMainBullets){for(var g=i.dynamicMainBullets;g>=0;g-=1)c.eq(c.length-g).addClass(i.bulletActiveClass+"-main");c.eq(c.length-i.dynamicMainBullets-1).addClass(i.bulletActiveClass+"-prev")}else f.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),m.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next");else f.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),m.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next")}}if(i.dynamicBullets){var y=Math.min(c.length,i.dynamicMainBullets+4),_=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-u*e.pagination.bulletSize,x=t?"right":"left";c.css(e.isHorizontal()?x:"top",_+"px")}}if("fraction"===i.type&&(a.find(b(i.currentClass)).text(i.formatFractionCurrent(n+1)),a.find(b(i.totalClass)).text(i.formatFractionTotal(o))),"progressbar"===i.type){var w;w=i.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var T=(n+1)/o,E=1,M=1;"horizontal"===w?E=T:M=T,a.find(b(i.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+E+") scaleY("+M+")").transition(e.params.speed)}"custom"===i.type&&i.renderCustom?(a.html(i.renderCustom(e,n+1,o)),e.emit("paginationRender",a[0])):e.emit("paginationUpdate",a[0]),a[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](i.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,n=e.pagination.$el,r="";if("bullets"===t.type){var a=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&a>i&&(a=i);for(var o=0;o<a;o+=1)r+=t.renderBullet?t.renderBullet.call(e,o,t.bulletClass):"<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";n.html(r),e.pagination.bullets=n.find(b(t.bulletClass))}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',n.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',n.html(r)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var i=p(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&(i=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click",b(t.bulletClass),function(t){t.preventDefault();var i=p(this).index()*e.params.slidesPerGroup;e.params.loop&&(i+=e.loopedSlides),e.slideTo(i)}),y(e.pagination,{$el:i,el:i[0]}))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var i=e.pagination.$el;i.removeClass(t.hiddenClass),i.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&i.off("click",b(t.bulletClass))}}},J={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,i=e.rtlTranslate,n=e.progress,r=t.dragSize,a=t.trackSize,o=t.$dragEl,s=t.$el,l=e.params.scrollbar,u=r,c=(a-r)*n;i?(c=-c)>0?(u=r-c,c=0):-c+r>a&&(u=a+c):c<0?(u=r+c,c=0):c+r>a&&(u=a-c),e.isHorizontal()?(o.transform("translate3d("+c+"px, 0, 0)"),o[0].style.width=u+"px"):(o.transform("translate3d(0px, "+c+"px, 0)"),o[0].style.height=u+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),s[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0,s.transition(400)},1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,i=t.$dragEl,n=t.$el;i[0].style.width="",i[0].style.height="";var r,a=e.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,o=e.size/e.virtualSize,s=o*(a/e.size);r="auto"===e.params.scrollbar.dragSize?a*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?i[0].style.width=r+"px":i[0].style.height=r+"px",n[0].style.display=o>=1?"none":"",e.params.scrollbar.hide&&(n[0].style.opacity=0),y(t,{trackSize:a,divider:o,moveDivider:s,dragSize:r}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,i=this,n=i.scrollbar,r=i.rtlTranslate,a=n.$el,o=n.dragSize,s=n.trackSize,l=n.dragStartPos;t=(n.getPointerPosition(e)-a.offset()[i.isHorizontal()?"left":"top"]-(null!==l?l:o/2))/(s-o),t=Math.max(Math.min(t,1),0),r&&(t=1-t);var u=i.minTranslate()+(i.maxTranslate()-i.minTranslate())*t;i.updateProgress(u),i.setTranslate(u),i.updateActiveIndex(),i.updateSlidesClasses()},onDragStart:function(e){var t=this,i=t.params.scrollbar,n=t.scrollbar,r=t.$wrapperEl,a=n.$el,o=n.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===o[0]||e.target===o?n.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),r.transition(100),o.transition(100),n.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),a.transition(0),i.hide&&a.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,i=t.scrollbar,n=t.$wrapperEl,r=i.$el,a=i.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,i.setDragPosition(e),n.transition(0),r.transition(0),a.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,i=t.params.scrollbar,n=t.scrollbar,r=t.$wrapperEl,a=n.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),r.transition("")),i.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=f(function(){a.css("opacity",0),a.transition(400)},1e3)),t.emit("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=r(),i=e.scrollbar,n=e.touchEventsTouch,a=e.touchEventsDesktop,o=e.params,s=e.support,l=i.$el[0],u=!(!s.passiveListener||!o.passiveListeners)&&{
passive:!1,capture:!1},c=!(!s.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};l&&(s.touch?(l.addEventListener(n.start,e.scrollbar.onDragStart,u),l.addEventListener(n.move,e.scrollbar.onDragMove,u),l.addEventListener(n.end,e.scrollbar.onDragEnd,c)):(l.addEventListener(a.start,e.scrollbar.onDragStart,u),t.addEventListener(a.move,e.scrollbar.onDragMove,u),t.addEventListener(a.end,e.scrollbar.onDragEnd,c)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=r(),i=e.scrollbar,n=e.touchEventsTouch,a=e.touchEventsDesktop,o=e.params,s=e.support,l=i.$el[0],u=!(!s.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};l&&(s.touch?(l.removeEventListener(n.start,e.scrollbar.onDragStart,u),l.removeEventListener(n.move,e.scrollbar.onDragMove,u),l.removeEventListener(n.end,e.scrollbar.onDragEnd,c)):(l.removeEventListener(a.start,e.scrollbar.onDragStart,u),t.removeEventListener(a.move,e.scrollbar.onDragMove,u),t.removeEventListener(a.end,e.scrollbar.onDragEnd,c)))}},init:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,i=e.$el,n=e.params.scrollbar,r=p(n.el);e.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===i.find(n.el).length&&(r=i.find(n.el));var a=r.find("."+e.params.scrollbar.dragClass);0===a.length&&(a=p('<div class="'+e.params.scrollbar.dragClass+'"></div>'),r.append(a)),y(t,{$el:r,el:r[0],$dragEl:a,dragEl:a[0]}),n.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},ee={setTransform:function(e,t){var i=this.rtl,n=p(e),r=i?-1:1,a=n.attr("data-swiper-parallax")||"0",o=n.attr("data-swiper-parallax-x"),s=n.attr("data-swiper-parallax-y"),l=n.attr("data-swiper-parallax-scale"),u=n.attr("data-swiper-parallax-opacity");if(o||s?(o=o||"0",s=s||"0"):this.isHorizontal()?(o=a,s="0"):(s=a,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*t*r+"%":o*t*r+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",null!=u){var c=u-(u-1)*(1-Math.abs(t));n[0].style.opacity=c}if(null==l)n.transform("translate3d("+o+", "+s+", 0px)");else{var h=l-(l-1)*(1-Math.abs(t));n.transform("translate3d("+o+", "+s+", 0px) scale("+h+")")}},setTranslate:function(){var e=this,t=e.$el,i=e.slides,n=e.progress,r=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){e.parallax.setTransform(t,n)}),i.each(function(t,i){var a=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(a+=Math.ceil(i/2)-n*(r.length-1)),a=Math.min(Math.max(a,-1),1),p(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){e.parallax.setTransform(t,a)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){var i=p(t),n=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),i.transition(n)})}},te={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,r=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-i,2))},onGestureStart:function(e){var t=this,i=t.support,n=t.params.zoom,r=t.zoom,a=r.gesture;if(r.fakeGestureTouched=!1,r.fakeGestureMoved=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;r.fakeGestureTouched=!0,a.scaleStart=te.getDistanceBetweenTouches(e)}a.$slideEl&&a.$slideEl.length||(a.$slideEl=p(e.target).closest("."+t.params.slideClass),0===a.$slideEl.length&&(a.$slideEl=t.slides.eq(t.activeIndex)),a.$imageEl=a.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),a.$imageWrapEl=a.$imageEl.parent("."+n.containerClass),a.maxRatio=a.$imageWrapEl.attr("data-swiper-zoom")||n.maxRatio,0!==a.$imageWrapEl.length)?(a.$imageEl&&a.$imageEl.transition(0),t.zoom.isScaling=!0):a.$imageEl=void 0},onGestureChange:function(e){var t=this,i=t.support,n=t.params.zoom,r=t.zoom,a=r.gesture;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;r.fakeGestureMoved=!0,a.scaleMove=te.getDistanceBetweenTouches(e)}a.$imageEl&&0!==a.$imageEl.length?(i.gestures?r.scale=e.scale*r.currentScale:r.scale=a.scaleMove/a.scaleStart*r.currentScale,r.scale>a.maxRatio&&(r.scale=a.maxRatio-1+Math.pow(r.scale-a.maxRatio+1,.5)),r.scale<n.minRatio&&(r.scale=n.minRatio+1-Math.pow(n.minRatio-r.scale+1,.5)),a.$imageEl.transform("translate3d(0,0,0) scale("+r.scale+")")):"gesturechange"===e.type&&r.onGestureStart(e)},onGestureEnd:function(e){var t=this,i=t.device,n=t.support,r=t.params.zoom,a=t.zoom,o=a.gesture;if(!n.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!i.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}o.$imageEl&&0!==o.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,o.maxRatio),r.minRatio),o.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(o.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,i=this.zoom,n=i.gesture,r=i.image;n.$imageEl&&0!==n.$imageEl.length&&(r.isTouched||(t.android&&e.cancelable&&e.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,i=t.zoom,n=i.gesture,r=i.image,a=i.velocity;if(n.$imageEl&&0!==n.$imageEl.length&&(t.allowClick=!1,r.isTouched&&n.$slideEl)){r.isMoved||(r.width=n.$imageEl[0].offsetWidth,r.height=n.$imageEl[0].offsetHeight,r.startX=v(n.$imageWrapEl[0],"x")||0,r.startY=v(n.$imageWrapEl[0],"y")||0,n.slideWidth=n.$slideEl[0].offsetWidth,n.slideHeight=n.$slideEl[0].offsetHeight,n.$imageWrapEl.transition(0),t.rtl&&(r.startX=-r.startX,r.startY=-r.startY));var o=r.width*i.scale,s=r.height*i.scale;if(!(o<n.slideWidth&&s<n.slideHeight)){if(r.minX=Math.min(n.slideWidth/2-o/2,0),r.maxX=-r.minX,r.minY=Math.min(n.slideHeight/2-s/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!r.isMoved&&!i.isScaling){if(t.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-Math.pow(r.minX-r.currentX+1,.8)),r.currentX>r.maxX&&(r.currentX=r.maxX-1+Math.pow(r.currentX-r.maxX+1,.8)),r.currentY<r.minY&&(r.currentY=r.minY+1-Math.pow(r.minY-r.currentY+1,.8)),r.currentY>r.maxY&&(r.currentY=r.maxY-1+Math.pow(r.currentY-r.maxY+1,.8)),a.prevPositionX||(a.prevPositionX=r.touchesCurrent.x),a.prevPositionY||(a.prevPositionY=r.touchesCurrent.y),a.prevTime||(a.prevTime=Date.now()),a.x=(r.touchesCurrent.x-a.prevPositionX)/(Date.now()-a.prevTime)/2,a.y=(r.touchesCurrent.y-a.prevPositionY)/(Date.now()-a.prevTime)/2,Math.abs(r.touchesCurrent.x-a.prevPositionX)<2&&(a.x=0),Math.abs(r.touchesCurrent.y-a.prevPositionY)<2&&(a.y=0),a.prevPositionX=r.touchesCurrent.x,a.prevPositionY=r.touchesCurrent.y,a.prevTime=Date.now(),n.$imageWrapEl.transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,i=e.image,n=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var r=300,a=300,o=n.x*r,s=i.currentX+o,l=n.y*a,u=i.currentY+l;0!==n.x&&(r=Math.abs((s-i.currentX)/n.x)),0!==n.y&&(a=Math.abs((u-i.currentY)/n.y));var c=Math.max(r,a);i.currentX=s,i.currentY=u;var h=i.width*e.scale,d=i.height*e.scale;i.minX=Math.min(t.slideWidth/2-h/2,0),i.maxX=-i.minX,i.minY=Math.min(t.slideHeight/2-d/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),t.$imageWrapEl.transition(c).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,i=t.gesture;i.$slideEl&&e.previousIndex!==e.activeIndex&&(i.$imageEl&&i.$imageEl.transform("translate3d(0,0,0) scale(1)"),i.$imageWrapEl&&i.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,i.$slideEl=void 0,i.$imageEl=void 0,i.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t["in"](e)},"in":function(e){var t,i,n,r,o,s,l,u,c,h,d,p,f,m,v,g,y=this,_=a(),b=y.zoom,x=y.params.zoom,w=b.gesture,T=b.image;w.$slideEl||(y.params.virtual&&y.params.virtual.enabled&&y.virtual?w.$slideEl=y.$wrapperEl.children("."+y.params.slideActiveClass):w.$slideEl=y.slides.eq(y.activeIndex),w.$imageEl=w.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),w.$imageWrapEl=w.$imageEl.parent("."+x.containerClass)),w.$imageEl&&0!==w.$imageEl.length&&(w.$slideEl.addClass(""+x.zoomedSlideClass),void 0===T.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,i="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=T.touchesStart.x,i=T.touchesStart.y),b.scale=w.$imageWrapEl.attr("data-swiper-zoom")||x.maxRatio,b.currentScale=w.$imageWrapEl.attr("data-swiper-zoom")||x.maxRatio,e?(v=w.$slideEl[0].offsetWidth,g=w.$slideEl[0].offsetHeight,n=w.$slideEl.offset().left+_.scrollX+v/2-t,r=w.$slideEl.offset().top+_.scrollY+g/2-i,l=w.$imageEl[0].offsetWidth,u=w.$imageEl[0].offsetHeight,c=l*b.scale,h=u*b.scale,f=-(d=Math.min(v/2-c/2,0)),m=-(p=Math.min(g/2-h/2,0)),(o=n*b.scale)<d&&(o=d),o>f&&(o=f),(s=r*b.scale)<p&&(s=p),s>m&&(s=m)):(o=0,s=0),w.$imageWrapEl.transition(300).transform("translate3d("+o+"px, "+s+"px,0)"),w.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+b.scale+")"))},out:function(){var e=this,t=e.zoom,i=e.params.zoom,n=t.gesture;n.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?n.$slideEl=e.$wrapperEl.children("."+e.params.slideActiveClass):n.$slideEl=e.slides.eq(e.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),n.$imageWrapEl=n.$imageEl.parent("."+i.containerClass)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+i.zoomedSlideClass),n.$slideEl=void 0)},toggleGestures:function(e){var t=this,i=t.zoom,n=i.slideSelector,r=i.passiveListener;t.$wrapperEl[e]("gesturestart",n,i.onGestureStart,r),t.$wrapperEl[e]("gesturechange",n,i.onGestureChange,r),t.$wrapperEl[e]("gestureend",n,i.onGestureEnd,r)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,i=e.zoom;if(!i.enabled){i.enabled=!0;var n=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},r=!t.passiveListener||{passive:!1,capture:!0},a="."+e.params.slideClass;e.zoom.passiveListener=n,e.zoom.slideSelector=a,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,n),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,n)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,a,i.onGestureStart,n),e.$wrapperEl.on(e.touchEvents.move,a,i.onGestureChange,r),e.$wrapperEl.on(e.touchEvents.end,a,i.onGestureEnd,n),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,a,i.onGestureEnd,n)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,i.onTouchMove,r)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var i=e.support;e.zoom.enabled=!1;var n=!("touchstart"!==e.touchEvents.start||!i.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},r=!i.passiveListener||{passive:!1,capture:!0},a="."+e.params.slideClass;i.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,n),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,n)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,a,t.onGestureStart,n),e.$wrapperEl.off(e.touchEvents.move,a,t.onGestureChange,r),e.$wrapperEl.off(e.touchEvents.end,a,t.onGestureEnd,n),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,a,t.onGestureEnd,n)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,r)}}},ie={loadInSlide:function(e,t){void 0===t&&(t=!0);var i=this,n=i.params.lazy;if(void 0!==e&&0!==i.slides.length){var r=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),a=r.find("."+n.elementClass+":not(."+n.loadedClass+"):not(."+n.loadingClass+")");!r.hasClass(n.elementClass)||r.hasClass(n.loadedClass)||r.hasClass(n.loadingClass)||a.push(r[0]),0!==a.length&&a.each(function(e){var a=p(e);a.addClass(n.loadingClass);var o=a.attr("data-background"),s=a.attr("data-src"),l=a.attr("data-srcset"),u=a.attr("data-sizes"),c=a.parent("picture");i.loadImage(a[0],s||o,l,u,!1,function(){if(null!=i&&i&&(!i||i.params)&&!i.destroyed){if(o?(a.css("background-image",'url("'+o+'")'),a.removeAttr("data-background")):(l&&(a.attr("srcset",l),a.removeAttr("data-srcset")),u&&(a.attr("sizes",u),a.removeAttr("data-sizes")),c.length&&c.children("source").each(function(e){var t=p(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))}),s&&(a.attr("src",s),a.removeAttr("data-src"))),a.addClass(n.loadedClass).removeClass(n.loadingClass),r.find("."+n.preloaderClass).remove(),i.params.loop&&t){var e=r.attr("data-swiper-slide-index");if(r.hasClass(i.params.slideDuplicateClass)){var h=i.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(h.index(),!1)}else{var d=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');i.lazy.loadInSlide(d.index(),!1)}}i.emit("lazyImageReady",r[0],a[0]),i.params.autoHeight&&i.updateAutoHeight()}}),i.emit("lazyImageLoad",r[0],a[0])})}},load:function(){function e(e){if(s){if(n.children("."+r.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(a[e])return!0;return!1}function t(e){return s?p(e).attr("data-swiper-slide-index"):p(e).index()}var i=this,n=i.$wrapperEl,r=i.params,a=i.slides,o=i.activeIndex,s=i.virtual&&r.virtual.enabled,l=r.lazy,u=r.slidesPerView;if("auto"===u&&(u=0),i.lazy.initialImageLoaded||(i.lazy.initialImageLoaded=!0),i.params.watchSlidesVisibility)n.children("."+r.slideVisibleClass).each(function(e){var t=s?p(e).attr("data-swiper-slide-index"):p(e).index();i.lazy.loadInSlide(t)});else if(u>1)for(var c=o;c<o+u;c+=1)e(c)&&i.lazy.loadInSlide(c);else i.lazy.loadInSlide(o);if(l.loadPrevNext)if(u>1||l.loadPrevNextAmount&&l.loadPrevNextAmount>1){for(var h=l.loadPrevNextAmount,d=u,f=Math.min(o+d+Math.max(h,d),a.length),m=Math.max(o-Math.max(d,h),0),v=o+u;v<f;v+=1)e(v)&&i.lazy.loadInSlide(v);for(var g=m;g<o;g+=1)e(g)&&i.lazy.loadInSlide(g)}else{var y=n.children("."+r.slideNextClass);y.length>0&&i.lazy.loadInSlide(t(y));var _=n.children("."+r.slidePrevClass);_.length>0&&i.lazy.loadInSlide(t(_))}},checkInViewOnLoad:function(){var e=a(),t=this;if(t&&!t.destroyed){var i=p(t.params.lazy.scrollingElement?t.params.lazy.scrollingElement:e),n=i[0]===e,r=n?e.innerWidth:i[0].offsetWidth,o=n?e.innerHeight:i[0].offsetHeight,s=t.$el.offset(),l=!1;t.rtlTranslate&&(s.left-=t.$el[0].scrollLeft);for(var u=[[s.left,s.top],[s.left+t.width,s.top],[s.left,s.top+t.height],[s.left+t.width,s.top+t.height]],c=0;c<u.length;c+=1){var h=u[c];if(h[0]>=0&&h[0]<=r&&h[1]>=0&&h[1]<=o){if(0===h[0]&&0===h[1])continue;l=!0}}l?(t.lazy.load(),i.off("scroll",t.lazy.checkInViewOnLoad)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,i.on("scroll",t.lazy.checkInViewOnLoad))}}},ne={LinearSpline:function(e,t){var i,n,r,a,o,s=function(e,t){for(n=-1,i=e.length;i-n>1;)e[r=i+n>>1]<=t?n=r:i=r;return i};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(o=s(this.x,e),a=o-1,(e-this.x[a])*(this.y[o]-this.y[a])/(this.x[o]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new ne.LinearSpline(t.slidesGrid,e.slidesGrid):new ne.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){function i(e){var t=a.rtlTranslate?-a.translate:a.translate;"slide"===a.params.controller.by&&(a.controller.getInterpolateFunction(e),r=-a.controller.spline.interpolate(-t)),r&&"container"!==a.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(a.maxTranslate()-a.minTranslate()),r=(t-a.minTranslate())*n+e.minTranslate()),a.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,a),e.updateActiveIndex(),e.updateSlidesClasses()}var n,r,a=this,o=a.controller.control,s=a.constructor;if(Array.isArray(o))for(var l=0;l<o.length;l+=1)o[l]!==t&&o[l]instanceof s&&i(o[l]);else o instanceof s&&t!==o&&i(o)},setTransition:function(e,t){function i(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&f(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){o&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())}))}var n,r=this,a=r.constructor,o=r.controller.control;if(Array.isArray(o))for(n=0;n<o.length;n+=1)o[n]!==t&&o[n]instanceof a&&i(o[n]);else o instanceof a&&t!==o&&i(o)}},re={getRandomNumber:function(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,i=t.params.a11y,n=p(e.target);t.navigation&&t.navigation.$nextEl&&n.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(i.lastSlideMessage):t.a11y.notify(i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&n.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(i.firstSlideMessage):t.a11y.notify(i.prevSlideMessage)),t.pagination&&n.is(b(t.params.pagination.bulletClass))&&n[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,i=t.$nextEl,n=t.$prevEl;n&&n.length>0&&(e.isBeginning?(e.a11y.disableEl(n),e.a11y.makeElNotFocusable(n)):(e.a11y.enableEl(n),e.a11y.makeElFocusable(n))),i&&i.length>0&&(e.isEnd?(e.a11y.disableEl(i),e.a11y.makeElNotFocusable(i)):(e.a11y.enableEl(i),e.a11y.makeElFocusable(i)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(i){var n=p(i);e.a11y.makeElFocusable(n),e.params.pagination.renderBullet||(e.a11y.addElRole(n,"button"),e.a11y.addElLabel(n,t.paginationBulletMessage.replace(/\{\{index\}\}/,n.index()+1)))})},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var i=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(i,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(i,t.containerMessage);var n,r,a,o=e.$wrapperEl,s=o.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16);e.a11y.addElId(o,s),n=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite",e.a11y.addElLive(o,n),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(p(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(p(e.slides),t.slideRole),e.slides.each(function(i){var n=p(i),r=t.slideLabelMessage.replace(/\{\{index\}\}/,n.index()+1).replace(/\{\{slidesLength\}\}/,e.slides.length);e.a11y.addElLabel(n,r)}),e.navigation&&e.navigation.$nextEl&&(r=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),r&&r.length&&(e.a11y.makeElFocusable(r),"BUTTON"!==r[0].tagName&&(e.a11y.addElRole(r,"button"),r.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(r,t.nextSlideMessage),e.a11y.addElControls(r,s)),a&&a.length&&(e.a11y.makeElFocusable(a),"BUTTON"!==a[0].tagName&&(e.a11y.addElRole(a,"button"),a.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(a,t.prevSlideMessage),e.a11y.addElControls(a,s)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",b(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t,i=this;i.a11y.liveRegion&&i.a11y.liveRegion.length>0&&i.a11y.liveRegion.remove(),i.navigation&&i.navigation.$nextEl&&(e=i.navigation.$nextEl),i.navigation&&i.navigation.$prevEl&&(t=i.navigation.$prevEl),e&&e.off("keydown",i.a11y.onEnterOrSpaceKey),t&&t.off("keydown",i.a11y.onEnterOrSpaceKey),i.pagination&&i.params.pagination.clickable&&i.pagination.bullets&&i.pagination.bullets.length&&i.pagination.$el.off("keydown",b(i.params.pagination.bulletClass),i.a11y.onEnterOrSpaceKey)}},ae={init:function(){var e=this,t=a();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var i=e.history;i.initialized=!0,i.paths=ae.getPathValues(e.params.url),(i.paths.key||i.paths.value)&&(i.scrollToSlide(0,i.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=a();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=ae.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=a(),i=(e?new URL(e):t.location).pathname.slice(1).split("/").filter(function(e){return""!==e}),n=i.length;return{key:i[n-2],value:i[n-1]}},setHistory:function(e,t){var i=this,n=a();if(i.history.initialized&&i.params.history.enabled){var r;r=i.params.url?new URL(i.params.url):n.location;var o=i.slides.eq(t),s=ae.slugify(o.attr("data-history"));if(i.params.history.root.length>0){var l=i.params.history.root;"/"===l[l.length-1]&&(l=l.slice(0,l.length-1)),s=l+"/"+e+"/"+s}else r.pathname.includes(e)||(s=e+"/"+s);var u=n.history.state;u&&u.value===s||(i.params.history.replaceState?n.history.replaceState({value:s},null,s):n.history.pushState({value:s},null,s))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){var n=this;if(t)for(var r=0,a=n.slides.length;r<a;r+=1){var o=n.slides.eq(r);if(ae.slugify(o.attr("data-history"))===t&&!o.hasClass(n.params.slideDuplicateClass)){var s=o.index();n.slideTo(s,e,i)}}else n.slideTo(0,e,i)}},oe={onHashCange:function(){var e=this,t=r();e.emit("hashChange");var i=t.location.hash.replace("#","");if(i!==e.slides.eq(e.activeIndex).attr("data-hash")){var n=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+i+'"]').index();if(void 0===n)return;e.slideTo(n)}},setHash:function(){var e=this,t=a(),i=r();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||""),e.emit("hashSet");else{var n=e.slides.eq(e.activeIndex),o=n.attr("data-hash")||n.attr("data-history");i.location.hash=o||"",e.emit("hashSet")}},init:function(){var e=this,t=r(),i=a();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var n=t.location.hash.replace("#","");if(n)for(var o=0,s=e.slides.length;o<s;o+=1){var l=e.slides.eq(o);if((l.attr("data-hash")||l.attr("data-history"))===n&&!l.hasClass(e.params.slideDuplicateClass)){var u=l.index();e.slideTo(u,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&p(i).on("hashchange",e.hashNavigation.onHashCange)}},destroy:function(){var e=a();this.params.hashNavigation.watchState&&p(e).off("hashchange",this.hashNavigation.onHashCange)}},se={run:function(){var e=this,t=e.slides.eq(e.activeIndex),i=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(i=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=f(function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()},i)},start:function(){var e=this;return void 0===e.autoplay.timeout&&!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0)},stop:function(){var e=this;return!!e.autoplay.running&&void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=r();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}},le={setTranslate:function(){for(var e=this,t=e.slides,i=0;i<t.length;i+=1){var n=e.slides.eq(i),r=-n[0].swiperSlideOffset;e.params.virtualTranslate||(r-=e.translate);var a=0;e.isHorizontal()||(a=r,r=0);var o=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0);n.css({opacity:o}).transform("translate3d("+r+"px, "+a+"px, 0px)")}},setTransition:function(e){var t=this,i=t.slides,n=t.$wrapperEl;if(i.transition(e),t.params.virtualTranslate&&0!==e){var r=!1;i.transitionEnd(function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)n.trigger(e[i])}})}}},ue={setTranslate:function(){var e,t=this,i=t.$el,n=t.$wrapperEl,r=t.slides,a=t.width,o=t.height,s=t.rtlTranslate,l=t.size,u=t.browser,c=t.params.cubeEffect,h=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled,f=0;c.shadow&&(h?(0===(e=n.find(".swiper-cube-shadow")).length&&(e=p('<div class="swiper-cube-shadow"></div>'),n.append(e)),e.css({height:a+"px"})):0===(e=i.find(".swiper-cube-shadow")).length&&(e=p('<div class="swiper-cube-shadow"></div>'),i.append(e)));for(var m=0;m<r.length;m+=1){var v=r.eq(m),g=m;d&&(g=parseInt(v.attr("data-swiper-slide-index"),10));var y=90*g,_=Math.floor(y/360);s&&(y=-y,_=Math.floor(-y/360));var b=Math.max(Math.min(v[0].progress,1),-1),x=0,w=0,T=0;g%4==0?(x=4*-_*l,T=0):(g-1)%4==0?(x=0,T=4*-_*l):(g-2)%4==0?(x=l+4*_*l,T=l):(g-3)%4==0&&(x=-l,T=3*l+4*l*_),s&&(x=-x),h||(w=x,x=0);var E="rotateX("+(h?0:-y)+"deg) rotateY("+(h?y:0)+"deg) translate3d("+x+"px, "+w+"px, "+T+"px)";if(b<=1&&b>-1&&(f=90*g+90*b,s&&(f=90*-g-90*b)),v.transform(E),c.slideShadows){var M=h?v.find(".swiper-slide-shadow-left"):v.find(".swiper-slide-shadow-top"),S=h?v.find(".swiper-slide-shadow-right"):v.find(".swiper-slide-shadow-bottom");0===M.length&&(M=p('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),v.append(M)),0===S.length&&(S=p('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),v.append(S)),M.length&&(M[0].style.opacity=Math.max(-b,0)),S.length&&(S[0].style.opacity=Math.max(b,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),c.shadow)if(h)e.transform("translate3d(0px, "+(a/2+c.shadowOffset)+"px, "+-a/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var C=Math.abs(f)-90*Math.floor(Math.abs(f)/90),A=1.5-(Math.sin(2*C*Math.PI/360)/2+Math.cos(2*C*Math.PI/360)/2),P=c.shadowScale,O=c.shadowScale/A,L=c.shadowOffset;e.transform("scale3d("+P+", 1, "+O+") translate3d(0px, "+(o/2+L)+"px, "+-o/2/O+"px) rotateX(-90deg)")}var R=u.isSafari||u.isWebView?-l/2:0;n.transform("translate3d(0px,0,"+R+"px) rotateX("+(t.isHorizontal()?0:f)+"deg) rotateY("+(t.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this,i=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)}},ce={setTranslate:function(){for(var e=this,t=e.slides,i=e.rtlTranslate,n=0;n<t.length;n+=1){var r=t.eq(n),a=r[0].progress;e.params.flipEffect.limitRotation&&(a=Math.max(Math.min(r[0].progress,1),-1));var o=-180*a,s=0,l=-r[0].swiperSlideOffset,u=0;if(e.isHorizontal()?i&&(o=-o):(u=l,l=0,s=-o,o=0),r[0].style.zIndex=-Math.abs(Math.round(a))+t.length,e.params.flipEffect.slideShadows){var c=e.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),h=e.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===c.length&&(c=p('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),r.append(c)),0===h.length&&(h=p('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),r.append(h)),c.length&&(c[0].style.opacity=Math.max(-a,0)),h.length&&(h[0].style.opacity=Math.max(a,0))}r.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+s+"deg) rotateY("+o+"deg)")}},setTransition:function(e){var t=this,i=t.slides,n=t.activeIndex,r=t.$wrapperEl;if(i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),
t.params.virtualTranslate&&0!==e){var a=!1;i.eq(n).transitionEnd(function(){if(!a&&t&&!t.destroyed){a=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)r.trigger(e[i])}})}}},he={setTranslate:function(){for(var e=this,t=e.width,i=e.height,n=e.slides,r=e.slidesSizesGrid,a=e.params.coverflowEffect,o=e.isHorizontal(),s=e.translate,l=o?t/2-s:i/2-s,u=o?a.rotate:-a.rotate,c=a.depth,h=0,d=n.length;h<d;h+=1){var f=n.eq(h),m=r[h],v=(l-f[0].swiperSlideOffset-m/2)/m*a.modifier,g=o?u*v:0,y=o?0:u*v,_=-c*Math.abs(v),b=a.stretch;"string"==typeof b&&-1!==b.indexOf("%")&&(b=parseFloat(a.stretch)/100*m);var x=o?0:b*v,w=o?b*v:0,T=1-(1-a.scale)*Math.abs(v);Math.abs(w)<.001&&(w=0),Math.abs(x)<.001&&(x=0),Math.abs(_)<.001&&(_=0),Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(T)<.001&&(T=0);var E="translate3d("+w+"px,"+x+"px,"+_+"px)  rotateX("+y+"deg) rotateY("+g+"deg) scale("+T+")";if(f.transform(E),f[0].style.zIndex=1-Math.abs(Math.round(v)),a.slideShadows){var M=o?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),S=o?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===M.length&&(M=p('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),f.append(M)),0===S.length&&(S=p('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),f.append(S)),M.length&&(M[0].style.opacity=v>0?v:0),S.length&&(S[0].style.opacity=-v>0?-v:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},de={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var i=e.constructor;return t.swiper instanceof i?(e.thumbs.swiper=t.swiper,y(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),y(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):g(t.swiper)&&(e.thumbs.swiper=new i(y({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var i=t.clickedIndex,n=t.clickedSlide;if(!(n&&p(n).hasClass(e.params.thumbs.slideThumbActiveClass)||null==i)){var r;if(r=t.params.loop?parseInt(p(t.clickedSlide).attr("data-swiper-slide-index"),10):i,e.params.loop){var a=e.activeIndex;e.slides.eq(a).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,a=e.activeIndex);var o=e.slides.eq(a).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),s=e.slides.eq(a).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===o?s:void 0===s?o:s-a<a-o?s:o}e.slideTo(r)}}},update:function(e){var t=this,i=t.thumbs.swiper;if(i){var n="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,r=t.params.thumbs.autoScrollOffset,a=r&&!i.params.loop;if(t.realIndex!==i.realIndex||a){var o,s,l=i.activeIndex;if(i.params.loop){i.slides.eq(l).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,l=i.activeIndex);var u=i.slides.eq(l).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),c=i.slides.eq(l).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();o=void 0===u?c:void 0===c?u:c-l==l-u?l:c-l<l-u?c:u,s=t.activeIndex>t.previousIndex?"next":"prev"}else s=(o=t.realIndex)>t.previousIndex?"next":"prev";a&&(o+="next"===s?r:-1*r),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(o)<0&&(i.params.centeredSlides?o=o>l?o-Math.floor(n/2)+1:o+Math.floor(n/2)-1:o>l&&(o=o-n+1),i.slideTo(o,e?0:void 0))}var h=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),i.slides.removeClass(d),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(var p=0;p<h;p+=1)i.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(d);else for(var f=0;f<h;f+=1)i.slides.eq(t.realIndex+f).addClass(d)}}},pe=[X,Y,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){_(this,{mousewheel:{enabled:!1,lastScrollTime:m(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:Z.enable,disable:Z.disable,handle:Z.handle,handleMouseEnter:Z.handleMouseEnter,handleMouseLeave:Z.handleMouseLeave,animateSlider:Z.animateSlider,releaseScroll:Z.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){_(this,{navigation:t({},Q)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},click:function(e,t){var i=e.navigation,n=i.$nextEl,r=i.$prevEl,a=t.target;if(e.params.navigation.hideOnClick&&!p(a).is(r)&&!p(a).is(n)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===a||e.pagination.el.contains(a)))return;var o;n?o=n.hasClass(e.params.navigation.hiddenClass):r&&(o=r.hasClass(e.params.navigation.hiddenClass)),!0===o?e.emit("navigationShow"):e.emit("navigationHide"),n&&n.toggleClass(e.params.navigation.hiddenClass),r&&r.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){_(this,{pagination:t({dynamicBulletIndex:0},K)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},click:function(e,t){var i=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!p(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){_(this,{scrollbar:t({isTouched:!1,timeout:null,dragTimeout:null},J)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){_(this,{parallax:t({},ee)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;_(e,{zoom:t({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},te)});var i=1;Object.defineProperty(e.zoom,"scale",{get:function(){return i},set:function(t){if(i!==t){var n=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,r=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,n,r)}i=t}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){_(this,{lazy:t({initialImageLoaded:!1},ie)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){e.params.lazy.enabled&&e.params.cssMode&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){_(this,{controller:t({control:this.params.controller.control},ne)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,i){e.controller.control&&e.controller.setTranslate(t,i)},setTransition:function(e,t,i){e.controller.control&&e.controller.setTransition(t,i)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){_(this,{a11y:t({},re,{liveRegion:p('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){_(this,{history:t({},ae)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},transitionEnd:function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){_(this,{hashNavigation:t({initialized:!1},oe)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},transitionEnd:function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){_(this,{autoplay:t({},se,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),r().addEventListener("visibilitychange",e.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t,i){e.autoplay.running&&(i||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.running&&e.autoplay.stop(),r().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){_(this,{fadeEffect:t({},le)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};y(e.params,t),y(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){_(this,{cubeEffect:t({},ue)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};y(e.params,t),y(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){_(this,{flipEffect:t({},ce)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};y(e.params,t),y(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){_(this,{coverflowEffect:t({},he)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){_(this,{thumbs:t({swiper:null,initialized:!1},de)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var i=e.thumbs.swiper;i&&i.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}];return W.use(pe),W}),function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(1),s=n(o),l=i(2),u=n(l),c=i(11),h=n(c),d=i(12),p=n(d),f=i(13),m=(n(f),i(17)),v=n(m),g=i(18),y=n(g),_=i(19),b=(n(_),i(20)),x=(n(b),i(21)),w=(n(x),i(14)),T=n(w),E=i(22),M=n(E),S=function(){function e(){r(this,e),this.onImmediate(),this.setEvents()}return a(e,[{key:"onImmediate",value:function(){gb.conf=new s["default"],gb.d=new p["default"],gb.u=new u["default"],gb.f=new h["default"],new T["default"],gb.conf.isUpdateMgr&&(gb.up=new v["default"]),gb.conf.isResizeMgr&&(gb.r=new y["default"]),window.updates=[],this.onReady()}},{key:"onReady",value:function(){gb.v=new M["default"]}},{key:"onLoad",value:function(){}},{key:"setEvents",value:function(){$(window).on("load",this.onLoad.bind(this))}}]),e}();t["default"]=S,function(){void 0===window.gb&&(window.gb={}),gb.common=new S,gb.up&&gb.up.loop()}()},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(){i(this,r),this.RELEASE=!0,this.LOG=!0,this.PARAM=!0,this.Profiler=!0,this.LOADING=!0,this.OPENING=!1,this.EFFECT=!1,this.INERTIA=!1,this.isUpdateMgr=!0,this.isResizeMgr=!0,this.isScrollMgr=!0,this.isMouseMgr=!0,this.RELEASE&&(this.LOG=!1,this.PARAM=!1,this.Profiler=!1,this.LOADING=!0,this.OPENING=!1,this.EFFECT=!1,this.INERTIA=!1),this.vDefW=window.innerWidth,this.vDefH=window.innerHeight,this.vW=window.innerWidth,this.vH=window.innerHeight,this.vSPW=window.innerWidth,this.vSPH=window.innerHeight,this.DefW=1300,this.DefH=850,this.W=1200,this.H=750,this.SPW=375,this.SPH=667,this.bp00=375,this.bp01=768,this.bp02=1080,this.bp03=1280,this.isRetina=!!(window.devicePixelRatio&&window.devicePixelRatio>1),this.APIURL="./setting.xml",this.isFirst=!0,this.isSound=!0};t["default"]=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),o=n(a),s=i(4),l=n(s),u=i(5),c=n(u),h=i(6),d=n(h),p=i(7),f=n(p),m=i(8),v=n(m),g=i(9),y=n(g),_=i(10),b=n(_),x=function w(){r(this,w),this.a=new o["default"],this.c=new l["default"],this.d=new c["default"],this.dv=new d["default"],this.m=new f["default"],this.o=new v["default"],this.s=new y["default"],this.u=new b["default"]};t["default"]=x},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"arrRand",value:function(e){return e[gb.u.m.randomInt(0,e.length-1)]}},{key:"shuffle",value:function(e){var t=[];t=e.slice();for(var i=t.length;i;){var n=Math.floor(Math.random()*i),r=t[--i];t[i]=t[n],t[n]=r}return t}},{key:"randomArr",value:function(e){for(var t=[],i=0;i<e;i++)t.push(i);return t=this.shuffle(t)}},{key:"sliceNull",value:function(e){var t,i,n,r,a;for(r=[],t=i=0,n=e.length;i<n;t=++i)a=e[t],null!==a&&r.push(a);return r}},{key:"sort",value:function(e,t,i){return void 0===i&&(i=!1),i?e.sort(function(e,i){return i[t]-e[t]}):e.sort(function(e,i){return e[t]-i[t]})}},{key:"getKey",value:function(e,t){var i=[];for(var n in e)e[n]==t&&i.push(n);return i}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"getHexColor",value:function(e,t,i){var n;return n=(e<<16|t<<8|i).toString(16),"#"+new Array(7-n.length).join("0")+n}},{key:"rgbToHsl",value:function(e,t,i){e/=255,t/=255,i/=255;var n,r,a,o=Math.max(e,t,i),s=Math.min(e,t,i);if(a=(o+s)/2,o===s)n=r=0;else{var l=o-s;switch(o){case e:n=((t-i)/l*60+360)%360;break;case t:n=(i-e)/l*60+120;break;case i:n=(e-t)/l*60+240}r=a<=.5?l/(o+s):l/(2-o-s)}return[n,100*r,100*a]}},{key:"hslToRgb",value:function(e,t,i){t/=100,i/=100;var n,r,a;if(0===t)n=r=a=255*i;else{var o=i<.5?i*(1+t):i+t-i*t,s=2*i-o;n=Math.round(255*hueToRgb(s,o,e+120)),r=Math.round(255*hueToRgb(s,o,e)),a=Math.round(255*hueToRgb(s,o,e-120))}return[n,r,a]}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.startTime=null,this.elapsedTime=null,this.now=new Date}return n(e,[{key:"getNow",value:function(){this.now=new Date}},{key:"start",value:function(){this.now=new Date,this.startTime=this.now.getTime()}},{key:"elapsed",value:function(){return this.now=new Date,this.elapsedTime=this.now.getTime()-this.startTime}},{key:"m",value:function(){return this.elapsed(),Math.floor(this.elapsedTime+100/60)}},{key:"s",value:function(){return this.elapsed(),Math.floor(this.elapsedTime/1e3)}},{key:"ms",value:function(){return this.elapsed(),this.elapsedTime}},{key:"time",value:function(){this.getNow(),this.hour=this.now.getHours(),this.minute=this.now.getMinutes(),this.second=this.now.getSeconds()}},{key:"date",value:function(){return this.now.getDate()}},{key:"months",value:function(){new Array(31,28,31,30,31,30,31,31,30,31,30,31);return this.now.getMonth()+1}},{key:"year",value:function(){return this.now.getFullYear()}},{key:"day",value:function(){var e=["æ¥","æ","ç«","æ°´","æ¨","é","å"],t=(e[this.now.getDay()],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);t[this.now.getDay()]}},{key:"afterDay",value:function(e,t){return new Date(e.getTime()+24*Number(t)*60*60*1e3)}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.ua=window.navigator.userAgent.toLowerCase(),this.appV=window.navigator.appVersion.toLowerCase(),this.isRes=null,this.isResSP=null,this.isResPC=null,this.isPC=null,this.isSP=null,this.isTAB=null,this.isMB=null,this.isIE=!1,this.isSetSPSize=!1}return n(e,[{key:"isDeviceSP",value:function(){var e=["iphone","ipod","ipad","android","dream","cupcake","blackberry9500","blackberry9530","blackberry9520","blackberry9550","blackberry9800","webos","incognito","webmate"],t=new RegExp(e.join("|"),"i"),i=t.test(this.ua);i&&$("body").addClass("isDeviceSP"),this.isSP=i}},{key:"isDeviceTAB",value:function(){var e=this.ua.indexOf("windows")!=-1&&this.ua.indexOf("touch")!=-1||this.ua.indexOf("ipad")!=-1||this.ua.indexOf("android")!=-1&&this.ua.indexOf("mobile")==-1||this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("tablet")!=-1||this.ua.indexOf("kindle")!=-1||this.ua.indexOf("silk")!=-1||this.ua.indexOf("playbook")!=-1;e&&$("body").addClass("isDeviceTAB"),this.isTAB=e}},{key:"isDeviceMB",value:function(){var e=this.ua.indexOf("windows")!=-1&&this.ua.indexOf("phone")!=-1||this.ua.indexOf("iphone")!=-1||this.ua.indexOf("ipod")!=-1||this.ua.indexOf("android")!=-1&&this.ua.indexOf("mobile")!=-1||this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("mobile")!=-1||this.ua.indexOf("blackberry")!=-1;e&&$("body").addClass("isDeviceMB"),this.isMB=e}},{key:"isDevicePC",value:function(){return this.isSP||this.isTAB||this.isMB?void(this.isPC=!1):($("body").addClass("isDevicePC"),void(this.isPC=!0))}},{key:"setEventString",value:function(){this.eClick=this.isTab||this.isSP?"touchstart":"click",this.eStart=this.isTab||this.isSP?"touchstart":"mousedown",this.eEnd=this.isTab||this.isSP?"touchend":"mouseup",this.eMove=this.isTab||this.isSP?"touchmove":"mousemove",this.eEnter=this.isTab||this.isSP?"touchstart":"mouseenter",this.eLeave=this.isTab||this.isSP?"touchend":"mouseleave",this.eOver=this.isTab||this.isSP?"touchstart":"mouseover",this.eOut=this.isTab||this.isSP?"touchend":"mouseout",this.eWheel=this.isTab||this.isSP?"touchmove":"mousewheel",this.eScroll=this.isTab||this.isSP?"touchmove":"scroll"}},{key:"isSmt",value:function(){return navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0}},{key:"isTablet",value:function(){return this.isIpad()||this.isAndroid()&&navigator.userAgent.indexOf("Mobile")===-1}},{key:"isIpad",value:function(){return navigator.userAgent.indexOf("iPad")>0}},{key:"isAndroid",value:function(){var e;return e=navigator.userAgent,e.indexOf("BlackBerry")>0||e.indexOf("Android")>0||e.indexOf("Windows Phone")>0}},{key:"isiPhone",value:function(){var e=new RegExp("iphone","i");return e.test(this.ua)}},{key:"isIos",value:function(){return navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPod")>0}},{key:"isPs3",value:function(){var e;return e=navigator.userAgent,e.indexOf("PLAYSTATION 3")>0}},{key:"isVita",value:function(){var e;return e=navigator.userAgent,e.indexOf("PlayStation Vita")>0}},{key:"isBrowserCheck",value:function(){this.isIEVersion(),this.isEdge(),this.isChrome(),this.isFF(),this.isSafari(),this.isOpera(),this.isIOSNotSfari(),this.isAPPBrowser()}},{key:"isIe",value:function(){var e;return e=window.navigator.userAgent.toLowerCase(),e.indexOf("msie")!==-1||e.indexOf("trident/7")!==-1}},{key:"isWin",value:function(){return navigator.platform.indexOf("Win")!==-1}},{key:"isChrome",value:function(){return this.ua.indexOf("chrome")!==-1&&($("body").addClass("isChorme"),!0)}},{key:"isFF",value:function(){return this.ua.indexOf("firefox")!==-1&&($("body").addClass("isFF"),!0)}},{key:"isSafari",value:function(){if(this.isChrome()||this.ua.indexOf("lunascape")!=-1)return!1;var e=new RegExp("safari","i");return!!e.test(this.ua)&&($("body").addClass("isSafari"),!0)}},{key:"isOpera",value:function(){var e=new RegExp("opera","i");return!!e.test(this.ua)&&($("body").addClass("isOpera"),!0)}},{key:"isIOSNotSfari",value:function(){return this.isIos()&&this.ua.indexOf("safari")===-1||this.isIos()&&this.ua.indexOf("crios")>0||this.isIos()&&this.ua.indexOf("gsa")>0?($("body").addClass("isIOSNotSafari"),!0):($("html").addClass("isIOSSafari"),!1)}},{key:"isAPPBrowser",value:function(){return(this.ua.indexOf("fban/fbios;fbav")!==-1||this.ua.indexOf("twitter")!==-1)&&($("body").addClass("isAPPBrowser"),!0)}},{key:"isIe8Under",value:function(){var e;return e=navigator.appVersion.toLowerCase(),e=e.indexOf("msie")>-1?parseInt(e.replace(/.*msie[ ]/,"").match(/^[0-9]+/)):0,e<=8&&0!==e}},{key:"isIe9Under",value:function(){var e;return e=navigator.appVersion.toLowerCase(),e=e.indexOf("msie")>-1?parseInt(e.replace(/.*msie[ ]/,"").match(/^[0-9]+/)):0,e<=9&&0!==e}},{key:"isIe10Under",value:function(){var e;return e=navigator.appVersion.toLowerCase(),e=e.indexOf("msie")>-1?parseInt(e.replace(/.*msie[ ]/,"").match(/^[0-9]+/)):0,e<=10&&0!==e}},{key:"isIe11Under",value:function(){var e=this.isIe10Under()||this.ua.indexOf("trident")!=-1;return e}},{key:"isEdge",value:function(){log(this.ua.indexOf("AppleWebkit"),this.ua.indexOf("Edge"),this.ua,this.appV);var e=this.ua.indexOf("applewebkit")>=0&&this.ua.indexOf("edge")!=-1;return e&&$("body").addClass("isEdge"),e}},{key:"isIEVersion",value:function(){return $("body").addClass("isIE"),this.isIE=!0,this.appV.indexOf("msie 10.")!=-1?($("body").addClass("isIE10"),"ie10"):this.appV.indexOf("msie 9.")!=-1?($("body").addClass("isIE9"),"ie9"):this.appV.indexOf("msie 8.")!=-1?($("body").addClass("isIE8"),"ie8"):this.appV.indexOf("msie 7.")!=-1?($("body").addClass("isIE7"),"ie7"):this.appV.indexOf("msie 6.")!=-1?($("body").addClass("isIE6"),"ie6"):this.appV.indexOf("trident")!=-1?($("body").addClass("isIE11"),"ie11"):($("body").removeClass("isIE"),this.isIE=!1,"notIE")}},{key:"isAndroidVersion",value:function(){if(this.ua.indexOf("android")>0){var e=parseFloat(this.ua.slice(this.ua.indexOf("android")+8));return e}}},{key:"isiphoneVersion",value:function(){if(this.ua.indexOf("iPhone OS")>0){var e=parseFloat(this.ua.slice(this.ua.indexOf("iPhone OS")+10));return e}}},{key:"isDirection",value:function(){var e=window.innerWidth,t=window.innerHeight;t>e?($("body").addClass("portrait"),$("body").removeClass("landscape")):($("body").addClass("landscape"),$("body").removeClass("portrait"))}},{key:"isResponsive",
value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:374,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:960,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1080,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1281,r=window.innerWidth;window.innerHeight;r>e&&"sp-s"==this.isRes&&$(window).trigger("sp_s_sp"),r<=e&&"sp"==this.isRes&&$(window).trigger("sp_sp_s"),r>t&&"sp"==this.isRes&&$(window).trigger("sp_tab"),r<=t&&"tab"==this.isRes&&$(window).trigger("tab_sp"),r>i&&"tab"==this.isRes&&$(window).trigger("tab_pc"),r<=i&&"pc"==this.isRes&&$(window).trigger("pc_tab"),r>n&&"pc"==this.isRes&&$(window).trigger("pc_pc_w"),r<=n&&"pc-w"==this.isRes&&$(window).trigger("pc_w_pc"),r<=e&&(this.isRes="sp-s"),r>e&&r<=t&&(this.isRes="sp"),r>t&&r<=i&&(this.isRes="tab"),r>i&&r<=n&&(this.isRes="pc"),r>n&&(this.isRes="pc-w"),r>t?(this.isResSP=!1,this.isResPC=!0,$("body").removeClass("isResponsiveSP"),$("body").addClass("isResponsivePC")):(this.isResSP=!0,this.isResPC=!1,$("body").addClass("isResponsiveSP"),$("body").removeClass("isResponsivePC")),log(this.isResSP,this.isResPC)}},{key:"isPCSP",value:function(e,t){var i=location.href;this.isPC||this.isTAB||i.indexOf("pc")==-1||(location.href=t),this.isPC&&i.indexOf("pc")==-1&&(location.href=e),this.isTAB&&i.indexOf("pc")==-1&&(location.href=e)}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"randomInt",value:function(e,t){return Math.floor(Math.random()*(t+1-e)+e)}},{key:"random2",value:function(e,t,i,n){return this.hit(2)?this.randomInt(e,t):this.randomInt(i,n)}},{key:"hit",value:function(e){return 0===this.randomInt(0,e-1)}},{key:"range",value:function(e){return this.randomInt(-e,e)}},{key:"map",value:function(e,t,i,n,r){var a;return e<n?t:e>r?i:(a=(i-t)/(r-n),(e-n)*a+t)}},{key:"demical",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=Math.floor(e*Math.pow(10,t))/Math.pow(10,t);return i}},{key:"float",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toFixed(t)}},{key:"clamp",value:function(e,t,i,n,r){return e<t?e=void 0==n?t:n:e>i&&(e=void 0==r?i:r),e}},{key:"rate",value:function(e,t){var i=e/t;return i}},{key:"lerp",value:function(e,t,i){return i=i<0?0:i,i=i>1?1:i,e+(t-e)*i}},{key:"degree",value:function(e){return 180*e/Math.PI}},{key:"radian",value:function(e){return e*Math.PI/180}},{key:"dist",value:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},{key:"ascend",value:function(e){return e.sort(function(e,t){return e>t?-1:e<t?1:0}),e}},{key:"descend",value:function(e){return e.sort(function(e,t){return e<t?-1:e>t?1:0}),e}},{key:"constrain",value:function(e,t,i){return Math.min(i,Math.max(e,t))}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){i(this,e)}return r(e,[{key:"getPageID",value:function(){this.pageID=$("body").attr("id")}},{key:"isObject",value:function(e,t){return"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"isNull",value:function(e){return null===e}},{key:"isUndefined",value:function(e){return"undefined"==typeof e}},{key:"setImgSPSize",value:function(e){if(!this.isSetSPSize){this.isSetSPSize=!0;var t=e,i=t.length;t.each(function(e){var t=Math.floor($(this).width()/2),n=Math.floor($(this).height()/2);$(this).attr({width:t,height:n}),i==e+1&&$(window).trigger("setSpZieEnd")})}}},{key:"notMove",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$("#wrapper");e?t.on("touchstart.noControl touchmove.noControl touchend.noControl",function(e){e.preventDefault()}):t.off("touchstart.noControl touchmove.noControl touchend.noControl")}},{key:"setPreventMousemove",value:function(){this.removePrevent(),$(window).on("touchmove.noControl",function(e){e.preventDefault()})}},{key:"preventDefault",value:function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}},{key:"preventDefaultForScrollKeys",value:function(e){if(keys[e.keyCode])return preventDefault(e),!1}},{key:"disableScroll",value:function(e){e.get(0).addEventListener&&e.get(0).addEventListener("DOMMouseScroll",this.preventDefault,!1),e.get(0).onwheel=this.preventDefault,e.get(0).onmousewheel=document.onmousewheel=this.preventDefault,e.get(0).ontouchmove=this.preventDefault}},{key:"enableScroll",value:function(e){e.get(0).removeEventListener&&e.get(0).removeEventListener("DOMMouseScroll",this.preventDefault,!1),e.get(0).onmousewheel=document.onmousewheel=null,e.get(0).onwheel=null,e.get(0).ontouchmove=null,document.onkeydown=null}},{key:"full",value:function(){var e=document.body;if(e.requestFullScreen)e.requestFullScreen();else if(e.webkitRequestFullScreen)e.webkitRequestFullScreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return;e.msRequestFullscreen()}}}]),e}();t["default"]=a},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"isContain",value:function(e,t){return e.indexOf(t)!=-1}},{key:"add0",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-2;return("000000000000"+e).substr(t)}},{key:"price",value:function(t){return e(t).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}},{key:"strReverse",value:function(e){var t,i,n;for(n="",i=e.length,t=1;t<=i;)n+=e.substr(-t,1),t++;return n}},{key:"replaceAll",value:function(e,t,i){return e.split(t).join(i)}},{key:"strReplace",value:function(e,t,i){var n=new RegExp(t,"g");return e.replace(n,i)}},{key:"unique",value:function(){return(new Date).getTime()}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"getParam",value:function(){var e=location.href,t=e.split("?")[1];if(void 0!=t){for(var i=t.split("&"),n={},r=0;r<i.length;r++)paramItem=i[r].split("="),n[paramItem[0]]=paramItem[1];return n}}},{key:"setParam",value:function(e){window.history.pushState("","","?"+e)}},{key:"hash",value:function(){return location.hash.replace("#","")}},{key:"getHash",value:function(){return location.hash}},{key:"setHash",value:function(e){location.hash=e}},{key:"checkCookie",value:function(e){var t=null;return t=void 0!=$.cookie(e)&&""!=$.cookie(e)}},{key:"getCookie",value:function(e){return void 0==$.cookie(e)||""==$.cookie(e)?null:$.cookie(e)}},{key:"setCookie",value:function(e,t,i){var n=i||5e3,r=new Date;r.setTime(r.getTime()+n),$.cookie(e,t,{expires:r,path:"/"})}},{key:"protocol",value:function(){return location.protocol}},{key:"host",value:function(){return location.hostname}},{key:"port",value:function(){return location.port}},{key:"path",value:function(){return location.pathname}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.blank(),this.requestAnimationFrame(),this.scrollRestoration(!1),this.checkPassive()}return n(e,[{key:"blank",value:function(){$(function(){$(".blank").attr("target","_blank")})}},{key:"scrollRestoration",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?window.history.scrollRestoration="auto":window.history.scrollRestoration="manual"}},{key:"requestAnimationFrame",value:function(){var e=1e3/60;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,e)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){window.clearTimeout(e)}}},{key:"SPH",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("#wrapper");if(!gb.u.dv.isPC){var i=function(){clearTimeout(e.Timer),e.Timer=setTimeout(function(){var e=0;$("body").hasClass("landscape")&&(e=200),t.innerHeight(gb.r.h+e)},100)};i(),$(window).on("orientationchange",i)}}},{key:"checkCssBlend",value:function(){"CSS"in window&&"supports"in window.CSS&&(window.CSS.supports("mix-blend-mode","soft-light")||document.documentElement.classList.add("not-mix-blend-mode")),log(gb.u.isIE),gb.u.isIE&&document.documentElement.classList.add("not-mix-blend-mode")}},{key:"notSaveImg",value:function(){gb.u.isPC&&$(function(){$("img").on("contextmenu",function(){return!1})});var e=gb.u.isAndroidVersion();if(void 0!=e&&e<5){var t;$("img").on("touchstart",function(){return t=setTimeout(function(){},500),!1}),$("img").on("touchend",function(){return clearTimeout(t),!1})}}},{key:"smartRollover",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_off.",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_on.",n=e,r=0;r<n.length;r++)n.eq(r).get(0).getAttribute("src").match(t)&&(log(111),n.eq(r).get(0).onmouseover=function(){this.setAttribute("src",this.getAttribute("src").replace(t,i))},n.eq(r).get(0).onmouseout=function(){this.setAttribute("src",this.getAttribute("src").replace(i,t))})}},{key:"checkPassive",value:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(i){}window.addEventListenerWithOptions=function(t,i,n,r){var a=r;e||(a=r.capture),t.addEventListener(i,n,a)}}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.setup(),this.setEvents()}return n(e,[{key:"setup",value:function(){this.console()}},{key:"setupHTML",value:function(){gb.conf.LOG&&(this.$target=$('<div class="debug"></div>'),this.$target.prependTo($("body")).css({position:"fixed","z-index":99999,left:20,top:20}))}},{key:"console",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=["log"];"undefined"==typeof window.console&&(window.console={});for(var t in e)!function(e){console[e]&&"function"==typeof console[e]&&gb.conf.LOG?window[e]=console[e].bind(console):window[e]=function(){}}(e[t])})},{key:"html",value:function(e){gb.conf.LOG&&this.$target.text(e)}},{key:"alert",value:function(e){}},{key:"onReady",value:function(){this.setupHTML()}},{key:"setEvents",value:function(){$(document).on("ready",this.onReady.bind(this))}}]),e}();t["default"]=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(14),s=n(o),l=i(16),u=n(l),c=function(){function e(){r(this,e),this.setup(),this.setEvents()}return a(e,[{key:"setup",value:function(){gb.pageID=$("body").attr("id"),gb.je=new s["default"],gb.conf.Profiler&&new u["default"]}},{key:"setEvents",value:function(){}}]),e}();t["default"]=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(15),u=n(l),c=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="JudgeEnvironment",e.isUEv=!1,e.isREv=!0,e.isSEv=!1,e.isMEv=!1,e.setup(),e.setEvents(),e}return o(t,e),s(t,[{key:"setup",value:function(){this.isREv=!0,gb.u.dv.isDeviceSP(),gb.u.dv.isDeviceTAB(),gb.u.dv.isDeviceMB(),gb.u.dv.isDevicePC(),gb.u.dv.setEventString(),gb.u.dv.isBrowserCheck(),gb.u.dv.isDirection(),gb.u.dv.isResponsive(gb.conf.bp00,gb.conf.bp01,gb.conf.bp02,gb.conf.bp03)}},{key:"onResize",value:function(){gb.u.dv.isDirection.call(gb.u.dv),gb.u.dv.isResponsive.call(gb.u.dv,gb.conf.bp00,gb.conf.bp01,gb.conf.bp02,gb.conf.bp03)}}]),t}(u["default"]);t["default"]=c},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.name="Base",this.isUEv=!1,this.isREv=!1,this.isSEv=!1,this.isMEv=!1,this.prevent=!0,this.isloop=!0}return n(e,[{key:"setup",value:function(){}},{key:"update",value:function(){}},{key:"draw",value:function(){}},{key:"loop",value:function(){this.isloop&&(this.update(),this.draw(),this.Timer=requestAnimationFrame(this.loop.bind(this)))}},{key:"onResize",value:function(){}},{key:"onScroll",value:function(){}},{key:"onMouseMove",value:function(){}},{key:"setEvents",value:function(){var e=this;this.isUEv&&this.loop(),this.isREv&&$(window).on("resize."+this.name,this.onResize.bind(this)),this.isSEv&&$(window).on("scroll."+this.name,this.onScroll.bind(this)),this.isMEv&&$(window).on("touchmove."+this.name,function(t){e.onMouseMove.call(e,t),e.prevent&&t.preventDefault()})}},{key:"removeEvents",value:function(){this.isUEv&&(this.isloop=!1,cancelAnimationFrame(this.Timer)),this.isREv&&$(window).off("resize."+this.name),this.isSEv&&$(window).off("scroll."+this.name),this.isMEv&&$(window).off("touchmove."+this.name)}},{key:"onU",value:function(){this.isUEv=!0,this.isloop=!0,this.loop()}},{key:"offU",value:function(){this.isloop=!1,this.isUEv&&cancelAnimationFrame(this.Timer)}},{key:"offR",value:function(){this.isREv&&$(window).off("resize."+this.name)}},{key:"offS",value:function(){this.isSEv&&$(window).off("scroll."+this.name)}},{key:"offM",value:function(){this.isMEv&&$(window).off("touchmove."+this.name)}}]),e}();t["default"]=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(15),u=n(l),c=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Profiler",e.isUEv=!0,e.setup(),e.setEvents(),e}return o(t,e),s(t,[{key:"setup",value:function(){this.Stats=new Stats,this.Stats.domElement.style.position="fixed",this.Stats.domElement.style.left="0px",this.Stats.domElement.style.top="0px",document.body.appendChild(this.Stats.domElement)}},{key:"update",value:function(){this.Stats&&this.Stats.update()}}]),t}(u["default"]);t["default"]=c},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.frame=0,this.len=0,this.Timer=null,this.isStop=!1,this.st=0,this.et=0,this.delta=0,this.frameRate=0,this.setup()}return n(e,[{key:"setup",value:function(){this.start=this.st=(new Date).getTime(),this.fps=60,this.frameLength=6}},{key:"loop",value:function(){var e=(new Date).getTime();this.delta=e-this.st,this.st=e,this.frame++,this.Timer=requestAnimationFrame(this.loop.bind(this))}},{key:"stop",value:function(){cancelAnimationFrame(this.Timer)}},{key:"resume",value:function(){this.loop()}},{key:"getElapsedTime",value:function(){var e=(new Date).getTime()-this.start;return e/1e3}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.w=0,this.h=0,this.oldW=0,this.oldH=0,this.ww=0,this.wh=0,this.setup(),this.setEvents()}return n(e,[{key:"setup",value:function(){this.getWindowSize()}},{key:"getWindowSize",value:function(){this.oldW=this.w,this.oldH=this.h,this.w=window.innerWidth,this.h=window.innerHeight,this.ww=$(window).width(),this.hh=$(window).height(),this.haw=this.w/2,this.hah=this.h/2}},{key:"onResize",value:function(e){this.getWindowSize()}},{key:"setEvents",value:function(){$(window).on("resize",this.onResize.bind(this))}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),gb.u.dv.isPC?this.$wrap=$(window):this.$wrap=$("#wrapper"),this.st=0,this.prest=0,this.sb=0,this.isUp=null,this.dis=0,this.deltaY=0,this.offset=0,this.isSetWheel=!1,this.setup(),this.setEvents()}return n(e,[{key:"setup",value:function(){}},{key:"onScroll",value:function(){this.st=this.$wrap.scrollTop(),this.sb=this.st+gb.r.h}},{key:"onWheel",value:function(e,t,i,n){this.isWheel=!0,n>0?this.isUp=!0:this.isUp=!1,this.dis=n-this.deltaY,this.offset+=n,this.deltaY=n}},{key:"setEvents",value:function(){var e=this,t=this.$wrap.get(0);window.addEventListenerWithOptions(t,"scroll",this.onScroll.bind(this),{passive:!0,capture:!1}),this.isSetWheel&&$(document).on("mousewheel",function(t,i,n,r){e.onWheel(t,i,n,r)})}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(document);i(this,e),this.$wrap=t,this.x=0,this.y=0,this.px=0,this.py=0,this.cx=0,this.cy=0,this.setup(),this.setEvents()}return n(e,[{key:"setup",value:function(){}},{key:"onMousemove",value:function(e){this.getPos(e)}},{key:"onTouchmove",value:function(e){this.x=e.originalEvent.changedTouches[0].pageX,this.y=e.originalEvent.changedTouches[0].pageY}},{key:"getPos",value:function(e){void 0==e.offsetX?(this.x=e.pageX-this.$wrap.offset().left,this.y=e.pageY-this.$wrap.offset().top):(this.x=e.pageX-$(window).scrollLeft(),this.y=e.pageY-$(window).scrollTop()),this.cx=e.clientX-gb.r.haw,this.cy=e.clientY-gb.r.hah}},{key:"setEvents",value:function(){var e=this;this.$wrap.on("touchmove.MouseMgr",function(t){e.onTouchmove(t)}),this.$wrap.on("mousemove.MouseMgr",function(t){e.onMousemove(t)})}},{key:"removeEvents",value:function(){this.$wrap.off("touchmove.MouseMgr"),this.$wrap.off("mousemove.MouseMgr")}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.list=[],this.endList=[],this.isStart=!0,this.isWheel=!1,this.endTimer=200,this.setup(),this.setEvents()}return n(e,[{key:"setup",value:function(){}},{key:"add",value:function(e,t){var i={name:e,func:t};this.list.push(i)}},{key:"remove",value:function(t){e.arrRemove(this.list,t)}},{key:"onScroll",value:function(e){for(var t in this.list)this.list[t].func()}},{key:"onMouseWheel",value:function(e,t,i,n){this.isWheel=!0,n>0?this.upWheel=!0:this.upWheel=!1;for(var r in this.list)this.list[r].func()}},{key:"onEnd",value:function(e){var t=this;this.Timer&&clearTimeout(this.Timer),this.Timer=setTimeout(function(){t.isStart=!0,t.isWheel=!1;for(var e in t.endList)t.endList[e]()},this.endTimer)}},{key:"addFixedObjectScroll",value:function(e){this.list.push(function(){e.css("left",-$(window).scrollLeft())})}},{key:"setEvents",value:function(){if(gb.u.dv.isPC)var e=$(window).get(0);else var e=$("#wrapper").get(0);window.addEventListenerWithOptions(e,"scroll",this.onScroll.bind(this),{passive:!0,capture:!1})}}],[{key:"arrRemove",value:function(e,t){for(var i,n=e.length,r=0;r<n;r++)i=e[r],i.name==t&&(e.splice(r,1),r--,n--);return e}}]),e}();t["default"]=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function f(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=i(23),d=n(h),p=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ViewCommon",e.isUEv=!1,e.isREv=!0,e.isSEv=!1,e.isMEv=!1,e.setup(),e.setEvents(),e}return o(t,e),s(t,[{key:"setup",value:function(){this.ui=new d["default"]}},{key:"onLoad",value:function(){this.ui.setup()}},{key:"onLoadingEnd",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"onLoadAll",value:function(){}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),$(window).on("load",this.onLoad.bind(this)),$(window).on("loadingEnd",this.onLoadingEnd.bind(this)),$(window).on("loadAll",this.onLoadAll.bind(this))}}]),t}(c["default"]);t["default"]=p},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function v(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:v(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},c=i(15),h=r(c),d=i(24),p=(n(d),i(25)),f=r(p),m=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setEvents(),e}return s(t,e),l(t,[{key:"setup",value:function(){$("#top").length&&(this.top=new f["default"])}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"setEvents",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this)}}]),t}(h["default"]);t["default"]=m},function(e,t){"use strict";function i(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return parseFloat(Math.min(e+Math.random()*(t-e),t).toFixed(i))}function n(e,t){return Math.floor(Math.random()*(t+1-e)+e)}function r(e,t,i,n){return this.hit(2)?this.randomInt(e,t):this.randomInt(i,n)}function a(e){return 0===this.randomInt(0,e-1)}function o(e){return this.randomInt(-e,e)}function s(e,t,i,n,r){var a;return e<n?t:e>r?i:(a=(i-t)/(r-n),(e-n)*a+t)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=Math.floor(e*Math.pow(10,t))/Math.pow(10,t);return i}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toFixed(t)}function c(e,t,i,n,r){return e<t?e=void 0==n?t:n:e>i&&(e=void 0==r?i:r),e}function h(e,t){var i=e/t;return i}function d(e,t,i){return i=i<0?0:i,i=i>1?1:i,e+(t-e)*i}function p(e){return 180*e/Math.PI}function f(e){return e*Math.PI/180}function m(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(e){return e.sort(function(e,t){return e>t?-1:e<t?1:0}),e}function g(e){return e.sort(function(e,t){return e<t?-1:e>t?1:0}),e}function y(e,t,i){return Math.min(i,Math.max(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.random=i,t.randomInt=n,t.random2=r,t.hit=a,t.range=o,t.map=s,t.demical=l,t["float"]=u,t.clamp=c,t.rate=h,t.lerp=d,t.degree=p,t.radian=f,t.dist=m,t.ascend=v,t.descend=g,t.constrain=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function R(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:R(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=i(26),d=(n(h),i(27)),p=n(d),f=i(29),m=n(f),v=i(30),g=n(v),y=i(35),_=n(y),b=i(36),x=n(b),w=i(37),T=n(w),E=i(38),M=n(E),S=i(56),C=n(S),A=i(58),P=n(A),O=i(59),L=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.w=window.innerWidth,
e.isUEv=!0,e.result=O(),e.setup(),e.setEvents(),e.onResize();new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:2,freeMode:!0,slidesOffsetAfter:window.innerWidth-$(".swiper-wrapper").width(),navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});return e}return o(t,e),s(t,[{key:"setup",value:function(){$(".footer-link").each(function(e,t){new m["default"](t)}),$(".menu-lang-link").each(function(e,t){new m["default"](t)}),$(".HoverImg").each(function(e,t){new x["default"](t)}),new P["default"]($(".header"),".whitebg"),new p["default"]($(".tabWrap")),this.menu=new g["default"]({$btn:$(".header-menu-btn"),$contents:$(".menu")}),$(".parallax,.parallax2,.parallax3").each(function(e,t){new _["default"]($(t),{ease:t.dataset.ease-0,max:t.dataset.max-0})}),$(".parallaxImg").each(function(e,t){var i=.05+.07*(Math.random()-.5);200+100*(Math.random()-.5);$(t).attr("data-ease",i),new _["default"]($(t),{ease:t.dataset.ease-0,max:t.dataset.max-0})}),this.scrollBtn=new T["default"]($(".scroll-btn")),this.kv=new M["default"],this.cookie=new C["default"],this.show()}},{key:"show",value:function(){var e=this;this.kv.timeline(function(t){return e.scrollBtn.show(),e.menu.showBtn()}).then(function(t){e.cookie.show()})}},{key:"timeline",value:function(){}},{key:"update",value:function(){window.updates.map(function(e){e.cb()})}},{key:"onResize",value:function(e){e?"mobile"!=this.result.device.type&&"tablet"!=this.result.device.type&&this.w==window.innerWidth&&(document.body.style.setProperty("--h",window.innerHeight+"px"),this.w=window.innerWidth):document.body.style.setProperty("--h",window.innerHeight+"px")}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),$(window).on("resize",$.debounce(200,this.onResize.bind(this)))}}]),t}(c["default"]);t["default"]=L},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(15),u=n(l),c=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.name="HoverClass",i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"update",value:function(){}},{key:"draw",value:function(){}},{key:"show",value:function(){var e=new TimelineMax;return e.to(this.$ele.find(".bg"),.5,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"0 0"}}),e}},{key:"hide",value:function(e){var t=new TimelineMax,i=.5*(.5-.5*e);return t.to(this.$ele.find(".bg"),i,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"0 0"}}).to(this.$ele.find(".bg"),.5,{scaleX:0,ease:Expo.easeOut,startAt:{"transform-origin":"100% 0"}},i),t}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.show())}},{key:"onLeave",value:function(){var e=this.tl.progress();this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.hide(e))}},{key:"setEvents",value:function(){this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("mouseleave."+this.name,this.onLeave.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this)),this.$ele.on("touchend."+this.name,this.onLeave.bind(this))}},{key:"removeEvents",value:function(){this.$ele.off("mouseenter."+this.name),this.$ele.off("mouseleave."+this.name),this.$ele.off("touchstart."+this.name),this.$ele.off("touchend."+this.name)}},{key:"destroy",value:function(){this.removeEvents()}}]),t}(u["default"]);t["default"]=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function f(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=i(28),d=n(h),p=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=e,i.color={activeBtnbg:"#fff",activeBtnColor:"#2e2f30",nonActiveBtnBg:"#000ba3",nonActiveBtnColor:"#fff"},i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){this.onResize(),this.$ele.find(".tabContents.is-active .tabContentsItem").css({opacity:1,transform:"translateY(0px)"}),this.$ele.find(".tabbtn").each(function(e,t){new d["default"](t)})}},{key:"onResize",value:function(){var e=this.$ele.find(".tabContents.is-active").outerHeight(!0);$(".index-solution-contents-inner").height(e)}},{key:"changeContents",value:function(e){var t=e.$prevContents,i=e.$prevBtn,n=e.$nextContents,r=e.$nextBtn;t.removeClass("is-active"),i.removeClass("is-active"),n.addClass("is-active"),r.addClass("is-active"),this.tl&&this.tl.kill(),this.killTL(),this.tl=new TimelineMax,this.tl.add(this.hide(t,i),0).add(this.show(n,r),.4)}},{key:"killTL",value:function(){TweenMax.killTweensOf($(".tabContentsItem")),TweenMax.killTweensOf($(".tabBtn span"))}},{key:"show",value:function(e,t){var i=new TimelineMax;return e.find(".tabContentsItem").each(function(e,t){i.to(t,.8,{opacity:1,y:0,ease:Expo.easeOut,startAt:{y:10}},.03*e)}),i}},{key:"showBtn",value:function(e){var t=new TimelineMax;return t.to(e.find(".base_bg"),.5,{"background-color":this.color.activeBtnbg,ease:Expo.easeOut}).to(e.find("span"),.5,{color:this.color.activeBtnColor,ease:Expo.easeOut},0),t}},{key:"hideBtn",value:function(e){var t=new TimelineMax;return t.to(e.find(".base_bg"),.5,{"background-color":this.color.nonActiveBtnBg,ease:Expo.easeOut}).to(e.find("span"),.5,{color:this.color.nonActiveBtnColor},0),t}},{key:"hide",value:function(e,t){var i=new TimelineMax;return e.find(".tabContentsItem").each(function(e,t){i.to(t,.8,{opacity:0,y:-10,ease:Expo.easeOut},.03*e)}),i}},{key:"setEvents",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.find(".tabbtn").on("click",function(t){var i=$(t.currentTarget);if(!i.hasClass("is-active")){var n=i.index(),r=e.$ele.find(".tabbtn.is-active"),a=e.$ele.find(".tabContents.is-active");e.changeContents({$prevContents:a,$prevBtn:r,$nextBtn:i,$nextContents:e.$ele.find(".tabContents").eq(n)})}}),$(window).on("resize",this.onResize.bind(this))}}]),t}(c["default"]);t["default"]=p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(15),u=n(l),c=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.name="HoverClass",i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"update",value:function(){}},{key:"draw",value:function(){}},{key:"show",value:function(){var e=new TimelineMax;return e.to(this.$ele.find(".bg"),.5,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"0 0"}}),e}},{key:"hide",value:function(e){var t=new TimelineMax,i=.5*(.5-.5*e);return t.to(this.$ele.find(".bg"),i,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"0 0"}}).to(this.$ele.find(".bg"),.5,{scaleX:0,ease:Expo.easeOut,startAt:{"transform-origin":"100% 0"}},i),t}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.show())}},{key:"onLeave",value:function(){var e=this.tl.progress();this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.hide(e))}},{key:"setEvents",value:function(){this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("mouseleave."+this.name,this.onLeave.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this)),this.$ele.on("touchend."+this.name,this.onLeave.bind(this))}},{key:"removeEvents",value:function(){this.$ele.off("mouseenter."+this.name),this.$ele.off("mouseleave."+this.name),this.$ele.off("touchstart."+this.name),this.$ele.off("touchend."+this.name)}},{key:"destroy",value:function(){this.removeEvents()}}]),t}(u["default"]);t["default"]=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.l=i.$ele.find("svg").width(),i.scale=1.5,i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"show",value:function(){var e=new TimelineMax;return e.to(this.$ele.find(".bar"),.5,{startAt:{"transform-origin":"0 0",x:this.$ele.find(".bar").width()*-1.1},x:0,ease:Expo.easeOut}),e}},{key:"hide",value:function(e){var t=new TimelineMax;return t.to(this.$ele.find(".bar"),.5,{x:1.1*this.$ele.find(".bar").width(),startAt:{"transform-origin":"100% 0"},ease:Expo.easeOut}),t}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.show())}},{key:"onLeave",value:function(){var e=this.tl.progress();this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.hide(e))}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("mouseleave."+this.name,this.onLeave.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this)),this.$ele.on("touchend."+this.name,this.onLeave.bind(this))}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function b(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:b(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=i(31),d=n(h),p=i(32),f=n(p),m=i(33),v=n(m),g=i(34),y=n(g),_=function(e){function t(e){var i=e.$btn,n=e.$contents;r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.$btn=i,o.$contents=n,o.isLock=!1,o.setup(),o.setEvents(),o}return o(t,e),s(t,[{key:"setup",value:function(){this.setBG(),this.$contents.find(".menu-item").each(function(e,t){new d["default"](t,e)}),this.closeBtn=new f["default"](this.$contents.find(".menu-close")),this.openBtn=new v["default"]($(".header-menu-btn")),this.renderer=new y["default"](this.$contents)}},{key:"setBG",value:function(){for(var e=window.innerWidth<=768,t=e?window.innerWidth:572,i=e?55:140,n=Math.ceil(t/i)+1,r=.5*(t-(n-1)*i)+i,a=0;a<n;a++){var o=$("<span></span>");o.css({left:a*i+r}),this.$contents.find(".bg").append(o)}}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"show",value:function(){var e=this,t=new TimelineMax;this.isShow=!0,t.add(this.renderer.show(function(t){return e.$contents.addClass("is-active"),e.closeBtn.show()})).add(function(){e.isLock=!1},1)}},{key:"showBtn",value:function(){return this.openBtn.show()}},{key:"hide",value:function(){var e=this,t=new TimelineMax;this.$contents.removeClass("is-active"),this.isShow=!1,t.add(this.renderer.hide(function(t){return e.closeBtn.hide()})).add(function(){e.isLock=!1},1)}},{key:"onResize",value:function(){this.$contents.find(".bg span").remove(),this.setBG(),this.isShow&&TweenMax.set(this.$contents.find(".bg span"),{scaleY:1,"background-color":"rgb(243,243,243)"})}},{key:"setEvents",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$btn.on("click",function(t){e.isLock||(e.isLock=!0,e.show())}),this.$contents.find(".menu-close").on("click",function(t){e.isLock||(e.isLock=!0,e.hide())}),this.$contents.find(".overlay").on("click",function(t){e.isLock||e.hide()}),$(window).on("resize",$.debounce(200,this.onResize.bind(this)))}}]),t}(c["default"]);t["default"]=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){TweenMax.set(this.$ele.find("polyline"),{drawSVG:0})}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"show",value:function(){this.tlShow=new TimelineMax,this.tlShow.fromTo(this.$ele.find("polyline"),.9,{drawSVG:"100% 100%"},{drawSVG:"0% 100%",ease:Expo.easeOut},0).to(this.$ele.find("p"),.7,{x:this.$ele.find("svg").width()+10,z:1,ease:Expo.easeOut},0)}},{key:"hide",value:function(e){this.tlHide=new TimelineMax,this.tlHide.to(this.$ele.find("polyline"),.6,{drawSVG:"100% 100%",ease:Expo.easeOut},0).to(this.$ele.find("p"),.75,{x:0,z:1,ease:Expo.easeOut},0)}},{key:"onEnter",value:function(){this.tlHide&&this.tlHide.kill(),this.show()}},{key:"onLeave",value:function(){this.tlShow&&this.tlShow.kill(),this.hide()}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("mouseleave."+this.name,this.onLeave.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this)),this.$ele.on("touchend."+this.name,this.onLeave.bind(this))}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"show",value:function(){var e=new TimelineMax,t=this.$ele.find(".menu-close-line span");return t.each(function(t,i){e.to(i,.5,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"100% 0",x:0,rotation:0==t?-30:30}},.1*t)}),e.to(this.$ele.find(".menu-close-text"),1,{x:0,opacity:1,ease:Expo.easeOut,startAt:{x:10}},0),e}},{key:"hide",value:function(){this.tl&&this.tl.kill();var e=new TimelineMax,t=this.$ele.find(".menu-close-line span");return t.each(function(t,i){e.set(i,{x:8,rotation:0==t?30:-30,"transform-origin":"0 0"},0),e.to(i,.5,{scaleX:0,ease:Expo.easeOut},.1*t)}),e.to(this.$ele.find(".menu-close-text"),1,{x:-10,opacity:0,ease:Expo.easeOut},0),e}},{key:"showHover",value:function(){var e=new TimelineMax,t=this.$ele.find(".menu-close-line span");return t.each(function(t,i){e.set(i,{x:8,rotation:0==t?30:-30,"transform-origin":"0 0"},0),e.to(i,.5,{scaleX:0,ease:Expo.easeOut},.1*t)}),t.each(function(t,i){e.to(i,.5,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"100% 0",x:0,rotation:0==t?-30:30}},.1*t+.5)}),e}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.showHover())}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this))}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"show",value:function(){var e=new TimelineMax,t=this.$ele.find(".header-menu-btn-line");return t.each(function(t,i){e.to(i,.5,{scaleX:1,ease:Expo.easeOut},.1*t)}),e.to(this.$ele.find(".header-menu-btn-text"),1,{x:0,opacity:1,ease:Expo.easeOut,startAt:{x:10}},0),e}},{key:"showHover",value:function(){var e=new TimelineMax,t=this.$ele.find(".header-menu-btn-line");return t.each(function(t,i){e.to(i,.5,{scaleX:0,ease:Expo.easeOut,startAt:{"transform-origin":"0 0"}},.1*t)}),t.each(function(t,i){e.to(i,.5,{scaleX:1,ease:Expo.easeOut,startAt:{"transform-origin":"100% 0"}},.1*t+.5)}),e}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.showHover())}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this))}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(15),s=(n(o),function(){function e(t){r(this,e),this.$contents=t}return a(e,[{key:"setup",value:function(){}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},i=new TimelineMax;return this.$contents.css({display:"block"}),i.to(this.$contents.find(".bg"),.8,{opacity:1,x:0,z:1,startAt:{x:200,opacity:0},ease:Expo.easeOut},0).to(this.$contents.find(".overlay"),.8,{opacity:1,ease:Expo.easeOut},0).add(function(){e.$contents.find(".bg span").each(function(e,t){i.to(t,.2,{"background-color":"rgb(200,200,200)",ease:Expo.easeOut},.05*e).to(t,.5,{"background-color":"rgb(243,243,243)",ease:Expo.easeOut},.05*e+.2).to(t,.75,{scaleY:1,startAt:{scaleY:0},ease:Expo.easeOut},.05*e)})},0).add(function(){e.$contents.find(".menu-item").each(function(e,t){TweenMax.to(t,.7,{x:0,opacity:1,ease:Expo.easeOut,z:1,startAt:{x:20},delay:.045*e})})},.3).add(function(){e.$contents.find(".menu-lang-item").each(function(e,t){TweenMax.to(t,1,{x:0,opacity:1,ease:Expo.easeOut,z:1,startAt:{x:10},delay:.06*e})})},.5).add(function(){TweenMax.to(e.$contents.find(".menu-search"),1,{opacity:1,x:0,ease:Expo.easeOut,startAt:{x:10}})},.7),i.add(t(),.7),i}},{key:"hide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){},i=new TimelineMax;return this.$contents.find(".menu-item").each(function(e,t){TweenMax.to(t,.7,{x:0,opacity:0,ease:Expo.easeOut,delay:.01*e})}),this.$contents.find(".menu-lang-item").each(function(e,t){TweenMax.to(t,.7,{x:0,opacity:0,ease:Expo.easeOut,delay:.02*e})}),i.to(this.$contents.find(".menu-search"),.7,{opacity:0,x:0,ease:Expo.easeOut},0),i.to(this.$contents.find(".bg"),.4,{opacity:0,x:100,z:1,ease:Power2.easeIn,onComplete:function(){e.$contents.css({display:"none"})}},0).to(this.$contents.find(".overlay"),.4,{opacity:0,ease:Expo.easeOut},0),i.add(t(),0),i}}]),e}());t["default"]=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function p(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:p(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h={map:function(e,t,i,n,r){return(e-t)*(r-n)/(i-t)+n},lerp:function(e,t,i){return(1-i)*e+i*t}},d=function(e){function t(e,i){var n=i.ease,o=i.max;r(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.isUEv=!0,s.$ele=e,s.ease=n,s.max=o,s.$ele.get(0).style.setProperty("--max",o+"px"),s.target=s.$ele.find(".parallax-inner").get(0),s.setup(),s.setEvents(),s}return o(t,e),s(t,[{key:"setup",value:function(){var e=this;this.renderedStyles={previous:0,current:0,ease:this.ease,maxValue:4,setValue:function(){var t=e.max,i=-1*t;return Math.max(Math.min(h.map(e.props.top-e.st,window.innerHeight,-1*e.props.height,i,t),t),i)}},this.reset()}},{key:"scroll",value:function(){this.st=$(window).scrollTop()}},{key:"getSize",value:function(){this.props={height:this.$ele.outerHeight(),top:this.$ele.offset().top-this.st},this.renderedStyles.current=this.renderedStyles.previous=this.renderedStyles.setValue()}},{key:"reset",value:function(){this.scroll(),this.getSize()}},{key:"update",value:function(){this.renderedStyles.current=this.renderedStyles.setValue(),this.renderedStyles.previous=h.lerp(this.renderedStyles.previous,this.renderedStyles.current,this.renderedStyles.ease),this.target.style.transform="translate3d(0, "+-this.renderedStyles.previous+"px, 0)"}},{key:"setEvents",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),$(window).on("scroll",function(t){e.scroll()})}}]),t}(c["default"]);t["default"]=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=$(e),i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"timeline",value:function(){}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"show",value:function(){var e=new TimelineMax;return e.to(this.$ele.find("img"),1.2,{scale:1.05,ease:Expo.easeOut}).to(this.$ele.find(".text"),.8,{opacity:.5,ease:Expo.easeOut},0),e}},{key:"hide",value:function(e){var t=new TimelineMax;return t.to(this.$ele.find("img"),1.2,{scale:1,ease:Expo.easeOut}).to(this.$ele.find(".text"),.6,{opacity:1,ease:Expo.easeOut},0),t}},{key:"onEnter",value:function(){this.tl&&this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.show())}},{key:"onLeave",value:function(){var e=this.tl.progress();this.tl.kill(),this.tl=new TimelineMax,this.tl.add(this.hide(e))}},{key:"setEvents",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.on("mouseenter."+this.name,this.onEnter.bind(this)),this.$ele.on("mouseleave."+this.name,this.onLeave.bind(this)),this.$ele.on("touchstart."+this.name,this.onEnter.bind(this)),this.$ele.on("touchend."+this.name,this.onLeave.bind(this))}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){
return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.$ele=e,i.setup(),i.setEvents(),i}return o(t,e),s(t,[{key:"setup",value:function(){}},{key:"timeline",value:function(){var e=this,t=new TimelineMax,i=1.1*this.$ele.find(".bar").height();t.to(this.$ele.find(".bar"),1.75,{y:i,ease:Expo.easeOut}).set(this.$ele.find(".bar"),{y:-i}).add(function(t){e.timeline()})}},{key:"show",value:function(){var e=this,t=new TimelineMax,i=1.1*this.$ele.find(".bar").height();return t.to(this.$ele.find(".bar"),1.75,{y:i,ease:Expo.easeOut}).to(this.$ele.find(".bar2"),1.75,{y:0,ease:Expo.easeOut},.1).set(this.$ele.find(".bar"),{y:-i}).add(function(t){e.timeline()}),t}},{key:"update",value:function(){}},{key:"onResize",value:function(){}},{key:"scroll",value:function(){var e={top:$(window).scrollTop()},t=$(".section.index-about").offset().top;TweenMax.to(e,.75,{top:t-130,ease:Expo.easeOut,onUpdate:function(){$(window).scrollTop(e.top)}})}},{key:"setEvents",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),this.$ele.on("click",function(t){e.scroll()})}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function v(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:v(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(39),c=n(u),h=i(40),d=n(h),p=i(55),f=n(p),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"init",value:function(){this.name="UIController",this.flag=new d["default"],this.dom=new f["default"],this.$c=$("canvas"),this.bp=768}},{key:"timeline",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){};return new Promise(function(i,n){var r=new TimelineMax({delay:0});r.add(function(){TweenMax.to(e.$c,2,{opacity:1,ease:Power2.easeInOut})},0).add(function(){e.flag.show()},.2).add(function(){TweenMax.to(e.flag.setup.effectBloom,2,{strength:5,ease:Power2.easeInOut})},1.7).add(function(){var t=new TimelineMax;t.to(e.flag.setup.camera.position,2,{z:e.flag.setup.defz,ease:Expo.easeInOut},0).add(function(){},.75).to(e.flag.setup.camera.position,.01,{z:.75*e.flag.setup.defz,ease:Expo.easeOut,onStart:function(){gb.r.w<=e.bp?(e.flag.defY=.5*-window.innerHeight+375,e.flag.tar=.5*-window.innerHeight+375):(e.flag.defY=e.flag.per*(.5*-window.innerHeight+340),e.flag.tar=e.flag.per*(.5*-window.innerHeight+340)),e.flag.setup.effectBloom.strength=10,e.flag.setup.effectBloom.radius=3,e.flag.setup.renderer.toneMappingExposure=Math.pow(1.5,4)}},.8).to(e.flag.setup.camera.position,4.5,{z:.85*e.flag.setup.defz,ease:Expo.easeOut,onStart:function(){var t=new TimelineMax({repeat:0,repeatDelay:2});t.add(function(){e.flag.sail.setColor(!0),e.flag.setup.rgbshift.show(.03,5);var t=1;gb.r.w<=768&&(t=.5),e.flag.setup.effectBloom.strength=10*t,e.flag.setup.effectBloom.radius=.5},.02).add(function(){e.flag.sail.setColor(!1),e.flag.setup.rgbshift.hide(),e.flag.setup.effectBloom.strength=3,e.flag.setup.effectBloom.radius=.6},.02+.1),e.flag.setup.effectBloom.strength=.6,e.flag.setup.effectBloom.radius=.3,e.flag.setup.renderer.toneMappingExposure=Math.pow(1.7,4)}},.8+.05)},3.5).add(function(){$(".id_top").removeClass("fixed"),e.flag.bg.show()},4.7).add(function(){e.dom.show(t),TweenMax.to(e.flag,2,{fr:1,ease:Power2.easeInOut})},4.4).add(function(){i()},5.7)})}},{key:"setEvent",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__setUpdateFlag",this).call(this,!1)}},{key:"reset",value:function(){}}]),t}(c["default"]);t["default"]=m},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){i(this,e),this.__init(),this.__setEvent()}return n(e,[{key:"__init",value:function(){this.init(),this.setEvent()}},{key:"__setEvent",value:function(){this.__setUpdate()}},{key:"__setUpdate",value:function(){var e=this;window.updates.push({id:this.name,cb:function(t){e.__update()}})}},{key:"__setUpdateFlag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__is_update=e}},{key:"__update",value:function(){this.__is_update&&this.update()}}]),e}();t["default"]=r},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function E(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:E(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},c=i(39),h=r(c),d=i(41),p=r(d),f=i(45),m=r(f),v=i(50),g=r(v),y=i(53),_=r(y),b=i(54),x=n(b),w={map:function(e,t,i,n,r){return(e-t)*(r-n)/(i-t)+n},lerp:function(e,t,i){return(1-i)*e+i*t},clamp:function(e,t,i){return Math.max(Math.min(e,i),t)}},T=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),l(t,[{key:"init",value:function(){this.name="UIController",window.dat=new x.GUI,this.$canvas=$(".canvas"),this.bp=768,this.baseW=1424,this.$canvas.width()<=this.bp&&(this.baseW=375),this.per=this.$canvas.width()/this.baseW,this.per>1&&(this.per=1),this.mouseMove=!0,this.speed=.04,this.disY=0,this.dis=0,this.defY=0,this.tar=0,this.st=0,this.tarSt=0,this.fr=1,this.$f=$(".footer");var e=[new THREE.Vector3(0,.5*this.$canvas.height(),0),new THREE.Vector3((-125),.5*this.$canvas.height()-800,0)];this.bg=new _["default"],this.stick=new m["default"](e,10),this.sail=new g["default"](e,10),this.wrap=new THREE.Group,this.obj=new THREE.Group,this.obj.add(this.stick.obj),this.obj.add(this.sail.obj);var t=new THREE.Scene;t.add(this.bg.obj),t.add(this.bg.lightObj),this.wrap.add(this.obj),t.add(this.wrap),t.background=new THREE.Color(1901),this.setup=new p["default"](this.$canvas,this.obj,t),this.mousePosi={x:0,y:0},this.prevMosePosi={x:0,y:0},this.defY=0,this.obj.position.y=this.defY,this.onResize(!0),this.frame=0}},{key:"reset",value:function(){}},{key:"show",value:function(){this.sail.show(),this.stick.show();var e=this.$canvas.width()<=this.bp?.5*-window.innerHeight+325:this.per*(.5*-window.innerHeight+315);TweenMax.to(this,2.5,{defY:e,ease:Expo.easeInOut,delay:1.5})}},{key:"update",value:function(){if(this.frame++,this.frame%Math.floor(this.fr)==0&&(this.bg.update({posi:this.setup.camera.position.z,depth:this.setup.defz}),this.stick.update(),this.sail.update()),this.prevMosePosi={x:Math.floor(100*w.lerp(this.prevMosePosi.x,this.mousePosi.x,this.speed))/100,y:Math.floor(100*w.lerp(this.prevMosePosi.y,this.mousePosi.y,this.speed))/100},this.obj.rotation.y=(this.prevMosePosi.x-.5*window.innerWidth)/window.innerWidth*.15,this.obj.rotation.x=(this.prevMosePosi.y-.7*window.innerHeight)/window.innerHeight*.15,this.dis+=.12*(this.disY-this.dis),this.obj.position.y=this.defY-this.dis,document.body.classList.contains(".isDeviceSP")){var e=window.innerHeight-$(window).height();document.getElementsByClassName("canvasWrap")[0].style.top=.5*e-57+"px"}this.setup.render()}},{key:"onResize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setup.onWindowResize(e),this.bg.resize(),this.baseW=1424,this.$canvas.width()<=this.bp&&(this.baseW=375),this.per=this.$canvas.width()/this.baseW,this.$canvas.width()<=this.bp?(this.obj.position.x=-140*this.per,this.obj.scale.set(.4*this.per,.4*this.per,.4*this.per)):(this.obj.scale.set(this.per,this.per,this.per),this.obj.position.x=-390*this.per)}},{key:"setEvent",value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__setUpdateFlag",this).call(this,!0),$(window).on("resize",this.onResize.bind(this,!1)),$(window).on("mousemove",function(t){e.mouseMove?(e.mousePosi.x=t.clientX,e.mousePosi.y=t.clientY):(e.mousePosi.x=0,e.mousePosi.y=0)}),$(window).on("scroll",function(t){var i=$(window).scrollTop(),n=e.$f.offset().top-window.innerHeight,r=n-i;r>0?e.disY=0:e.disY=r-100})}}]),t}(h["default"]);t["default"]=T},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function f(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(39),c=n(u),h=i(42),d=n(h),p=function(e){function t(e,i,n){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.$dom=e,o.obj=i,o.objScene=n,o.initScene(),o.initCamera(),o.initRender(),o.initComposer(),o.render(),o}return o(t,e),s(t,[{key:"init",value:function(){this.frame=0,this.pixcels=2}},{key:"setEvent",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__setUpdateFlag",this).call(this,!1)}},{key:"update",value:function(){}},{key:"initScene",value:function(){this.scene=new THREE.Scene}},{key:"initCamera",value:function(){this.camera=new THREE.PerspectiveCamera(45,this.$dom.width()/this.$dom.height(),1,1e4),this.setCameraByPixel()}},{key:"setCameraByPixel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.w=this.$dom.width(),this.h=this.$dom.height();var t=45,i=t*(Math.PI/180),n=this.h,r=n/(2*Math.tan(i/2));this.defz=1*r,this.z=e?.5*r:1.1*r,this.camera.position.set(0,0,this.z),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.camera.aspect=this.w/this.h,this.camera.updateProjectionMatrix()}},{key:"initRender",value:function(){var e=this;this.renderer=new THREE.WebGLRenderer({antialias:!1,alpha:!0});var t={"ç»é¢ã®æãã":1.3};this.renderer.toneMappingExposure=Math.pow(t["ç»é¢ã®æãã"],4),this._dat=dat.addFolder("glow"),this._dat.add(t,"ç»é¢ã®æãã",.1,2).onChange(function(t){e.renderer.toneMappingExposure=Math.pow(t,4)}),this.renderer.toneMapping=THREE.ReinhardToneMapping,this.$dom.append(this.renderer.domElement)}},{key:"initComposer",value:function(){var e=this;this.composer=new THREE.EffectComposer(this.renderer);var t=new THREE.RenderPass(this.objScene,this.camera);this.composer.addPass(t);var i={"ãããå¤":.139,"å¯¾è±¡ã®æãã":2,"ã°ã­ã¼ã®åå¾":.08};this.effectBloom=new THREE.UnrealBloomPass(new THREE.Vector2(1*this.$dom.width(),1*this.$dom.height()),.01,1.07,.85,this.obj,this.scene,this.camera),this.effectBloom.threshold=i["ãããå¤"],this.effectBloom.strength=i["å¯¾è±¡ã®æãã"],this.effectBloom.radius=i["ã°ã­ã¼ã®åå¾"],this._dat.add(i,"ãããå¤",0,1).onChange(function(t){e.effectBloom.threshold=t}),this._dat.add(i,"å¯¾è±¡ã®æãã",0,3).onChange(function(t){e.effectBloom.strength=t}),this._dat.add(i,"ã°ã­ã¼ã®åå¾",0,1).onChange(function(t){e.effectBloom.radius=t}),this.rgbshift=new d["default"],this.composer.addPass(this.effectBloom),this.composer.addPass(this.rgbshift.shaderPass);var n=new THREE.ShaderPass(THREE.CopyShader);n.renderToScreen=!0,this.composer.addPass(n)}},{key:"onWindowResize",value:function(e){var t=this.$dom.width(),i=this.$dom.height();this.setCameraByPixel(e),this.renderer.setPixelRatio(this.pixcels),this.renderer.setSize(t,i),this.composer.setPixelRatio(this.pixcels),this.composer.setSize(t,i)}},{key:"render",value:function(){this.composer.render(),this.is_autoRender&&requestAnimationFrame(this.render.bind(this)),this.frame++}}]),t}(c["default"]);t["default"]=p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(15),u=n(l),c=i(43),h=n(c),d=i(44),p=n(d),f=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.shaderPass=new THREE.ShaderPass({uniforms:{tDiffuse:{value:null,type:"t"},offset:{value:0,type:"f"},rotate:{value:new THREE.Vector2(0,0),type:"v2"},seed:{value:0,type:"f"},distortion_x:{value:0,type:"f"},distortion_y:{value:0,type:"f"},seed_x:{value:0,type:"f"},seed_y:{value:0,type:"f"},col_s:{value:.05,type:"f"},tDisp:{value:null}},vertexShader:p["default"],fragmentShader:h["default"]}),e.s=1,e.shaderPass.uniforms.tDisp.value=e.generateHeightmap(20),e.length=5;var i=Math.floor(Math.random()*e.length);return e.indexs={rs:i,rot:i},e.rs=[[{x:-.010489452844089288,y:-.00011556168180350962},{x:.02153890440739005,y:-.018825871386566086},{x:-.009503529150921147,y:.005832495273852966},{x:-.00955320521303106,y:.003986087230209346},{x:.0038713956548604538,y:.006393353523377892}],[{x:.002556995841385766,y:-.01323360920370218},{x:-.0065528160704775296,y:.014599657482177945},{x:.01839122349874283,y:.011415956509402622},{x:-.0036990995240794257,y:-.006772296991942741},{x:.0013265611534168803,y:-.0037175693131984433}],[{x:.009208502258821707,y:.005096356080471931},{x:-.016285727557276322,y:-.016413366826711864},{x:.00788376143229623,y:-.01643369401649223},{x:-.0038168554320219036,y:-.009477488079248477},{x:-.008254845428130896,y:-.0014466892684972792},{x:.0012270783316180728,y:-.0009990535492530352}],[{x:.01712948574884411,y:.019055525736086466},{x:-.015894106216007498,y:.0064974559663508735},{x:-.00038315686810484056,y:.014259511751858155},{x:-.0015336922245549854,y:-.001722102643359636},{x:.008487175587695963,y:.003752977050670174},{x:.006349529157634324,y:-.0012990211130618334}],[{x:.010124847830813556,y:.0019656769858854353},{x:.018803765518696218,y:.016419887669363975},{x:-.004646537537137584,y:.009549564420081189},{x:.00326713667254154,y:-.008892752909115363},{x:-.004059448806918566,y:-.008148005355458733},{x:-.006979483393190682,y:-.006696166737559968}]],e.index=0,e.rots=[[0,3],[2,3],[4,4],[3,4],[0,2]],e.indexRot=0,e.setup(),e.setEvents(),e}return o(t,e),s(t,[{key:"update",value:function(){this.shaderPass.uniforms.seed.value=.5,this.shaderPass.uniforms.seed_x.value=THREE.Math.randFloat(-.005*this.s,.005*this.s),this.shaderPass.uniforms.seed_y.value=THREE.Math.randFloat(-.005*this.s,.005*this.s),this.index++,this.index%=this.rs[this.indexs.rs].length}},{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=1;gb.r.w<=768&&(i=.8),this.s=t*i,this.onU(),this.shaderPass.uniforms.tDiffuse.value.wrapS=THREE.MirroredRepeatWrapping,this.shaderPass.uniforms.tDiffuse.value.wrapT=THREE.MirroredRepeatWrapping;var n=[{x:4.534725472242586,y:1.9779006645015587},{x:4.145211998776186,y:4.500798660131272},{x:2.7464663514791408,y:4.590382318407328},{x:.08328790724654228,y:.841139124249118},{x:1.7587981681678089,y:1.137486829022558}],r=Math.floor(Math.random()*n.length);this.indexRot++;var a=new TimelineMax,o=this.shaderPass.uniforms;a.set(o.offset,{value:e*i},0).set(o.rotate.value,{x:n[r].x,y:n[r].y},0)}},{key:"hide",value:function(){var e=this,t=new TimelineMax,i=this.shaderPass.uniforms;t.set(i.offset,{value:0},0).add(function(){e.shaderPass.uniforms.seed.value=0,e.shaderPass.uniforms.seed_x.value=0,e.shaderPass.uniforms.seed_y.value=0},.02),this.offU()}},{key:"generateHeightmap",value:function(e){for(var t=new Float32Array(e*e*3),i=e*e,n=0;n<i;n++){var r=THREE.Math.randFloat(0,1);t[3*n+0]=r,t[3*n+1]=r,t[3*n+2]=r}var a=new THREE.DataTexture(t,e,e,THREE.RGBFormat,THREE.FloatType);return a.needsUpdate=!0,a}}]),t}(u["default"]);t["default"]=f},function(e,t){e.exports="#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform sampler2D tDisp;\n\n\nuniform float offset;\nuniform vec2 rotate;\n\nuniform float seed;\nuniform float seed_x;\nuniform float seed_y;\nuniform float distortion_x;\nuniform float distortion_y;\nuniform float col_s;\n\n\n\nconst float PI  = 3.141592653589793;\n\nfloat rnd(vec2 n){\n    float a = 0.129898;\n    float b = 0.78233;\n    float c = 437.585453;\n    float dt= dot(n ,vec2(a, b));\n    float sn= mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvarying vec2 vUv;\nvoid main() {\n  \n  vec2 p = vUv;\n\n  // distortion line\n  // if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\n  //  if(seed_x>0.){\n  //    p.y = 1. - (p.y + distortion_y);\n  //  }\n  //  else {\n  //    p.y = distortion_y;\n  //  }\n  // }\n  // if(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {\n  //  if(seed_y>0.){\n  //    p.x=distortion_x;\n  //  }\n  //  else {\n  //    p.x = 1. - (p.x + distortion_x);\n  //  }\n  // }\n  // gl_FragColor = texture2D(tDiffuse, p); // distortion line onl\n\n  // block noise\n  // vec4 normal = texture2D (tDisp, p * seed * seed);\n  vec4 normal = texture2D (tDiffuse, p);\n  p.x += seed_x * (seed/0.2);\n  p.y += seed_y * (seed/0.2);\n  // gl_FragColor = texture2D(tDiffuse, p); // block noise onl\n\n  vec2 offset2 = offset * vec2( cos(rotate.x), sin(rotate.x));\n  vec4 color = texture2D(tDiffuse, p) * 1.0;\n  vec4 cr = texture2D(tDiffuse, p + offset2) * 1.0;\n  vec4 cg = texture2D(tDiffuse, p) * 1.0;\n  vec4 cb = texture2D(tDiffuse, p - offset2) * 1.0;\n  gl_FragColor = vec4(cr.r * 1.0, cg.g * 1.0, cb.b * 1.0, color.a);\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"},function(e,t,i){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(46),s=i(47),l=i(48),u=i(49),c=function(){function e(t,i){r(this,e),this.posi=t,this.r=i,this.obj=new THREE.Group,this.color=18409,this.TIME=0,this.setup()}return a(e,[{key:"setup",value:function(){var e=this;this.base=(0,o.Base)(this.posi,this.color,this.r),this.base2=(0,s.Base2)(this.posi,this.color,this.r),this.cap=(0,l.Cap)(this.posi,this.color,this.r+7,this.r),this.obj.add(this.base),this.obj.add(this.base2),this.obj.add(this.cap),this.chobisens=[],this.getMesh(this.obj).map(function(t){"chobiline"==t.name&&e.chobisens.push(t)})}},{key:"update",value:function(){var e=this,t=Date.now()/1e4;++this.TIME,this.chobisens.forEach(function(i){for(var n=i.geometry.attributes.position.array,r=(n.length,i.geometry.attributes.position.count),a=0;a<r;a++)if(a==r-1){var o=u.perlin2(i.ss,.3*t),s=Math.sin(i.ss+.07*e.TIME)*o*10;n[3*a+1]=i.defY+s,i.geometry.attributes.position.needsUpdate=!0}})}},{key:"show",value:function(){var e=new TimelineMax;return this.getMesh(this.obj).forEach(function(t,i){e.to(t.material,1,{opacity:1,ease:Expo.easeOut},0*i)}),e}},{key:"getMesh",value:function(e){var t=this,i=[];return e.children.forEach(function(e){"Group"==e.type?i.push.apply(i,n(t.getMesh(e))):i.push(e)}),i}}]),e}();t["default"]=c},function(e,t){"use strict";function i(e,t,i){for(var a=new THREE.Group,o=0;o<2;o++){var s=n(e,t);s.position.x=i*o,a.add(s)}var l=r(i,t,e);return a.add(l),a}function n(e,t){for(var i=[],n=0;n<2;n++)i.push(e[n].x,e[n].y,e[n].z);var r=new THREE.BufferGeometry;r.addAttribute("position",new THREE.BufferAttribute(new Float32Array(i),3));var a=new THREE.LineBasicMaterial({color:t,opacity:0,transparent:!0,depthTest:!1});return new THREE.Line(r,a)}function r(e,t,i){for(var n=[],r=0;r<Math.PI;r+=2*Math.PI/10)n.push(e*Math.cos(r)*.5,e*Math.sin(r)*.5,0);var a=new THREE.BufferGeometry;a.addAttribute("position",new THREE.BufferAttribute(new Float32Array(n),3));var o=new THREE.LineBasicMaterial({color:t,opacity:0,transparent:!0}),s=new THREE.Line(a,o);return s.rotation.x=.5*Math.PI,s.position.y=i[0].y,s.position.x=i[0].x+.5*e,s.position.z=i[0].z,s}Object.defineProperty(t,"__esModule",{value:!0}),t.Base=i},function(e,t){"use strict";function i(e,t,i){var r=new THREE.Group,s=new THREE.Vector3(e[0].x-e[1].x,e[0].y-e[1].y,e[0].z-e[1].z),l=-.76,u=a(e[0],s.clone().multiplyScalar(l).add(new THREE.Vector3(e[0].x,e[0].y,e[0].z)),t,s.clone());u.position.x+=i+3,r.add(u);var c=o(s.clone().multiplyScalar(l+.04).add(new THREE.Vector3(e[0].x,e[0].y,e[0].z)),e[1],t,s.clone());c.position.x+=i+3,r.add(c);var h=n(e[0],t,s.clone());h.position.x+=i+5,r.add(h);var d=n(s.clone().multiplyScalar(l+.02).add(new THREE.Vector3(e[0].x,e[0].y,e[0].z)),t,s.clone());return d.position.x+=i+5,r.add(d),r}function n(e,t,i){var n=new THREE.Group,a=i.clone().multiplyScalar(-.05).add(new THREE.Vector3(e.x,e.y,e.z)),o=i.clone().multiplyScalar(-.02).add(new THREE.Vector3(e.x,e.y,e.z)),s=[];s.push(a.x,a.y,a.z),s.push(o.x,o.y,o.z);var l=new THREE.BufferGeometry,u=new THREE.LineBasicMaterial({color:t,opacity:0,transparent:!0});l.addAttribute("position",new THREE.BufferAttribute(new Float32Array(s),3)),n.add(new THREE.Line(l,u));var c=r(a,o,u);return n.add(c),n}function r(e,t,i){for(var n=new THREE.Group,r=0;r<2;r++){for(var a=[],o=0==r?e:t,s=0==r?o.clone().sub(new THREE.Vector3(2.5,(-4),0)):o.clone().sub(new THREE.Vector3(2.5,(-2.5),0)),l=o.clone().sub(new THREE.Vector3(5,0,0)),u=new THREE.QuadraticBezierCurve3(o,s,l),c=u.getPoints(10),h=0;h<c.length;h++)a.push(c[h].x,c[h].y,c[h].z);var d=new THREE.BufferGeometry;if(d.addAttribute("position",new THREE.BufferAttribute(new Float32Array(a),3)),n.add(new THREE.Line(d,i)),0==r){var p=[],f=o.clone().sub(new THREE.Vector3((-13),5,0)),m=new THREE.BufferGeometry,v=f.clone().sub(o);v.length();p.push(o.x,o.y,o.z),p.push(f.x,f.y,f.z),m.addAttribute("position",new THREE.BufferAttribute(new Float32Array(p),3));var g=new THREE.Line(m,i);g.name="chobiline",g.defY=f.y,g.ss=1e4*Math.random(),n.add(g)}}return n}function a(e,t,i,n){for(var r=[],a=n.clone().multiplyScalar(-.35).add(new THREE.Vector3(e.x,e.y,e.z)),o=n.clone().multiplyScalar(-.05).add(new THREE.Vector3(e.x,e.y,e.z)),s=new THREE.QuadraticBezierCurve3(o,a.add(new THREE.Vector3(10,10,0)),t),l=s.getPoints(10),u=0;u<l.length;u++)r.push(l[u].x,l[u].y,l[u].z);var c=new THREE.BufferGeometry;c.addAttribute("position",new THREE.BufferAttribute(new Float32Array(r),3));var h=new THREE.LineBasicMaterial({color:i,opacity:0,transparent:!0,depthTest:!1});return new THREE.Line(c,h)}function o(e,t,i,n){for(var r=[],a=(n.clone().multiplyScalar(-.35).add(new THREE.Vector3(e.x,e.y,e.z)),n.clone().multiplyScalar(-.07).add(new THREE.Vector3(e.x,e.y,e.z))),o=new THREE.QuadraticBezierCurve3(a,t.add(new THREE.Vector3(2,2,0)),t),s=o.getPoints(10),l=0;l<s.length;l++)r.push(s[l].x,s[l].y,s[l].z);var u=new THREE.BufferGeometry;u.addAttribute("position",new THREE.BufferAttribute(new Float32Array(r),3));var c=new THREE.LineBasicMaterial({color:i,opacity:0,transparent:!0,depthTest:!1});return new THREE.Line(u,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.Base2=i},function(e,t){"use strict";function i(e,t,i,a){var o=new THREE.Group,s=n(e[0].clone().add(new THREE.Vector3(0,0,0)),e[0].clone().add(new THREE.Vector3(a,0,0)),t);o.add(s);var l=r(e,a,t);return o.add(l),o}function n(e,t,i){for(var n=new THREE.Group,r=[],a=e.clone().sub(t).multiplyScalar(.5).add(t).add(new THREE.Vector3(0,4.5,0)),o=e.clone().sub(a).multiplyScalar(.5).add(a).add(new THREE.Vector3((-10),3,0)),s=new THREE.QuadraticBezierCurve3(e,o,a),l=s.getPoints(30),u=0;u<l.length;u++)r.push(l[u].x,l[u].y,l[u].z);for(var c=t.clone().sub(a).multiplyScalar(.5).add(a).add(new THREE.Vector3(9,(-2),0)),h=t.clone().add(new THREE.Vector3(0,(-3),0)),d=new THREE.QuadraticBezierCurve3(a,c,h),p=d.getPoints(30),u=0;u<p.length;u++)r.push(p[u].x,p[u].y,p[u].z);var f=new THREE.BufferGeometry,m=new THREE.LineBasicMaterial({color:i,opacity:0,transparent:!0,depthTest:!1});return f.addAttribute("position",new THREE.BufferAttribute(new Float32Array(r),3)),n.add(new THREE.Line(f,m)),n}function r(e,t,i){var n=new THREE.Group,r=e[0].clone().sub(e[1]).normalize().multiplyScalar(8),a=r.add(e[0]).add(new THREE.Vector3(1,0,0)),o=[];o.push(e[0].x+.5,e[0].y,e[0].z),o.push(a.x,a.y,a.z);for(var s=e[0].clone().add(new THREE.Vector3(16,(-1),0)),l=a.clone().add(new THREE.Vector3(16,(-4),0)),u=a.clone().sub(l).multiplyScalar(.5).add(l).add(new THREE.Vector3(2,6,0)),c=new THREE.QuadraticBezierCurve3(a,u,l),h=c.getPoints(30),d=0;d<h.length;d++)o.push(h[d].x,h[d].y,h[d].z);o.push(l.x,l.y,l.z),o.push(s.x+1,s.y-3,s.z);var p=new THREE.BufferGeometry,f=new THREE.LineBasicMaterial({color:i,opacity:0,transparent:!0,depthTest:!1});p.addAttribute("position",new THREE.BufferAttribute(new Float32Array(o),3));var m=new THREE.Line(p,f);return m.position.x=-4,m.position.y=4,n.add(m),n}Object.defineProperty(t,"__esModule",{value:!0}),t.Cap=i},function(e,t,i){!function(e){function i(e,t,i){this.x=e,this.y=t,this.z=i}function n(e){return e*e*e*(e*(6*e-15)+10)}function r(e,t,i){return(1-i)*e+i*t}var a=t;i.prototype.dot2=function(e,t){return this.x*e+this.y*t},i.prototype.dot3=function(e,t,i){return this.x*e+this.y*t+this.z*i};var o=[new i(1,1,0),new i((-1),1,0),new i(1,(-1),0),new i((-1),(-1),0),new i(1,0,1),new i((-1),0,1),new i(1,0,(-1)),new i((-1),0,(-1)),new i(0,1,1),new i(0,(-1),1),new i(0,1,(-1)),new i(0,(-1),(-1))],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],l=new Array(512),u=new Array(512);a.seed=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;i=1&t?s[t]^255&e:s[t]^e>>8&255,l[t]=l[t+256]=i,u[t]=u[t+256]=o[i%12]}},a.seed(0);var c=.5*(Math.sqrt(3)-1),h=(3-Math.sqrt(3))/6,d=1/3,p=1/6;a.simplex2=function(e,t){var i,n,r,a,o,s=(e+t)*c,d=Math.floor(e+s),p=Math.floor(t+s),f=(d+p)*h,m=e-d+f,v=t-p+f;m>v?(a=1,o=0):(a=0,o=1);var g=m-a+h,y=v-o+h,_=m-1+2*h,b=v-1+2*h;d&=255,p&=255;var x=u[d+l[p]],w=u[d+a+l[p+o]],T=u[d+1+l[p+1]],E=.5-m*m-v*v;E<0?i=0:(E*=E,i=E*E*x.dot2(m,v));var M=.5-g*g-y*y;M<0?n=0:(M*=M,n=M*M*w.dot2(g,y));var S=.5-_*_-b*b;return S<0?r=0:(S*=S,r=S*S*T.dot2(_,b)),70*(i+n+r)},a.simplex3=function(e,t,i){var n,r,a,o,s,c,h,f,m,v,g=(e+t+i)*d,y=Math.floor(e+g),_=Math.floor(t+g),b=Math.floor(i+g),x=(y+_+b)*p,w=e-y+x,T=t-_+x,E=i-b+x;w>=T?T>=E?(s=1,c=0,h=0,f=1,m=1,v=0):w>=E?(s=1,c=0,h=0,f=1,m=0,v=1):(s=0,c=0,h=1,f=1,m=0,v=1):T<E?(s=0,c=0,h=1,f=0,m=1,v=1):w<E?(s=0,c=1,h=0,f=0,m=1,v=1):(s=0,c=1,h=0,f=1,m=1,v=0);var M=w-s+p,S=T-c+p,C=E-h+p,A=w-f+2*p,P=T-m+2*p,O=E-v+2*p,L=w-1+3*p,R=T-1+3*p,k=E-1+3*p;
y&=255,_&=255,b&=255;var D=u[y+l[_+l[b]]],I=u[y+s+l[_+c+l[b+h]]],z=u[y+f+l[_+m+l[b+v]]],N=u[y+1+l[_+1+l[b+1]]],B=.6-w*w-T*T-E*E;B<0?n=0:(B*=B,n=B*B*D.dot3(w,T,E));var F=.6-M*M-S*S-C*C;F<0?r=0:(F*=F,r=F*F*I.dot3(M,S,C));var U=.6-A*A-P*P-O*O;U<0?a=0:(U*=U,a=U*U*z.dot3(A,P,O));var j=.6-L*L-R*R-k*k;return j<0?o=0:(j*=j,o=j*j*N.dot3(L,R,k)),32*(n+r+a+o)},a.perlin2=function(e,t){var i=Math.floor(e),a=Math.floor(t);e-=i,t-=a,i=255&i,a=255&a;var o=u[i+l[a]].dot2(e,t),s=u[i+l[a+1]].dot2(e,t-1),c=u[i+1+l[a]].dot2(e-1,t),h=u[i+1+l[a+1]].dot2(e-1,t-1),d=n(e);return r(r(o,c,d),r(s,h,d),n(t))},a.perlin3=function(e,t,i){var a=Math.floor(e),o=Math.floor(t),s=Math.floor(i);e-=a,t-=o,i-=s,a=255&a,o=255&o,s=255&s;var c=u[a+l[o+l[s]]].dot3(e,t,i),h=u[a+l[o+l[s+1]]].dot3(e,t,i-1),d=u[a+l[o+1+l[s]]].dot3(e,t-1,i),p=u[a+l[o+1+l[s+1]]].dot3(e,t-1,i-1),f=u[a+1+l[o+l[s]]].dot3(e-1,t,i),m=u[a+1+l[o+l[s+1]]].dot3(e-1,t,i-1),v=u[a+1+l[o+1+l[s]]].dot3(e-1,t-1,i),g=u[a+1+l[o+1+l[s+1]]].dot3(e-1,t-1,i-1),y=n(e),_=n(t),b=n(i);return r(r(r(c,f,y),r(h,m,y),b),r(r(d,v,y),r(p,g,y),b),_)}}(this)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(51),s=n(o),l=(i(49),function(){function e(t,i){r(this,e),this.posi=t,this.LENGTH=1e3,this.obj=new THREE.Group,this.width=15,this.lines=[],this.NUM=this.verticalLength/this.width%2?this.verticalLength/this.width:this.verticalLength/this.width-1,this.param={height:50,speed:3,"ç´°ãã":30},this.setup(),this.setEvents()}return a(e,[{key:"setup",value:function(){for(var e=0;e<this.NUM;e++){var t={x:this.getVector(e).x+this.posi[0].x,y:this.getVector(e).y+this.posi[0].y,z:this.getVector(e).z+this.posi[0].z},i=new s["default"]([t],{height:this.param.height,i:this.param.speed,offset:this.param["ç´°ãã"],num:1.3*(100-4.3*Math.abs(.5*this.NUM-e))});this.obj.add(i.obj),this.lines.push(i)}this.obj.position.x=30}},{key:"getVector",value:function(e){var t=new THREE.Vector3(this.posi[0].x-this.posi[1].x,this.posi[0].y-this.posi[1].y,this.posi[0].z-this.posi[1].z).normalize();return t.multiplyScalar(-e*this.width)}},{key:"update",value:function(){this.lines.forEach(function(e,t){e.update(t)})}},{key:"show",value:function(){var e=this,t=new TimelineMax;t.add(function(){e.lines.forEach(function(e,t){e.drawLine()})},0).add(function(){e.lines.forEach(function(e,t){e.spread()}),TweenMax.to(e.obj.position,2.5,{y:-35,ease:Expo.easeInOut})},1.5)}},{key:"setColor",value:function(e){var t=new THREE.Color("#ffffff"),i=new THREE.Color("#0047e9");if(e)var n=t;else var n=i;this.lines.forEach(function(e,t){e.obj.material.color=n})}},{key:"setEvents",value:function(){}},{key:"verticalLength",get:function(){return.79*new THREE.Vector3(this.posi[0].x-this.posi[1].x,this.posi[0].y-this.posi[1].y,0).length()}}]),e}());t["default"]=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(52),s=n(o),l=i(49),u=function(){function e(t,i){r(this,e),this.posi=t,this.config=i,this.NUM=100,this.TIME=0,this.fixDist=1,this.color=18409,this.noiseOffset0=this.random(-1e5,1e5),this.noiseOffset1=this.random(-1e5,1e5),this.noiseScale=.01,this.noiseTime=0,this.noiseTime2=1e5,this.rad=0,this.maxSpeed=5,this.s=0,this.e=0,this.t=0,this.start={x:0,y:0,vx:0,vy:0},this.ookisa=1.37,this.yureY=2,this.yureZ=.71,this.setup(),this.setEvents()}return a(e,[{key:"setup",value:function(){this.nodes=[],this.vec=[],this.points=[];for(var e=0;e<this.config.num;e++){var t=this.posi[0].x+e*(10/1.3),i=this.posi[0].y+this.sin(0,e),n=this.posi[0].z,r=new s["default"](t,i,n),a=new THREE.Vector3(t,i,n);r.defy2=10*Math.sin(.05*e),this.nodes.push(r),this.vec.push(a),this.points.push(r.x,r.y,r.z)}var o=new THREE.BufferGeometry;new Float32Array(3*this.config.num);o.addAttribute("position",new THREE.BufferAttribute(new Float32Array(this.points),3));var l=new THREE.LineBasicMaterial({color:this.color,blending:THREE.AdditiveBlending,opacity:1,transparent:!0,depthTest:!1});this.obj=new THREE.Line(o,l),this.pointsNUM=this.obj.geometry.attributes.position.array.length,this.curve=new THREE.CatmullRomCurve3(this.vec),this.curve.curveType="centripetal"}},{key:"update",value:function(e){this.noiseTime+=.005,this.noiseTime2-=.002;for(var t=0;t<this.config.num;t++){var i=this.nodes[t],n=this.clamp(t/(this.config.num-1),0,1),r=this.outQuart(n)*this.config.num;i.y=i.defy+15*l.simplex2(.1*e+.002*i.x,this.noiseTime)*this.yureY,i.z=i.defz+Math.sin(.008*i.x-3*this.noiseTime)*r*1.5*this.ookisa+l.simplex2(.05*e+.002*i.x,this.noiseTime2)*r*2*this.yureZ;var a=this.lerp(i.defy2,i.y,this.t),o=this.lerp(i.defz,i.z,this.t);this.curve.points[t].y=a,this.curve.points[t].z=o;var s=this.s,u=this.e*(t/this.config.num),c=this.clamp(s+u,0,1),h=this.curve.getPoint(c);this.obj.geometry.attributes.position.array[3*t+0]=h.x,this.obj.geometry.attributes.position.array[3*t+1]=h.y,this.obj.geometry.attributes.position.array[3*t+2]=h.z}this.obj.geometry.attributes.position.needsUpdate=!0}},{key:"drawLine",value:function(){var e=new TimelineMax({repeat:0,yoyo:!1}),t=3;e.to(this,t,{e:1,ease:Expo.easeInOut},0)}},{key:"spread",value:function(){var e=new TimelineMax({repeat:0,yoyo:!1}),t=2.5;e.to(this,t,{t:1,ease:Expo.easeInOut},0)}},{key:"timeline",value:function(){var e=new TimelineMax({repeat:0,yoyo:!1}),t=6+Math.random();e.to(this,t,{e:1,ease:Expo.easeInOut},0)}},{key:"sin",value:function(e,t){return this.config.height*Math.sin((e*this.config.i+t)/this.config.offset)}},{key:"randomInt",value:function(e,t){return Math.floor(Math.random()*(t+1-e)+e)}},{key:"random",value:function(e,t){return Math.random()*(t-e)+e}},{key:"range",value:function(e){return this.randomInt(-e,e)}},{key:"clamp",value:function(e,t,i,n,r){return e<t?e=void 0==n?t:n:e>i&&(e=void 0==r?i:r),e}},{key:"lerp",value:function(e,t,i){return i=i<0?0:i,i=i>1?1:i,e+(t-e)*i}},{key:"outExpo",value:function(e){return 1==e?1:-Math.pow(2,-10*e)+1}},{key:"outQuart",value:function(e){return--e,1-e*e*e*e}},{key:"inExpo",value:function(e){return 0==e?0:Math.pow(2,10*(e-1))}},{key:"setEvents",value:function(){}}]),e}();t["default"]=u},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,n,r){i(this,e),this.x=t,this.y=n,this.z=r,this.vx=t,this.vy=n,this.vz=r,this.defx=t,this.defy=n,this.defy2=n,this.defz=r,this.cnt=0}return n(e,[{key:"setup",value:function(){}},{key:"setEvents",value:function(){}}]),e}();t["default"]=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.setup()}return n(e,[{key:"setup",value:function(){this.obj=new THREE.Group,this.lightObj=new THREE.Group,this.bp=768;var e=$(".canvas").width();this.w=e;var t=$(".canvas").height(),i=this.bp>=e?55:140;this.num=Math.ceil(e/i),this.obj.position.x=.5*(e-this.num*i),this.lightObj.position.x=.5*(e-this.num*i),this.obj.position.z=-10,this.lightObj.position.z=-10;for(var n=0;n<this.num;n++){var r=this.getObj({index:n,width:e,height:t,length:i}),a=this.getObj({index:n,width:e,height:t,length:i,opacity:.15});this.obj.add(r),this.lightObj.add(a)}}},{key:"getObj",value:function(e){var t=e.index,i=e.width,n=e.height,r=e.length,a=e.opacity,o=void 0===a?1:a,s=e.dashOffset,l=void 0===s?0:s,u=new MeshLineMaterial({color:new THREE.Color(10461087),lineWidth:this.bp>=i?2:1,opacity:o,transparent:!0,dashOffset:l,dashArray:2*n,dashRatio:.99}),c=[],h=.5*-i;c.push(h+t*r,.5*n,-1),c.push(h+t*r,.5*-n,-1);var d=new MeshLine;d.setGeometry(c);var p=new THREE.Mesh(d.geometry,u);return p}},{key:"show",value:function(){var e=new TimelineMax;$(".canvas").height(),.5*this.obj.children.length;return this.obj.children.forEach(function(t,i){e.to(t.material,.25,{opacity:.05,ease:Expo.easeIn},0),e.to(t.material,.7,{opacity:.005,ease:Expo.easeOut},.25),e.to(t.material.uniforms.dashOffset,2,{value:-2,ease:Expo.easeOut},.05)}),e.add(function(e){}),e}},{key:"timeline",value:function(){var e=this,t=this.lightObj.children.length,i=Math.floor(Math.random()*t),n=0,r=this.lightObj.children[i],a=new TimelineMax;a.to(r.material,.75,{opacity:.02,ease:Expo.easeOut},n),a.to(r.material.uniforms.dashOffset,.75,{value:-1,ease:Expo.easeOut},n).to(r.position,.75,{y:1.1*-window.innerHeight,ease:Expo.easeOut},n+.05+.2*Math.random()),a.add(function(t){r.material.uniforms.dashOffset.value=0,r.material.opacity=.15,r.position.y=0,e.timeline()},"+=1.5")}},{key:"resize",value:function(){var e=$(".canvas").width(),t=this.bp>=e?55:140,i=Math.ceil(e/t),n=$(".canvas").height();if(this.moveLine(e,t,n),i>this.num){for(var r=0;r<i-this.num;r++){var a=(new MeshLineMaterial({color:new THREE.Color(10461087),lineWidth:this.bp>=e?2:1,opacity:.005,transparent:!0,dashOffset:-2,dashArray:2*n,dashRatio:.99}),this.num+r),o=this.getObj({index:a,width:e,height:n,length:t,dashOffset:-2,opacity:.005}),s=this.getObj({index:a,width:e,height:n,length:t});this.obj.add(o),this.lightObj.add(s)}this.num=i}}},{key:"moveLine",value:function(e,t,i){for(var n=this.obj.children.length,r=0;r<n;r++){var a=this.obj.children[r];a.geometry.dispose();var o=[],s=.5*-e;o.push(s+r*t,.5*i,-1),o.push(s+r*t,.5*-i,-1);var l=new MeshLine;l.setGeometry(o),a.geometry=l.geometry,a.material.lineWidth=this.bp>=e?2:1}for(var u=0;u<n;u++){var c=this.lightObj.children[u];c.geometry.dispose();var h=[],d=.5*-e;h.push(d+u*t,.5*i,-1),h.push(d+u*t,.5*-i,-1);var p=new MeshLine;p.setGeometry(h),c.geometry=p.geometry,c.material.lineWidth=this.bp>=e?2:1}}},{key:"update",value:function(e){var t=e.posi,i=e.depth;this.obj.position.z=t-i,this.lightObj.position.z=t-i}}]),e}();t["default"]=r},function(e,t,i){!function(e,i){i(t)}(this,function(e){"use strict";function t(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}function i(e,t){var i=e.__state.conversionName.toString(),n=Math.round(e.r),r=Math.round(e.g),a=Math.round(e.b),o=e.a,s=Math.round(e.h),l=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===i||"SIX_CHAR_HEX"===i){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===i?"rgb("+n+","+r+","+a+")":"CSS_RGBA"===i?"rgba("+n+","+r+","+a+","+o+")":"HEX"===i?"0x"+e.hex.toString(16):"RGB_ARRAY"===i?"["+n+","+r+","+a+"]":"RGBA_ARRAY"===i?"["+n+","+r+","+a+","+o+"]":"RGB_OBJ"===i?"{r:"+n+",g:"+r+",b:"+a+"}":"RGBA_OBJ"===i?"{r:"+n+",g:"+r+",b:"+a+",a:"+o+"}":"HSV_OBJ"===i?"{h:"+s+",s:"+l+",v:"+u+"}":"HSVA_OBJ"===i?"{h:"+s+",s:"+l+",v:"+u+",a:"+o+"}":"unknown format"}function n(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(H.recalculateRGB(this,t,i),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(H.recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function r(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(H.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(H.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}function a(e){if("0"===e||P.isUndefined(e))return 0;var t=e.match($);return P.isNull(t)?0:parseFloat(t[1])}function o(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}function s(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}function l(e,t,i,n,r){return n+(r-n)*((e-t)/(i-t))}function u(e,t,i,n){e.style.background="",P.each(ie,function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+i+" 0%, "+n+" 100%); "})}function c(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}function h(e){setTimeout(e,1e3/60)}function d(e,t,i){var n=document.createElement("li");return t&&n.appendChild(t),i?e.__ul.insertBefore(n,i):e.__ul.appendChild(n),e.onResize(),n}function p(e){X.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&X.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function f(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];t?i.innerHTML=i.value+"*":i.innerHTML=i.value}function m(e,t,i){if(i.__li=t,i.__gui=e,P.extend(i,{options:function(t){if(arguments.length>1){var n=i.__li.nextElementSibling;return i.remove(),g(e,i.object,i.property,{before:n,factoryArgs:[P.toArray(arguments)]})}if(P.isArray(t)||P.isObject(t)){var r=i.__li.nextElementSibling;return i.remove(),g(e,i.object,i.property,{before:r,factoryArgs:[t]})}},name:function(e){return i.__li.firstElementChild.firstElementChild.innerHTML=e,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof J){var n=new K(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});P.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(e){var t=i[e],r=n[e];i[e]=n[e]=function(){var e=Array.prototype.slice.call(arguments);return r.apply(n,e),t.apply(i,e)}}),X.addClass(t,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof K){var r=function(t){if(P.isNumber(i.__min)&&P.isNumber(i.__max)){var n=i.__li.firstElementChild.firstElementChild.innerHTML,r=i.__gui.__listening.indexOf(i)>-1;i.remove();var a=g(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return a.name(n),r&&a.listen(),a}return t};i.min=P.compose(r,i.min),i.max=P.compose(r,i.max)}else i instanceof q?(X.bind(t,"click",function(){X.fakeEvent(i.__checkbox,"click")}),X.bind(i.__checkbox,"click",function(e){e.stopPropagation()})):i instanceof ee?(X.bind(t,"click",function(){X.fakeEvent(i.__button,"click")}),X.bind(t,"mouseover",function(){X.addClass(i.__button,"hover")}),X.bind(t,"mouseout",function(){X.removeClass(i.__button,"hover")})):i instanceof te&&(X.addClass(t,"color"),i.updateDisplay=P.compose(function(e){return t.style.borderLeftColor=i.__color.toString(),e},i.updateDisplay),i.updateDisplay());i.setValue=P.compose(function(t){return e.getRoot().__preset_select&&i.isModified()&&f(e.getRoot(),!0),t},i.setValue)}function v(e,t){var i=e.getRoot(),n=i.__rememberedObjects.indexOf(t.object);if(n!==-1){var r=i.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(r={},i.__rememberedObjectIndecesToControllers[n]=r),r[t.property]=t,i.load&&i.load.remembered){var a=i.load.remembered,o=void 0;if(a[e.preset])o=a[e.preset];else{if(!a[de])return;o=a[de]}if(o[n]&&void 0!==o[n][t.property]){var s=o[n][t.property];t.initialValue=s,t.setValue(s)}}}}function g(e,t,i,n){if(void 0===t[i])throw new Error('Object "'+t+'" has no property "'+i+'"');var r=void 0;if(n.color)r=new te(t,i);else{var a=[t,i].concat(n.factoryArgs);r=ae.apply(e,a)}n.before instanceof G&&(n.before=n.before.__li),v(e,r),X.addClass(r.domElement,"c");var o=document.createElement("span");X.addClass(o,"property-name"),o.innerHTML=r.property;var s=document.createElement("div");s.appendChild(o),s.appendChild(r.domElement);var l=d(e,s,n.before);return X.addClass(l,_e.CLASS_CONTROLLER_ROW),r instanceof te?X.addClass(l,"color"):X.addClass(l,z(r.getValue())),m(e,l,r),e.__controllers.push(r),r}function y(e,t){return document.location.href+"."+t}function _(e,t,i){var n=document.createElement("option");n.innerHTML=t,n.value=t,e.__preset_select.appendChild(n),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function b(e,t){t.style.display=e.useLocalStorage?"block":"none"}function x(e){var t=e.__save_row=document.createElement("li");X.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),X.addClass(t,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",X.addClass(i,"button gears");var n=document.createElement("span");n.innerHTML="Save",X.addClass(n,"button"),X.addClass(n,"save");var r=document.createElement("span");r.innerHTML="New",X.addClass(r,"button"),X.addClass(r,"save-as");var a=document.createElement("span");a.innerHTML="Revert",X.addClass(a,"button"),X.addClass(a,"revert");var o=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?P.each(e.load.remembered,function(t,i){_(e,i,i===e.preset)}):_(e,de,!1),X.bind(o,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(o),t.appendChild(i),t.appendChild(n),t.appendChild(r),t.appendChild(a),pe){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),u=document.getElementById("dg-save-locally");u.style.display="block","true"===localStorage.getItem(y(e,"isLocal"))&&l.setAttribute("checked","checked"),b(e,s),X.bind(l,"change",function(){e.useLocalStorage=!e.useLocalStorage,b(e,s)})}var c=document.getElementById("dg-new-constructor");X.bind(c,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||fe.hide()}),X.bind(i,"click",function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),fe.show(),c.focus(),c.select()}),X.bind(n,"click",function(){e.save()}),X.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),X.bind(a,"click",function(){e.revert()})}function w(e){function t(t){return t.preventDefault(),e.width+=r-t.clientX,e.onResize(),r=t.clientX,!1}function i(){X.removeClass(e.__closeButton,_e.CLASS_DRAG),X.unbind(window,"mousemove",t),X.unbind(window,"mouseup",i)}function n(n){return n.preventDefault(),r=n.clientX,X.addClass(e.__closeButton,_e.CLASS_DRAG),X.bind(window,"mousemove",t),X.bind(window,"mouseup",i),!1}var r=void 0;e.__resize_handle=document.createElement("div"),P.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),X.bind(e.__resize_handle,"mousedown",n),X.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function T(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function E(e,t){var i={};return P.each(e.__rememberedObjects,function(n,r){var a={},o=e.__rememberedObjectIndecesToControllers[r];P.each(o,function(e,i){a[i]=t?e.initialValue:e.getValue()}),i[r]=a}),i}function M(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}function S(e){0!==e.length&&oe.call(window,function(){S(e)}),P.each(e,function(e){e.updateDisplay()})}var C=Array.prototype.forEach,A=Array.prototype.slice,P={BREAK:{},extend:function(e){return this.each(A.call(arguments,1),function(t){var i=this.isObject(t)?Object.keys(t):[];i.forEach(function(i){this.isUndefined(t[i])||(e[i]=t[i])}.bind(this))},this),e},defaults:function(e){return this.each(A.call(arguments,1),function(t){var i=this.isObject(t)?Object.keys(t):[];i.forEach(function(i){this.isUndefined(e[i])&&(e[i]=t[i])}.bind(this))},this),e},compose:function(){var e=A.call(arguments);return function(){for(var t=A.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},each:function(e,t,i){if(e)if(C&&e.forEach&&e.forEach===C)e.forEach(t,i);else if(e.length===e.length+0){var n=void 0,r=void 0;for(n=0,r=e.length;n<r;n++)if(n in e&&t.call(i,e[n],n)===this.BREAK)return}else for(var a in e)if(t.call(i,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n=void 0;return function(){function r(){n=null,i||e.apply(a,o)}var a=this,o=arguments,s=i||!n;clearTimeout(n),n=setTimeout(r,t),s&&e.apply(a,o)}},toArray:function(e){return e.toArray?e.toArray():A.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},O=[{litmus:P.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:i},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:i},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:i},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:i}}},{litmus:P.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:P.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:P.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(P.isNumber(e.r)&&P.isNumber(e.g)&&P.isNumber(e.b)&&P.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(P.isNumber(e.r)&&P.isNumber(e.g)&&P.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(P.isNumber(e.h)&&P.isNumber(e.s)&&P.isNumber(e.v)&&P.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(P.isNumber(e.h)&&P.isNumber(e.s)&&P.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],L=void 0,R=void 0,k=function(){R=!1;var e=arguments.length>1?P.toArray(arguments):arguments[0];return P.each(O,function(t){if(t.litmus(e))return P.each(t.conversions,function(t,i){if(L=t.read(e),R===!1&&L!==!1)return R=L,L.conversionName=i,L.conversion=t,P.BREAK}),P.BREAK}),R},D=void 0,I={hsv_to_rgb:function(e,t,i){var n=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),a=i*(1-t),o=i*(1-r*t),s=i*(1-(1-r)*t),l=[[i,s,a],[o,i,a],[a,i,s],[a,o,i],[s,a,i],[i,a,o]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,i){var n=Math.min(e,t,i),r=Math.max(e,t,i),a=r-n,o=void 0,s=void 0;return 0===r?{h:NaN,s:0,v:0}:(s=a/r,o=e===r?(t-i)/a:t===r?2+(i-e)/a:4+(e-t)/a,o/=6,o<0&&(o+=1),{h:360*o,s:s,v:r/255})},rgb_to_hex:function(e,t,i){var n=this.hex_with_component(0,2,e);return n=this.hex_with_component(n,1,t),n=this.hex_with_component(n,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,i){return i<<(D=8*t)|e&~(255<<D)}},z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},B=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),F=function Se(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:Se(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},U=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},H=function(){function e(){if(N(this,e),this.__state=k.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return B(e,[{key:"toString",value:function(){return i(this)}},{key:"toHexString",value:function(){return i(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();H.recalculateRGB=function(e,t,i){if("HEX"===e.__state.space)e.__state[t]=I.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");P.extend(e.__state,I.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},H.recalculateHSV=function(e){var t=I.rgb_to_hsv(e.r,e.g,e.b);P.extend(e.__state,{s:t.s,v:t.v}),P.isNaN(t.h)?P.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},H.COMPONENTS=["r","g","b","h","s","v","hex","a"],n(H.prototype,"r",2),n(H.prototype,"g",1),n(H.prototype,"b",0),r(H.prototype,"h"),r(H.prototype,"s"),r(H.prototype,"v"),Object.defineProperty(H.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(H.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=I.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var G=function(){function e(t,i){N(this,e),this.initialValue=t[i],this.domElement=document.createElement("div"),this.object=t,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return B(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),V={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},W={};P.each(V,function(e,t){P.each(e,function(e){W[e]=t})});var $=/(\d+(\.\d+)?)px/,X={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,i){var n=i,r=t;P.isUndefined(r)&&(r=!0),P.isUndefined(n)&&(n=!0),e.style.position="absolute",r&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,i,n){var r=i||{},a=W[t];if(!a)throw new Error("Event type "+t+" not supported.");var o=document.createEvent(a);switch(a){case"MouseEvents":var s=r.x||r.clientX||0,l=r.y||r.clientY||0;o.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=o.initKeyboardEvent||o.initKeyEvent;P.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:o.initEvent(t,r.bubbles||!1,r.cancelable||!0)}P.defaults(o,n),e.dispatchEvent(o)},bind:function(e,t,i,n){var r=n||!1;return e.addEventListener?e.addEventListener(t,i,r):e.attachEvent&&e.attachEvent("on"+t,i),X},unbind:function(e,t,i,n){var r=n||!1;return e.removeEventListener?e.removeEventListener(t,i,r):e.detachEvent&&e.detachEvent("on"+t,i),X},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);i.indexOf(t)===-1&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return X},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),n=i.indexOf(t);n!==-1&&(i.splice(n,1),e.className=i.join(" "))}else e.className=void 0;return X},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return a(t["border-left-width"])+a(t["border-right-width"])+a(t["padding-left"])+a(t["padding-right"])+a(t.width)},getHeight:function(e){var t=getComputedStyle(e);return a(t["border-top-width"])+a(t["border-bottom-width"])+a(t["padding-top"])+a(t["padding-bottom"])+a(t.height)},getOffset:function(e){var t=e,i={left:0,top:0};if(t.offsetParent)do i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent;while(t);return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},q=function(e){function t(e,i){function n(){a.setValue(!a.__prev)}N(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),a=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),X.bind(r.__checkbox,"change",n,!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return U(t,e),B(t,[{key:"setValue",value:function(e){var i=F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(G),Y=function(e){function t(e,i,n){N(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),a=n,o=r;
if(r.__select=document.createElement("select"),P.isArray(a)){var s={};P.each(a,function(e){s[e]=e}),a=s}return P.each(a,function(e,t){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",e),o.__select.appendChild(i)}),r.updateDisplay(),X.bind(r.__select,"change",function(){var e=this.options[this.selectedIndex].value;o.setValue(e)}),r.domElement.appendChild(r.__select),r}return U(t,e),B(t,[{key:"setValue",value:function(e){var i=F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return X.isActive(this.__select)?this:(this.__select.value=this.getValue(),F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(G),Z=function(e){function t(e,i){function n(){o.setValue(o.__input.value)}function r(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}N(this,t);var a=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),o=a;return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),X.bind(a.__input,"keyup",n),X.bind(a.__input,"change",n),X.bind(a.__input,"blur",r),X.bind(a.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return U(t,e),B(t,[{key:"updateDisplay",value:function(){return X.isActive(this.__input)||(this.__input.value=this.getValue()),F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(G),Q=function(e){function t(e,i,n){N(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),a=n||{};return r.__min=a.min,r.__max=a.max,r.__step=a.step,P.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=o(r.__impliedStep),r}return U(t,e),B(t,[{key:"setValue",value:function(e){var i=e;return void 0!==this.__min&&i<this.__min?i=this.__min:void 0!==this.__max&&i>this.__max&&(i=this.__max),void 0!==this.__step&&i%this.__step!==0&&(i=Math.round(i/this.__step)*this.__step),F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=o(e),this}}]),t}(G),K=function(e){function t(e,i,n){function r(){var e=parseFloat(h.__input.value);P.isNaN(e)||h.setValue(e)}function a(){h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function o(){a()}function s(e){var t=d-e.clientY;h.setValue(h.getValue()+t*h.__impliedStep),d=e.clientY}function l(){X.unbind(window,"mousemove",s),X.unbind(window,"mouseup",l),a()}function u(e){X.bind(window,"mousemove",s),X.bind(window,"mouseup",l),d=e.clientY}N(this,t);var c=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n));c.__truncationSuspended=!1;var h=c,d=void 0;return c.__input=document.createElement("input"),c.__input.setAttribute("type","text"),X.bind(c.__input,"change",r),X.bind(c.__input,"blur",o),X.bind(c.__input,"mousedown",u),X.bind(c.__input,"keydown",function(e){13===e.keyCode&&(h.__truncationSuspended=!0,this.blur(),h.__truncationSuspended=!1,a())}),c.updateDisplay(),c.domElement.appendChild(c.__input),c}return U(t,e),B(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():s(this.getValue(),this.__precision),F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Q),J=function(e){function t(e,i,n,r,a){function o(e){document.activeElement.blur(),X.bind(window,"mousemove",s),X.bind(window,"mouseup",u),s(e)}function s(e){e.preventDefault();var t=f.__background.getBoundingClientRect();return f.setValue(l(e.clientX,t.left,t.right,f.__min,f.__max)),!1}function u(){X.unbind(window,"mousemove",s),X.unbind(window,"mouseup",u),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function c(e){1===e.touches.length&&(X.bind(window,"touchmove",h),X.bind(window,"touchend",d),h(e))}function h(e){var t=e.touches[0].clientX,i=f.__background.getBoundingClientRect();f.setValue(l(t,i.left,i.right,f.__min,f.__max))}function d(){X.unbind(window,"touchmove",h),X.unbind(window,"touchend",d),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}N(this,t);var p=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,{min:n,max:r,step:a})),f=p;return p.__background=document.createElement("div"),p.__foreground=document.createElement("div"),X.bind(p.__background,"mousedown",o),X.bind(p.__background,"touchstart",c),X.addClass(p.__background,"slider"),X.addClass(p.__foreground,"slider-fg"),p.updateDisplay(),p.__background.appendChild(p.__foreground),p.domElement.appendChild(p.__background),p}return U(t,e),B(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Q),ee=function(e){function t(e,i,n){N(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),a=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===n?"Fire":n,X.bind(r.__button,"click",function(e){return e.preventDefault(),a.fire(),!1}),X.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return U(t,e),B(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(G),te=function(e){function t(e,i){function n(e){h(e),X.bind(window,"mousemove",h),X.bind(window,"touchmove",h),X.bind(window,"mouseup",a),X.bind(window,"touchend",a)}function r(e){d(e),X.bind(window,"mousemove",d),X.bind(window,"touchmove",d),X.bind(window,"mouseup",o),X.bind(window,"touchend",o)}function a(){X.unbind(window,"mousemove",h),X.unbind(window,"touchmove",h),X.unbind(window,"mouseup",a),X.unbind(window,"touchend",a),l()}function o(){X.unbind(window,"mousemove",d),X.unbind(window,"touchmove",d),X.unbind(window,"mouseup",o),X.unbind(window,"touchend",o),l()}function s(){var e=k(this.value);e!==!1?(f.__color.__state=e,f.setValue(f.__color.toOriginal())):this.value=f.__color.toString()}function l(){f.__onFinishChange&&f.__onFinishChange.call(f,f.__color.toOriginal())}function h(e){e.type.indexOf("touch")===-1&&e.preventDefault();var t=f.__saturation_field.getBoundingClientRect(),i=e.touches&&e.touches[0]||e,n=i.clientX,r=i.clientY,a=(n-t.left)/(t.right-t.left),o=1-(r-t.top)/(t.bottom-t.top);return o>1?o=1:o<0&&(o=0),a>1?a=1:a<0&&(a=0),f.__color.v=o,f.__color.s=a,f.setValue(f.__color.toOriginal()),!1}function d(e){e.type.indexOf("touch")===-1&&e.preventDefault();var t=f.__hue_field.getBoundingClientRect(),i=e.touches&&e.touches[0]||e,n=i.clientY,r=1-(n-t.top)/(t.bottom-t.top);return r>1?r=1:r<0&&(r=0),f.__color.h=360*r,f.setValue(f.__color.toOriginal()),!1}N(this,t);var p=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));p.__color=new H(p.getValue()),p.__temp=new H(0);var f=p;p.domElement=document.createElement("div"),X.makeSelectable(p.domElement,!1),p.__selector=document.createElement("div"),p.__selector.className="selector",p.__saturation_field=document.createElement("div"),p.__saturation_field.className="saturation-field",p.__field_knob=document.createElement("div"),p.__field_knob.className="field-knob",p.__field_knob_border="2px solid ",p.__hue_knob=document.createElement("div"),p.__hue_knob.className="hue-knob",p.__hue_field=document.createElement("div"),p.__hue_field.className="hue-field",p.__input=document.createElement("input"),p.__input.type="text",p.__input_textShadow="0 1px 1px ",X.bind(p.__input,"keydown",function(e){13===e.keyCode&&s.call(this)}),X.bind(p.__input,"blur",s),X.bind(p.__selector,"mousedown",function(){X.addClass(this,"drag").bind(window,"mouseup",function(){X.removeClass(f.__selector,"drag")})}),X.bind(p.__selector,"touchstart",function(){X.addClass(this,"drag").bind(window,"touchend",function(){X.removeClass(f.__selector,"drag")})});var m=document.createElement("div");return P.extend(p.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),P.extend(p.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:p.__field_knob_border+(p.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),P.extend(p.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),P.extend(p.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),P.extend(m.style,{width:"100%",height:"100%",background:"none"}),u(m,"top","rgba(0,0,0,0)","#000"),P.extend(p.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),c(p.__hue_field),P.extend(p.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:p.__input_textShadow+"rgba(0,0,0,0.7)"}),X.bind(p.__saturation_field,"mousedown",n),X.bind(p.__saturation_field,"touchstart",n),X.bind(p.__field_knob,"mousedown",n),X.bind(p.__field_knob,"touchstart",n),X.bind(p.__hue_field,"mousedown",r),X.bind(p.__hue_field,"touchstart",r),p.__saturation_field.appendChild(m),p.__selector.appendChild(p.__field_knob),p.__selector.appendChild(p.__saturation_field),p.__selector.appendChild(p.__hue_field),p.__hue_field.appendChild(p.__hue_knob),p.domElement.appendChild(p.__input),p.domElement.appendChild(p.__selector),p.updateDisplay(),p}return U(t,e),B(t,[{key:"updateDisplay",value:function(){var e=k(this.getValue());if(e!==!1){var t=!1;P.each(H.COMPONENTS,function(i){if(!P.isUndefined(e[i])&&!P.isUndefined(this.__color.__state[i])&&e[i]!==this.__color.__state[i])return t=!0,{}},this),t&&P.extend(this.__color.__state,e)}P.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,n=255-i;P.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,u(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),P.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})}}]),t}(G),ie=["-moz-","-o-","-webkit-","-ms-",""],ne={load:function(e,t){var i=t||document,n=i.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,i.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){var i=t||document,n=document.createElement("style");n.type="text/css",n.innerHTML=e;var r=i.getElementsByTagName("head")[0];try{r.appendChild(n)}catch(a){}}},re='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',ae=function(e,t){var i=e[t];return P.isArray(arguments[2])||P.isObject(arguments[2])?new Y(e,t,arguments[2]):P.isNumber(i)?P.isNumber(arguments[2])&&P.isNumber(arguments[3])?P.isNumber(arguments[4])?new J(e,t,arguments[2],arguments[3],arguments[4]):new J(e,t,arguments[2],arguments[3]):P.isNumber(arguments[4])?new K(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new K(e,t,{min:arguments[2],max:arguments[3]}):P.isString(i)?new Z(e,t):P.isFunction(i)?new ee(e,t,""):P.isBoolean(i)?new q(e,t):null},oe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||h,se=function(){function e(){N(this,e),this.backgroundElement=document.createElement("div"),P.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),X.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),P.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;X.bind(this.backgroundElement,"click",function(){t.hide()})}return B(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),P.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function t(){var e=this,t=function i(){e.domElement.style.display="none",e.backgroundElement.style.display="none",X.unbind(e.domElement,"webkitTransitionEnd",i),X.unbind(e.domElement,"transitionend",i),X.unbind(e.domElement,"oTransitionEnd",i)};X.bind(this.domElement,"webkitTransitionEnd",t),X.bind(this.domElement,"transitionend",t),X.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-X.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-X.getHeight(this.domElement)/2+"px"}}]),e}(),le=t(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");ne.inject(le);var ue="dg",ce=72,he=20,de="Default",pe=function(){try{return!!window.localStorage}catch(e){return!1}}(),fe=void 0,me=!0,ve=void 0,ge=!1,ye=[],_e=function Ce(e){function t(){var e=i.getRoot();e.width+=1,P.defer(function(){e.width-=1})}var i=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),X.addClass(this.domElement,ue),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=P.defaults(n,{closeOnTop:!1,autoPlace:!0,width:Ce.DEFAULT_WIDTH}),n=P.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),P.isUndefined(n.load)?n.load={preset:de}:n.preset&&(n.load.preset=n.preset),P.isUndefined(n.parent)&&n.hideable&&ye.push(this),n.resizable=P.isUndefined(n.parent)&&n.resizable,n.autoPlace&&P.isUndefined(n.scrollable)&&(n.scrollable=!0);var r=pe&&"true"===localStorage.getItem(y(this,"isLocal")),a=void 0,o=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:n.load.preset},set:function(e){i.parent?i.getRoot().preset=e:n.load.preset=e,M(this),i.revert()}},width:{get:function(){return n.width},set:function(e){n.width=e,T(i,e)}},name:{get:function(){return n.name},set:function(e){n.name=e,o&&(o.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(e){n.closed=e,n.closed?X.addClass(i.__ul,Ce.CLASS_CLOSED):X.removeClass(i.__ul,Ce.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=e?Ce.TEXT_OPEN:Ce.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return r},set:function(e){pe&&(r=e,e?X.bind(window,"unload",a):X.unbind(window,"unload",a),localStorage.setItem(y(i,"isLocal"),e))}}}),P.isUndefined(n.parent)){if(this.closed=n.closed||!1,X.addClass(this.domElement,Ce.CLASS_MAIN),X.makeSelectable(this.domElement,!1),pe&&r){i.useLocalStorage=!0;var s=localStorage.getItem(y(this,"gui"));s&&(n.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=Ce.TEXT_CLOSED,X.addClass(this.__closeButton,Ce.CLASS_CLOSE_BUTTON),n.closeOnTop?(X.addClass(this.__closeButton,Ce.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(X.addClass(this.__closeButton,Ce.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),X.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{void 0===n.closed&&(n.closed=!0);var l=document.createTextNode(n.name);X.addClass(l,"controller-name"),o=d(i,l);var u=function(e){return e.preventDefault(),i.closed=!i.closed,!1};X.addClass(this.__ul,Ce.CLASS_CLOSED),X.addClass(o,"title"),X.bind(o,"click",u),n.closed||(this.closed=!1)}n.autoPlace&&(P.isUndefined(n.parent)&&(me&&(ve=document.createElement("div"),X.addClass(ve,ue),X.addClass(ve,Ce.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ve),me=!1),ve.appendChild(this.domElement),X.addClass(this.domElement,Ce.CLASS_AUTO_PLACE)),this.parent||T(i,n.width)),this.__resizeHandler=function(){i.onResizeDebounced()},X.bind(window,"resize",this.__resizeHandler),X.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),X.bind(this.__ul,"transitionend",this.__resizeHandler),X.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&w(this),a=function(){pe&&"true"===localStorage.getItem(y(i,"isLocal"))&&localStorage.setItem(y(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=a,n.parent||t()};_e.toggleHide=function(){ge=!ge,P.each(ye,function(e){e.domElement.style.display=ge?"none":""})},_e.CLASS_AUTO_PLACE="a",_e.CLASS_AUTO_PLACE_CONTAINER="ac",_e.CLASS_MAIN="main",_e.CLASS_CONTROLLER_ROW="cr",_e.CLASS_TOO_TALL="taller-than-window",_e.CLASS_CLOSED="closed",_e.CLASS_CLOSE_BUTTON="close-button",_e.CLASS_CLOSE_TOP="close-top",_e.CLASS_CLOSE_BOTTOM="close-bottom",_e.CLASS_DRAG="drag",_e.DEFAULT_WIDTH=245,_e.TEXT_CLOSED="Close Controls",_e.TEXT_OPEN="Open Controls",_e._keydownHandler=function(e){"text"===document.activeElement.type||e.which!==ce&&e.keyCode!==ce||_e.toggleHide()},X.bind(window,"keydown",_e._keydownHandler,!1),P.extend(_e.prototype,{add:function(e,t){return g(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return g(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;P.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ve.removeChild(this.domElement);var e=this;P.each(this.__folders,function(t){e.removeFolder(t)}),X.unbind(window,"keydown",_e._keydownHandler,!1),p(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var i=new _e(t);this.__folders[e]=i;var n=d(this,i.domElement);return X.addClass(n,"folder"),i},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],p(e);var t=this;P.each(e.__folders,function(t){e.removeFolder(t)}),P.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=X.getOffset(e.__ul).top,i=0;P.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(i+=X.getHeight(t))}),window.innerHeight-t-he<i?(X.addClass(e.domElement,_e.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-he+"px"):(X.removeClass(e.domElement,_e.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&P.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:P.debounce(function(){this.onResize()},50),remember:function(){if(P.isUndefined(fe)&&(fe=new se,fe.domElement.innerHTML=re),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;P.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&x(e),e.__rememberedObjects.indexOf(t)===-1&&e.__rememberedObjects.push(t)}),this.autoPlace&&T(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=E(this)),e.folders={},P.each(this.__folders,function(t,i){e.folders[i]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=E(this),f(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[de]=E(this,!0)),this.load.remembered[e]=E(this),this.preset=e,_(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){P.each(this.__controllers,function(t){this.getRoot().load.remembered?v(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),P.each(this.__folders,function(e){e.revert(e)}),e||f(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&S(this.__listening)},updateDisplay:function(){P.each(this.__controllers,function(e){e.updateDisplay()}),P.each(this.__folders,function(e){e.updateDisplay()})}});var be={Color:H,math:I,interpret:k},xe={Controller:G,BooleanController:q,OptionController:Y,StringController:Z,NumberController:Q,NumberControllerBox:K,NumberControllerSlider:J,FunctionController:ee,ColorController:te},we={dom:X},Te={GUI:_e},Ee=_e,Me={color:be,controllers:xe,dom:we,gui:Te,GUI:Ee};e.color=be,e.controllers=xe,e.dom=we,e.gui=Te,e.GUI=Ee,e["default"]=Me,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(39),c=n(u),h=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"init",value:function(){this.name="DomController",this.ft=$(".footer").height()}},{key:"show",value:function(e){var t=($(".header"),$(".index-kv-inner.def")),i=$(".index-kv-inner.line"),n=$(".header-logo"),r=($(".header-menu-btn"),t.find(".index-kv-lead")),a=t.find(".index-kv-title"),o=i.find(".index-kv-lead"),s=i.find(".index-kv-title"),l=new TimelineMax;TweenMax.set(a,{x:100}),TweenMax.set(s,{x:100}),TweenMax.set(r,{x:20}),TweenMax.set(o,{x:20}),l.to(a,.01,{opacity:1,ease:Expo.easeOut},0).to(a,.9,{x:0,ease:Expo.easeOut},0).to(s,.01,{opacity:1,ease:Expo.easeOut},0).to(s,.9,{x:0,ease:Expo.easeOut},.05).to(r,1.5,{x:0,opacity:1,ease:Expo.easeOut},.2).to(s,.9,{opacity:0,ease:Power2.easeInOut},.2).to(n,1,{opacity:1,y:0,ease:Expo.easeOut},.7).add(e(),.7)}},{key:"update",value:function(){}},{key:"canvasStop",value:function(e){}},{key:"setEvent",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__setUpdateFlag",this).call(this,!1)}},{key:"reset",value:function(){}}]),t}(c["default"]);t["default"]=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(57),s=n(o),l=function(){function e(){r(this,e),this.setup(),this.setEvents()}return a(e,[{key:"setup",value:function(){var e=s["default"].get("isAllowCookie");"undefined"==typeof e?this.isCookieShow=!0:this.isCookieShow=!1}},{key:"show",value:function(){if(!this.isCookieShow)return void $(".cookie").remove();var e=new TimelineMax;e.to(".cookie",.5,{opacity:1,ease:Expo.easeOut
})}},{key:"hide",value:function(){var e=new TimelineMax;e.to(".cookie",.5,{opacity:0,ease:Expo.easeOut,onComplete:function(){$(".cookie").remove()}})}},{key:"setEvents",value:function(){var e=this;$(".cookie .btn").on("click",function(t){return t.currentTarget.classList.contains("btn-primary")?s["default"].set("isAllowCookie","1",{expires:31}):s["default"].set("isAllowCookie","0",{expires:31}),e.hide(),!1})}}]),e}();t["default"]=l},function(e,t,i){var n,r;!function(a){var o;if(n=a,r="function"==typeof n?n.call(t,i,t,e):n,!(void 0!==r&&(e.exports=r)),o=!0,e.exports=a(),o=!0,!o){var s=window.Cookies,l=window.Cookies=a();l.noConflict=function(){return window.Cookies=s,l}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(n){function r(){}function a(t,i,a){if("undefined"!=typeof document){a=e({path:"/"},r.defaults,a),"number"==typeof a.expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(i);/^[\{\[]/.test(o)&&(i=o)}catch(s){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var u in a)a[u]&&(l+="; "+u,a[u]!==!0&&(l+="="+a[u].split(";")[0]));return document.cookie=t+"="+i+l}}function o(e,i){if("undefined"!=typeof document){for(var r={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),l=s.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var u=t(s[0]);if(l=(n.read||n)(l,u)||t(l),i)try{l=JSON.parse(l)}catch(c){}if(r[u]=l,e===u)break}catch(c){}}return e?r[e]:r}}return r.set=a,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,i){a(t,"",e(i,{expires:-1}))},r.defaults={},r.withConverter=i,r}return i(function(){})})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function d(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},u=i(15),c=n(u),h=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.$ele=e,n.targetClass=i,n.setup(),n.setEvents(),n}return o(t,e),s(t,[{key:"setup",value:function(){this.bp=1364,this.scroll()}},{key:"scroll",value:function(){if(!(this.bp<=window.innerWidth)){var e=$(window).scrollTop(),t=this.$ele.height(),i=!1;$(this.targetClass).each(function(n,r){var a=$(r).offset().top,o=$(r).outerHeight();a-e<t&&a+o-e>t&&(i=!0)}),this.$ele.toggleClass("is-blue",i)}}},{key:"setEvents",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setEvents",this).call(this),$(window).on("scroll",function(t){e.scroll()})}}]),t}(c["default"]);t["default"]=h},function(e,t,i){var n;!function(r,a){"use strict";var o="0.7.17",s="",l="?",u="function",c="undefined",h="object",d="string",p="major",f="model",m="name",v="type",g="vendor",y="version",_="architecture",b="console",x="mobile",w="tablet",T="smarttv",E="wearable",M="embedded",S={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2===0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===d?e.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={rgx:function(e,t){for(var i,n,r,o,s,l,c=0;c<t.length&&!s;){var d=t[c],p=t[c+1];for(i=n=0;i<d.length&&!s;)if(s=d[i++].exec(e))for(r=0;r<p.length;r++)l=s[++n],o=p[r],typeof o===h&&o.length>0?2==o.length?typeof o[1]==u?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3==o.length?typeof o[1]!==u||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):a:this[o[0]]=l?o[1].call(this,l,o[2]):a:4==o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):a):this[o]=l?l:a;c+=2}},str:function(e,t){for(var i in t)if(typeof t[i]===h&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(S.has(t[i][n],e))return i===l?a:i}else if(S.has(t[i],e))return i===l?a:i;return e}},A={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},P={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[m,y],[/(opios)[\/\s]+([\w\.]+)/i],[[m,"Opera Mini"],y],[/\s(opr)\/([\w\.]+)/i],[[m,"Opera"],y],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[m,y],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[m,"IE"],y],[/(edge)\/((\d+)?[\w\.]+)/i],[m,y],[/(yabrowser)\/([\w\.]+)/i],[[m,"Yandex"],y],[/(puffin)\/([\w\.]+)/i],[[m,"Puffin"],y],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[m,"UCBrowser"],y],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],y],[/(micromessenger)\/([\w\.]+)/i],[[m,"WeChat"],y],[/(QQ)\/([\d\.]+)/i],[m,y],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[m,y],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[y,[m,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[y,[m,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[y,[m,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[m,/(.+)/,"$1 WebView"],y],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[m,/(.+(?:g|us))(.+)/,"$1 $2"],y],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[y,[m,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[m,y],[/(dolfin)\/([\w\.]+)/i],[[m,"Dolphin"],y],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[m,"Chrome"],y],[/(coast)\/([\w\.]+)/i],[[m,"Opera Coast"],y],[/fxios\/([\w\.-]+)/i],[y,[m,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[y,[m,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[y,m],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[m,"GSA"],y],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[m,[y,C.str,A.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[m,y],[/(navigator|netscape)\/([\w\.-]+)/i],[[m,"Netscape"],y],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[m,y]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[_,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[_,S.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[f,g,[v,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[f,[g,"Apple"],[v,w]],[/(apple\s{0,1}tv)/i],[[f,"Apple TV"],[g,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[g,f,[v,w]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[f,[g,"Amazon"],[v,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[f,C.str,A.device.amazon.model],[g,"Amazon"],[v,x]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[f,g,[v,x]],[/\((ip[honed|\s\w*]+);/i],[f,[g,"Apple"],[v,x]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[g,f,[v,x]],[/\(bb10;\s(\w+)/i],[f,[g,"BlackBerry"],[v,x]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[f,[g,"Asus"],[v,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[g,"Sony"],[f,"Xperia Tablet"],[v,w]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[f,[g,"Sony"],[v,x]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[g,f,[v,b]],[/android.+;\s(shield)\sbuild/i],[f,[g,"Nvidia"],[v,b]],[/(playstation\s[34portablevi]+)/i],[f,[g,"Sony"],[v,b]],[/(sprint\s(\w+))/i],[[g,C.str,A.device.sprint.vendor],[f,C.str,A.device.sprint.model],[v,x]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[g,f,[v,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[g,[f,/_/g," "],[v,x]],[/(nexus\s9)/i],[f,[g,"HTC"],[v,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[f,[g,"Huawei"],[v,x]],[/(microsoft);\s(lumia[\s\w]+)/i],[g,f,[v,x]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[f,[g,"Microsoft"],[v,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,"Microsoft"],[v,x]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[f,[g,"Motorola"],[v,x]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[f,[g,"Motorola"],[v,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[g,S.trim],[f,S.trim],[v,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,"Samsung"],[v,T]],[/\(dtv[\);].+(aquos)/i],[f,[g,"Sharp"],[v,T]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[g,"Samsung"],f,[v,w]],[/smart-tv.+(samsung)/i],[g,[v,T],f],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[g,"Samsung"],f,[v,x]],[/sie-(\w+)*/i],[f,[g,"Siemens"],[v,x]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[g,"Nokia"],f,[v,x]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[f,[g,"Acer"],[v,w]],[/android.+([vl]k\-?\d{3})\s+build/i],[f,[g,"LG"],[v,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[g,"LG"],f,[v,w]],[/(lg) netcast\.tv/i],[g,f,[v,T]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[f,[g,"LG"],[v,x]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[f,[g,"Lenovo"],[v,w]],[/linux;.+((jolla));/i],[g,f,[v,x]],[/((pebble))app\/[\d\.]+\s/i],[g,f,[v,E]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[g,f,[v,x]],[/crkey/i],[[f,"Chromecast"],[g,"Google"]],[/android.+;\s(glass)\s\d/i],[f,[g,"Google"],[v,E]],[/android.+;\s(pixel c)\s/i],[f,[g,"Google"],[v,w]],[/android.+;\s(pixel xl|pixel)\s/i],[f,[g,"Google"],[v,x]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[f,/_/g," "],[g,"Xiaomi"],[v,x]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[f,/_/g," "],[g,"Xiaomi"],[v,w]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[f,[g,"Meizu"],[v,w]],[/android.+a000(1)\s+build/i],[f,[g,"OnePlus"],[v,x]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[f,[g,"RCA"],[v,w]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[f,[g,"Dell"],[v,w]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[f,[g,"Verizon"],[v,w]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[g,"Barnes & Noble"],f,[v,w]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[f,[g,"NuVision"],[v,w]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[g,"ZTE"],f,[v,w]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[f,[g,"Swiss"],[v,x]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[f,[g,"Swiss"],[v,w]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[f,[g,"Zeki"],[v,w]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[g,"Dragon Touch"],f,[v,w]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[f,[g,"Insignia"],[v,w]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[f,[g,"NextBook"],[v,w]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[g,"Voice"],f,[v,x]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[g,"LvTel"],f,[v,x]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[f,[g,"Envizen"],[v,w]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[g,f,[v,w]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[f,[g,"MachSpeed"],[v,w]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[g,f,[v,w]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[f,[g,"Rotor"],[v,w]],[/android.+(KS(.+))\s+build/i],[f,[g,"Amazon"],[v,w]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[g,f,[v,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[v,S.lowerize],g,f],[/(android.+)[;\/].+build/i],[f,[g,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[y,[m,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[m,y],[/rv\:([\w\.]+).*(gecko)/i],[y,m]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[m,y],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[m,[y,C.str,A.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[m,"Windows"],[y,C.str,A.os.windows.version]],[/\((bb)(10);/i],[[m,"BlackBerry"],y],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[m,y],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[m,"Symbian"],y],[/\((series40);/i],[m],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[m,"Firefox OS"],y],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[m,y],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[m,"Chromium OS"],y],[/(sunos)\s?([\w\.]+\d)*/i],[[m,"Solaris"],y],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[m,y],[/(haiku)\s(\w+)/i],[m,y],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[y,/_/g,"."],[m,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[m,"Mac OS"],[y,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[m,y]]},O=function(e,t){if("object"==typeof e&&(t=e,e=a),!(this instanceof O))return new O(e,t).getResult();var i=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:s),n=t?S.extend(P,t):P;return this.getBrowser=function(){var e={name:a,version:a};return C.rgx.call(e,i,n.browser),e.major=S.major(e.version),e},this.getCPU=function(){var e={architecture:a};return C.rgx.call(e,i,n.cpu),e},this.getDevice=function(){var e={vendor:a,model:a,type:a};return C.rgx.call(e,i,n.device),e},this.getEngine=function(){var e={name:a,version:a};return C.rgx.call(e,i,n.engine),e},this.getOS=function(){var e={name:a,version:a};return C.rgx.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};O.VERSION=o,O.BROWSER={NAME:m,MAJOR:p,VERSION:y},O.CPU={ARCHITECTURE:_},O.DEVICE={MODEL:f,VENDOR:g,TYPE:v,CONSOLE:b,MOBILE:x,SMARTTV:T,TABLET:w,WEARABLE:E,EMBEDDED:M},O.ENGINE={NAME:m,VERSION:y},O.OS={NAME:m,VERSION:y},typeof t!==c?(typeof e!==c&&e.exports&&(t=e.exports=O),t.UAParser=O):"function"===u&&i(60)?(n=function(){return O}.call(t,i,t,e),!(n!==a&&(e.exports=n))):r&&(r.UAParser=O);var L=r&&(r.jQuery||r.Zepto);if(typeof L!==c){var R=new O;L.ua=R.getResult(),L.ua.get=function(){return R.getUA()},L.ua.set=function(e){R.setUA(e);var t=R.getResult();for(var i in t)L.ua[i]=t[i]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})}]);